---
title: es6
date: 2017-04-12 18:54:22
tags: es6
categories: es6
excerpt: let 和 const 命令
---

先说一下 let 吧！

1. let 和 var 一样用来声明变量，但是不同的是：let 命令只在所在的代码块内有效(es5 没有块级作用域)
2. for 循环里面不要再用 var 了，要不然每次输出来的都是最后一个遍历出来的值
3. let 不存在变量提升，一定要先声明后使用，要不然报错；而 var 可以先使用再声明，输出来 undefined
4. 暂时性死区，只要进去作用域，所要使用的变量就已经存在了，但是不可以获取，只有等到变量声明了才可以获取和使用它
5. let 不允许在同一作用域内重复声明

<!-- more -->

为什么需要块级作用域呢？
@内层变量可能会覆盖外层变量
@用来计数的循环变量泄露为全局变量，很容易造成内存泄漏

下面再说说 const!

1. 用来声明常量，所以一旦声明变量，就必须立即初始化，不能留到以后赋值，只声明不赋值，就会报错
2. const 的作用域与 let 命令相同：只在声明所在的块级作用域内有效
3. const 命令声明的常量也是不提升，同样存在暂时性死区，只能在声明的位置后面使用
4. const 声明的常量，也与 let 一样不可重复声明

#### 结构先不说，比较简单，主要分为数组，对象，字符串，数值，布尔值，函数参数解构

看了一圈下来，关键是用途，总结一下：

1. 交换变量的值
2. 从函数返回多个值
3. 函数参数的定义
4. 提取 json 数据(我认为这个比较实用，拿出来可以直接放到视图)
5. 遍历 Map 结构

#### 字符串的扩展(下面几个是我认为能用到项目里面频率相对高的)

1. Unicode 表示法：eg:\u{1F680}
2. 遍历接口器，可以把字符串的每一个字符都遍历出来

```bash
    for (let codePoint of 'foo') {
        console.log(codePoint)
    }
    // "f"
    // "o"
    // "o"
```

3. at(),这个和 es5 的 charAt()差不多，并且能识别出来码点大于 0xFFFF 的字符
4. includes(),startsWith(),endsWith(),he es5 的 indexOf 方法差不多，它返回的是布尔值

```bash
    var s = 'Hello world!';

    s.startsWith('Hello') // true
    s.endsWith('!') // true
    s.includes('o') // true
```

5. repeat()
   直接看下面的代码吧

```bash
    'x'.repeat(3) // "xxx"
    'hello'.repeat(2) // "hellohello"
    'na'.repeat(0) // ""
```

注意：如果是小数，则取整；负数或者 Infinity，报错；0 到-1 的都视为 0；NaN 视为 0
