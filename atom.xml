<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>CHXçš„æŠ€æœ¯åšå®¢</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://chenhx9211.github.io/"/>
  <updated>2019-06-25T03:01:28.102Z</updated>
  <id>https://chenhx9211.github.io/</id>
  
  <author>
    <name>chenhuaxiang</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>react-use-locked-state</title>
    <link href="https://chenhx9211.github.io/2019/06/20/2019-06-20-react-use-locked-state/"/>
    <id>https://chenhx9211.github.io/2019/06/20/2019-06-20-react-use-locked-state/</id>
    <published>2019-06-20T14:13:21.000Z</published>
    <updated>2019-06-25T03:01:28.102Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;React ä¸­çš„æ•°æ®æµæ˜¯å•å‘çš„ï¼Œå¹¶é¡ºç€ç»„ä»¶å±‚çº§ä»ä¸Šå¾€ä¸‹ä¼ é€’ã€‚è¿™åœ¨ç»å¤§å¤šæ•°çš„åœºåˆä¸‹ï¼Œéƒ½å¾ˆå¥½ä½¿ï¼Œç¨å¾®æ³¨æ„ä¸€ä¸‹é¿å…æ— è°“çš„çš„é‡æ–°æ¸²æŸ“å³å¯ã€‚é…åˆä¸Š reduxï¼Œé‚£æ›´æ˜¯æŠŠæ•°æ®å’Œåº”ç”¨çŠ¶æ€ç®¡ç†å¾—äº•äº•æœ‰æ¡ï¼Œç»™äººä»¥æ·±åˆ»çš„å°è±¡ã€‚</p><p>&emsp;&emsp;æœ€è¿‘é‡åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œç”¨æˆ·åœ¨è®¿é—®é¡µé¢åï¼Œå‰ç«¯ä½¿ç”¨å¼‚æ­¥è¯·æ±‚è·å–åç«¯ç»™äºˆçš„å¤šä¸ªå‹‹ç« å¥–åŠ±ï¼Œå¯¹äºæ¯ä¸ªå‹‹ç« ï¼Œéœ€å¼¹å‡ºå¯¹è¯æ¡†ï¼Œç­‰ç”¨æˆ·ç¡®è®¤åï¼Œå†åœ¨é¡µé¢å…¶å®ƒç»„ä»¶ä¸Šæ˜¾ç¤ºåŠ¨ç”»ï¼›å¤šä¸ªå‹‹ç« ï¼ŒæŒ¨ä¸ªä¾ä»¥ä¸Šæ¬¡åºå¤„ç†ã€‚å¯¹è¯æ¡†å’ŒåŠ¨ç”»æ˜¾ç¤ºç»„ä»¶å¹¶æ²¡æœ‰ä¸Šä¸‹çº§ç»„ä»¶å…³ç³»ï¼Œåªæ˜¯ä¸ªå¹³è¡Œå…³ç³»ã€‚</p><a id="more"></a><p>&emsp;&emsp;ä¸€å¼€å§‹åªä½¿ç”¨ reactï¼ˆå› ä¸ºæ•´ä¸ª app æŒºç®€å•çš„ï¼Œå°±æ²¡ä½¿ç”¨ reduxï¼‰ï¼Œåœ¨å¼‚æ­¥è¯·æ±‚ï¼Œå¯¹è¯æ¡†å…³é—­å›è°ƒä¸­ï¼Œä»¥åŠç›¸å…³ä¸ªç»„ä»¶ä¸­åŠ å…¥æ§åˆ¶é€»è¾‘ï¼Œåšä¸‹æ¥ä¸€çœ‹ï¼Œä»£ç åŠ äº†ä¸å°‘ï¼Œè€Œä¸”è¿™ä¸ªæ§åˆ¶é€»è¾‘åˆ†æ•£åœ¨å¤šä¸ªç»„ä»¶ä¸­ï¼Œä»£ç çš„å‘³é“å¾ˆå·®ï¼Œéœ€è¦è€ƒè™‘ä¸‹é‡æ„äº†ã€‚</p><p>&emsp;&emsp;é¦–å…ˆè€ƒè™‘äº†ä½¿ç”¨ redux æ¥æ§åˆ¶è¿™ä¸ªæ˜¾ç¤ºçš„æ¬¡åºï¼Œä¼°ç®—ä¸€ä¸‹ï¼Œå¾—ä¸ºç›¸å…³ç»„ä»¶å•ç‹¬è®¾è®¡å‡ºå¥½å‡ ä¸ª state å’Œ actionï¼ŒåŒæ ·çš„ï¼Œç»„ä»¶ä¸­çš„å…¶ä½™ä»£ç ä¼šå’Œè¿™ä¸ªæ§åˆ¶é€»è¾‘æ²¡ä»€ä¹ˆå…³ç³»ã€‚è¿™ç§åœºæ™¯ï¼Œredux ä¹Ÿä¸å¤ªå¥½åº”ä»˜å•Šã€‚</p><p>&emsp;&emsp;æœ€ç»ˆä½¿ç”¨çš„æ˜¯ react æ–°å¼•å…¥çš„ hookï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œç®€å•çš„é¡¹ç›®ä¸å†éœ€è¦ä¸€ä¸ª redux ä¹‹ç±»çš„çŠ¶æ€ç®¡ç†å™¨æ¥ä¿å­˜åº”ç”¨çŠ¶æ€ã€‚ä¸è¿‡é’ˆå¯¹åŠ¨ç”»æ˜¾ç¤ºæ¬¡åºè¿™æ ·çš„éœ€æ±‚ï¼Œhook ä¹Ÿä¸å¥½ç›´æ¥åŒ¹é…ã€‚åœ¨è‡ªå®šä¹‰äº†ä¸€ä¸ª hook ä¹‹åï¼Œç¨‹åºæ‰ç®—æ˜¯æ¯”è¾ƒç®€æ´äº†ï¼Œè€Œä¸” App é‡æ–°æ¸²æŸ“çš„æ¬¡æ•°ä¹Ÿå°‘äº†ã€‚<br><a href="https://github.com/chenhx2015/react-use-locked-state" target="_blank" rel="noopener">é¡¹ç›®ä»£ç </a><br><a href="https://chenhx2015.github.io/react-use-locked-state/" target="_blank" rel="noopener">æ¼”ç¤º</a></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å·¥å‚æ¨¡å¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerson</span>(<span class="params">name, age, job</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">  o.name = name;</span><br><span class="line">  o.age = age;</span><br><span class="line">  o.job = job;</span><br><span class="line">  o.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>.name);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1 = createPerson(<span class="string">"taotao"</span>, <span class="number">2</span>, <span class="string">"child"</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ„é€ å‡½æ•°æ¨¡å¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, job</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">  <span class="keyword">this</span>.job = job;</span><br><span class="line">  <span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>.name);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person(<span class="string">"taotao"</span>, <span class="number">2</span>, <span class="string">"child"</span>);</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸå‹æ¨¡å¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">Person.prototype.name = <span class="string">"taotao"</span>;</span><br><span class="line">Person.prototype.age = <span class="number">2</span>;</span><br><span class="line">Person.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨æ„ï¼Œå¦‚æœæŸ¥å±æ€§å’Œæ–¹æ³•ï¼Œä¼šå…ˆæ‰¾è‡ªå·±çš„ï¼Œæ‰¾ä¸åˆ°å†å»åŸå‹ä¸Šé¢æ‰¾</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;React ä¸­çš„æ•°æ®æµæ˜¯å•å‘çš„ï¼Œå¹¶é¡ºç€ç»„ä»¶å±‚çº§ä»ä¸Šå¾€ä¸‹ä¼ é€’ã€‚è¿™åœ¨ç»å¤§å¤šæ•°çš„åœºåˆä¸‹ï¼Œéƒ½å¾ˆå¥½ä½¿ï¼Œç¨å¾®æ³¨æ„ä¸€ä¸‹é¿å…æ— è°“çš„çš„é‡æ–°æ¸²æŸ“å³å¯ã€‚é…åˆä¸Š reduxï¼Œé‚£æ›´æ˜¯æŠŠæ•°æ®å’Œåº”ç”¨çŠ¶æ€ç®¡ç†å¾—äº•äº•æœ‰æ¡ï¼Œç»™äººä»¥æ·±åˆ»çš„å°è±¡ã€‚&lt;/p&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;æœ€è¿‘é‡åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œç”¨æˆ·åœ¨è®¿é—®é¡µé¢åï¼Œå‰ç«¯ä½¿ç”¨å¼‚æ­¥è¯·æ±‚è·å–åç«¯ç»™äºˆçš„å¤šä¸ªå‹‹ç« å¥–åŠ±ï¼Œå¯¹äºæ¯ä¸ªå‹‹ç« ï¼Œéœ€å¼¹å‡ºå¯¹è¯æ¡†ï¼Œç­‰ç”¨æˆ·ç¡®è®¤åï¼Œå†åœ¨é¡µé¢å…¶å®ƒç»„ä»¶ä¸Šæ˜¾ç¤ºåŠ¨ç”»ï¼›å¤šä¸ªå‹‹ç« ï¼ŒæŒ¨ä¸ªä¾ä»¥ä¸Šæ¬¡åºå¤„ç†ã€‚å¯¹è¯æ¡†å’ŒåŠ¨ç”»æ˜¾ç¤ºç»„ä»¶å¹¶æ²¡æœ‰ä¸Šä¸‹çº§ç»„ä»¶å…³ç³»ï¼Œåªæ˜¯ä¸ªå¹³è¡Œå…³ç³»ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="code" scheme="https://chenhx9211.github.io/categories/code/"/>
    
    
      <category term="react" scheme="https://chenhx9211.github.io/tags/react/"/>
    
      <category term="hook" scheme="https://chenhx9211.github.io/tags/hook/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäºvue vuex es6 webpackçš„é¡¹ç›®</title>
    <link href="https://chenhx9211.github.io/2019/06/18/%E5%9F%BA%E4%BA%8Evue%20vuex%20es6%20webpack%E7%9A%84%E9%A1%B9%E7%9B%AE/"/>
    <id>https://chenhx9211.github.io/2019/06/18/åŸºäºvue vuex es6 webpackçš„é¡¹ç›®/</id>
    <published>2019-06-18T05:46:40.396Z</published>
    <updated>2019-06-20T13:18:22.507Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸€ä¸ªåŸºäº vue+vuex+es6+webpack æŠ€æœ¯æ ˆçš„ spa å¼€åº—é¡¹ç›®</p><a id="more"></a><ol><li>ä½¿ç”¨äº† vue-router æ¥åšé¡µé¢çš„è·¯ç”±è·³è½¬ï¼Œä¸»é¡µè·³è½¬è‡³è¯¦æƒ…é¡µé¢ä½¿ç”¨å…·ä½“è·¯ç”±çš„é…ç½®ã€‚</li><li>æ•´ä¸ªé¡¹ç›®ä½¿ç”¨çš„æ˜¯ es6 çš„è¯­æ³•<br>æˆ‘æ¯”è¾ƒå–œæ¬¢ es6 çš„è¯­æ³•ï¼Œarrow functionï¼Œlet,const,template stringï¼Œè§£æ„,å°¤å…¶æ˜¯åœ¨ react é‡Œé¢æ¯”è¾ƒå–œæ¬¢ç”¨çš„ class,extends,superã€‚</li><li>çŠ¶æ€ç®¡ç†ç”¨ vuex</li><li>ä½¿ç”¨ axios ä»åç«¯è·å–æ•°æ®</li><li>å¯¹å•¦ï¼Œé¡¹ç›®ä½¿ç”¨çš„è„šæ‰‹æ¶ vue-cli,å¿«é€Ÿä¸Šæ‰‹</li><li>github åœ°å€ï¼š<a href="https://github.com/chenhx9211/vue-onlineStore" target="_blank" rel="noopener">https://github.com/chenhx9211/vue-onlineStore</a></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸€ä¸ªåŸºäº vue+vuex+es6+webpack æŠ€æœ¯æ ˆçš„ spa å¼€åº—é¡¹ç›®&lt;/p&gt;
    
    </summary>
    
      <category term="code" scheme="https://chenhx9211.github.io/categories/code/"/>
    
    
      <category term="vue" scheme="https://chenhx9211.github.io/tags/vue/"/>
    
      <category term="vuex" scheme="https://chenhx9211.github.io/tags/vuex/"/>
    
  </entry>
  
  <entry>
    <title>react hooks å­¦ä¹ ä½“ä¼š</title>
    <link href="https://chenhx9211.github.io/2019/04/03/react-hook/"/>
    <id>https://chenhx9211.github.io/2019/04/03/react-hook/</id>
    <published>2019-04-03T14:13:21.000Z</published>
    <updated>2019-06-20T06:26:33.255Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;æŸå¤©ä¸€çœ‹ react å®˜æ–¹æ–‡æ¡£ï¼Œå‘ç°å¤šäº†ä¸€ä¸ªå¾ˆ ğŸ‚ çš„æ–°ç‰¹æ€§ï¼Œhooksï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¼šå‡ºç° hooks å‘¢ï¼Ÿ<br>&emsp;&emsp;ç›¸ä¿¡å¾ˆå¤šäººéƒ½æœ‰è¿™ä¸ªä½“éªŒï¼Œæœ‰äº›æ—¶å€™æä¸æ¸…æ¥šåˆ°åº•ç”¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå¹¶ä¸”ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„åŒæ—¶è¿˜è¦å†™å¾ˆå¤šç›¸åŒçš„ä»£ç åœ¨ shouldUpdate é‡Œé¢ï¼Œåšå¾ˆå¤šé‡å¤çš„å·¥ä½œï¼Œä»£ç å†—ä½™ã€‚<br>&emsp;&emsp;ç»„ä»¶ä¸­çš„ this æŒ‡å‘é—®é¢˜ï¼Œå¾ˆå®¹æ˜“å¿˜è®°ç»‘å®š thisï¼Œå›å¤´æ¥åŠ ï¼Œå¾ˆéº»çƒ¦<br>&emsp;&emsp;åˆ°åº•æ˜¯ç”¨æœ‰çŠ¶æ€ç»„ä»¶å‘¢ï¼Ÿè¿˜æ˜¯ç”¨æ— çŠ¶æ€ç»„ä»¶å‘¢ï¼Ÿ</p><p>&emsp;&emsp;éšç€å‡½æ•°å¼ç¼–ç¨‹å…´èµ·ï¼Œæˆ‘ä»¬å»ºè®®å°½é‡ç”¨å‡½æ•°å¼ç¼–ç¨‹çš„æ€ç»´æ¥å¼€å‘æˆ‘ä»¬çš„ç»„ä»¶ï¼ŒåŠ ä¸Šä¸ç”¨ class æ–¹å¼å†™ç»„ä»¶äº†ï¼Œhooks ä¹Ÿå°±ç²‰å¢¨ç™»åœºäº†ï¼</p><a id="more"></a><h1 id="useState"><a href="#useState" class="headerlink" title="useState"></a>useState</h1><p>&emsp;&emsp;ä¸‹é¢å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ Hooks!</p><p>&emsp;&emsp;è¿™æ˜¯ä¸€ä¸ªæœ‰çŠ¶æ€çš„ç»„ä»¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      count: <span class="number">0</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;p&gt;You clicked &#123;<span class="keyword">this</span>.state.count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">        &lt;button</span></span><br><span class="line"><span class="regexp">          onClick=&#123;() =&gt; &#123;</span></span><br><span class="line"><span class="regexp">            this.setState(&#123;</span></span><br><span class="line"><span class="regexp">              count: this.state.count + 1</span></span><br><span class="line"><span class="regexp">            &#125;);</span></span><br><span class="line"><span class="regexp">          &#125;&#125;</span></span><br><span class="line"><span class="regexp">        &gt;</span></span><br><span class="line"><span class="regexp">          Click Me!</span></span><br><span class="line"><span class="regexp">        &lt;/</span>button&gt;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>æ¥çœ‹çœ‹æˆ‘ä»¬ä½¿ç”¨äº† hooks ä¹‹åçš„ç‰ˆæœ¬ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;p&gt;You clicked &#123; count &#125; times&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;Click Me!&lt;/</span>button&gt;</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;ä¸€çœ‹ç®€å•å¤šäº†ï¼å¯ä»¥çœ‹åˆ°ï¼Œ Example å˜æˆäº†ä¸€ä¸ªå‡½æ•°ï¼Œä½†è¿™ä¸ªå‡½æ•°å´æœ‰è‡ªå·±çš„çŠ¶æ€ï¼ˆcountï¼‰ï¼ŒåŒæ—¶å®ƒè¿˜å¯ä»¥æ›´æ–°è‡ªå·±çš„çŠ¶æ€ï¼ˆsetCountï¼‰ã€‚è¿™ä¸ªå‡½æ•°ä¹‹æ‰€ä»¥è¿™ä¹ˆäº†ä¸å¾—ï¼Œå°±æ˜¯å› ä¸ºå®ƒæ³¨å…¥äº†ä¸€ä¸ª hookâ€“ useStateï¼Œå°±æ˜¯è¿™ä¸ª hook è®©æˆ‘ä»¬çš„å‡½æ•°å˜æˆäº†ä¸€ä¸ªæœ‰çŠ¶æ€çš„å‡½æ•°ã€‚</p><p>å…ˆæ¥ç†è§£ä¸€ä¸‹ä¸Šé¢çš„ hooks æ”¹ç‰ˆä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿ</p><h3 id="ç”³æ˜äº†ä¸€ä¸ªçŠ¶æ€å˜é‡"><a href="#ç”³æ˜äº†ä¸€ä¸ªçŠ¶æ€å˜é‡" class="headerlink" title="ç”³æ˜äº†ä¸€ä¸ªçŠ¶æ€å˜é‡"></a>ç”³æ˜äº†ä¸€ä¸ªçŠ¶æ€å˜é‡</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Example</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> [count, setCount] = useState(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;useState æ˜¯ react è‡ªå¸¦çš„ä¸€ä¸ª hook å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯ç”¨æ¥å£°æ˜çŠ¶æ€å˜é‡ã€‚ useState è¿™ä¸ªå‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯æˆ‘ä»¬çš„çŠ¶æ€åˆå§‹å€¼ï¼ˆinitial stateï¼‰ï¼Œå®ƒè¿”å›äº†ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„çš„ç¬¬ [0]é¡¹æ˜¯å½“å‰å½“å‰çš„çŠ¶æ€å€¼ï¼Œç¬¬ [1]é¡¹æ˜¯å¯ä»¥æ”¹å˜çŠ¶æ€å€¼çš„æ–¹æ³•å‡½æ•°ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬åšçš„äº‹æƒ…å…¶å®å°±æ˜¯ï¼Œå£°æ˜äº†ä¸€ä¸ªçŠ¶æ€å˜é‡ countï¼ŒæŠŠå®ƒçš„åˆå§‹å€¼è®¾ä¸º 0ï¼ŒåŒæ—¶æä¾›äº†ä¸€ä¸ªå¯ä»¥æ›´æ”¹ count çš„å‡½æ•° setCountã€‚<br>ä¸Šé¢è¿™ç§è¡¨è¾¾å½¢å¼ï¼Œæ˜¯å€Ÿç”¨äº† es6 çš„æ•°ç»„è§£æ„ï¼ˆarray destructuringï¼‰ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬çš„ä»£ç çœ‹èµ·æ¥æ›´ç®€æ´.</p><p>å¦‚æœä¸ç”¨æ•°ç»„è§£æ„çš„è¯ï¼Œå¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> _useState = useState(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">let</span> count = _useState[<span class="number">0</span>];</span><br><span class="line"><span class="keyword">let</span> setCount = _useState[<span class="number">1</span>];</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;å®é™…ä¸Šæ•°ç»„è§£æ„æ˜¯ä¸€ä»¶å¼€é”€å¾ˆå¤§çš„äº‹æƒ…ï¼Œç”¨ä¸‹é¢è¿™ç§å†™æ³•ï¼Œæˆ–è€…æ”¹ç”¨å¯¹è±¡è§£æ„ï¼Œæ€§èƒ½ä¼šæœ‰å¾ˆå¤§çš„æå‡ã€‚æˆ‘ä»¬å°±æŒ‰ç…§å®˜æ–¹æ¨èä½¿ç”¨æ•°ç»„è§£æ„å°±å¥½</p><h3 id="è¯»å–çŠ¶æ€å€¼"><a href="#è¯»å–çŠ¶æ€å€¼" class="headerlink" title="è¯»å–çŠ¶æ€å€¼"></a>è¯»å–çŠ¶æ€å€¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;You clicked &#123;count&#125; times&lt;<span class="regexp">/p&gt;</span></span><br></pre></td></tr></table></figure><p>&emsp;&emsp;å°±ä¸ç”¨å†™æˆä¹‹å‰çš„ {this.state.count}, çœ‹èµ·æ¥ç®€æ´å¥½å¤šï¼</p><h3 id="æ›´æ–°çŠ¶æ€"><a href="#æ›´æ–°çŠ¶æ€" class="headerlink" title="æ›´æ–°çŠ¶æ€"></a>æ›´æ–°çŠ¶æ€</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button onClick=&#123;() =&gt; setCount(count + <span class="number">1</span>)&#125; /&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;é™¤äº† useState è¿™ä¸ª hook å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šåˆ«çš„ hookï¼Œæ¯”å¦‚ useEffect æä¾›äº†ç±»ä¼¼äº componentDidMount ç­‰ç”Ÿå‘½å‘¨æœŸé’©å­çš„åŠŸèƒ½ï¼Œ useContext æä¾›äº†ä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰çš„åŠŸèƒ½ç­‰ç­‰ã€‚</p><p>&emsp;&emsp;useEffect æœŸå¾…ä¸­ã€‚ã€‚ã€‚</p><p>&emsp;&emsp;Hooks æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ç±»ç‰¹æ®Šçš„å‡½æ•°ï¼Œå®ƒä»¬å¯ä»¥ä¸ºä½ çš„å‡½æ•°å‹ç»„ä»¶ï¼ˆfunction componentï¼‰æ³¨å…¥ä¸€äº›ç‰¹æ®Šçš„åŠŸèƒ½ã€‚å’¦ï¼Ÿè¿™å¬èµ·æ¥æœ‰ç‚¹åƒè¢«è¯Ÿç—…çš„ Mixins å•Šï¼Ÿéš¾é“æ˜¯ Mixins è¦åœ¨ react ä¸­æ­»ç°å¤ç‡ƒäº†å—ï¼Ÿå½“ç„¶ä¸ä¼šäº†ï¼Œç­‰ä¼šæˆ‘ä»¬å†æ¥è°ˆä¸¤è€…çš„åŒºåˆ«ã€‚æ€»è€Œè¨€ä¹‹ï¼Œè¿™äº› hooks çš„ç›®æ ‡å°±æ˜¯è®©ä½ ä¸å†å†™ classï¼Œè®© function ä¸€ç»Ÿæ±Ÿæ¹–ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;æŸå¤©ä¸€çœ‹ react å®˜æ–¹æ–‡æ¡£ï¼Œå‘ç°å¤šäº†ä¸€ä¸ªå¾ˆ ğŸ‚ çš„æ–°ç‰¹æ€§ï¼Œhooksï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¼šå‡ºç° hooks å‘¢ï¼Ÿ&lt;br&gt;&amp;emsp;&amp;emsp;ç›¸ä¿¡å¾ˆå¤šäººéƒ½æœ‰è¿™ä¸ªä½“éªŒï¼Œæœ‰äº›æ—¶å€™æä¸æ¸…æ¥šåˆ°åº•ç”¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå¹¶ä¸”ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„åŒæ—¶è¿˜è¦å†™å¾ˆå¤šç›¸åŒçš„ä»£ç åœ¨ shouldUpdate é‡Œé¢ï¼Œåšå¾ˆå¤šé‡å¤çš„å·¥ä½œï¼Œä»£ç å†—ä½™ã€‚&lt;br&gt;&amp;emsp;&amp;emsp;ç»„ä»¶ä¸­çš„ this æŒ‡å‘é—®é¢˜ï¼Œå¾ˆå®¹æ˜“å¿˜è®°ç»‘å®š thisï¼Œå›å¤´æ¥åŠ ï¼Œå¾ˆéº»çƒ¦&lt;br&gt;&amp;emsp;&amp;emsp;åˆ°åº•æ˜¯ç”¨æœ‰çŠ¶æ€ç»„ä»¶å‘¢ï¼Ÿè¿˜æ˜¯ç”¨æ— çŠ¶æ€ç»„ä»¶å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;éšç€å‡½æ•°å¼ç¼–ç¨‹å…´èµ·ï¼Œæˆ‘ä»¬å»ºè®®å°½é‡ç”¨å‡½æ•°å¼ç¼–ç¨‹çš„æ€ç»´æ¥å¼€å‘æˆ‘ä»¬çš„ç»„ä»¶ï¼ŒåŠ ä¸Šä¸ç”¨ class æ–¹å¼å†™ç»„ä»¶äº†ï¼Œhooks ä¹Ÿå°±ç²‰å¢¨ç™»åœºäº†ï¼&lt;/p&gt;
    
    </summary>
    
      <category term="framework" scheme="https://chenhx9211.github.io/categories/framework/"/>
    
    
      <category term="react" scheme="https://chenhx9211.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>create-react-app .env ä½¿ç”¨</title>
    <link href="https://chenhx9211.github.io/2018/11/12/create-react-app/"/>
    <id>https://chenhx9211.github.io/2018/11/12/create-react-app/</id>
    <published>2018-11-12T02:13:26.000Z</published>
    <updated>2019-06-28T02:08:44.094Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;create-react-app æ˜¯ React å®˜æ–¹æ”¯æŒçš„åˆ›å»ºå•é¡µ React åº”ç”¨çš„å·¥å…·ã€‚è™½ç„¶å®ƒä¹Ÿé€šè¿‡ Webpack æ¥æ‰“åŒ…ï¼Œä½†æ˜¯ç”¨ä¸ç€å»åš Webpack ç¹ççš„é…ç½®ï¼Œä¸Šæ‰‹éå¸¸å¿«ï¼Œè€Œä¸”å‰ç«¯å¼€å‘éœ€è¦çš„ä¼˜åŒ–å’Œå¤„ç†ï¼ŒåŸºæœ¬ä¸Šéƒ½è¦†ç›–åˆ°äº†ã€‚<br>&emsp;&emsp;åŒ–ç¹ä¸ºç®€ï¼Œçš„ç¡®æ˜¯æŠŠåˆ©å™¨ï¼Œç›®å‰ä¸ºæ­¢ï¼Œè¿˜æ²¡é‡åˆ°è¿‡éœ€è¦é‡æ–°åš Webpack åŒ…é…ç½®çš„æƒ…å†µã€‚æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œç”¨ä¹…äº†è¿™ä¸ªï¼Œå¾ˆå®¹æ˜“å¿˜è®°å¦‚ä½•ä½¿ç”¨ Webpackã€‚<br>&emsp;&emsp;create-react-app è¿˜æä¾›äº†ç¯å¢ƒå˜é‡æœºåˆ¶ï¼Œå¢åŠ åŠ å‡ ä¸ªç®€å•çš„æ–‡ä»¶å°±å¯ä»¥è®¾ç½®å¼€å‘ã€æµ‹è¯•å’Œäº§å“ç¯å¢ƒä¸‹çš„ç¯å¢ƒå˜é‡ã€‚</p><a id="more"></a><p>&emsp;&emsp;åƒ App éƒ¨ç½²æ—¶çš„ urlï¼Œåç«¯ api è¯·æ±‚çš„ url ç­‰ç­‰ï¼Œåœ¨å¼€å‘ã€æµ‹è¯•å’Œäº§å“ç¯å¢ƒä¸‹ï¼Œä¸€èˆ¬éƒ½æ˜¯ä¸åŒçš„ã€‚ä¸ä½¿ç”¨ç¯å¢ƒå˜é‡æœºåˆ¶ï¼Œåº”ç”¨ç¨‹åºä»£ç å°±å¾—è‡ªå·±å¤„ç†è¿™äº›å·®å¼‚ï¼Œè¦èƒ½è¯†åˆ«ä¸åŒçš„ç¯å¢ƒï¼Œåœ¨ä¸åŒçš„ç¯å¢ƒä¸‹ä½¿ç”¨å…¶å¯¹åº”çš„ urlï¼ŒåŸºæœ¬ä¸Šæ˜¯æŠŠè¿™äº›è¿™äº›å·®å¼‚ç¡¬ç¼–ç åˆ°åº”ç”¨ä»£ç ä¸­ã€‚<br>&emsp;&emsp;å†çœ‹ä¸‹ä½¿ç”¨ç¯å¢ƒå˜é‡æœºåˆ¶çš„åšæ³•ï¼Œå¦‚æœé¡¹ç›®çš„æ ¹ç›®å½•ä¸‹å­˜åœ¨ä»¥ä¸‹æ–‡ä»¶ï¼Œapp å°±å¯ä»¥ä½¿ç”¨è¿™äº›æ–‡ä»¶ä¸­è®¾ç½®çš„ç¯å¢ƒå˜é‡ã€‚</p><ul><li>.env: é»˜è®¤</li><li>.env.local: é™¤äº†æµ‹è¯•ç¯å¢ƒï¼Œå…¶ä»–æ‰€æœ‰ç¯å¢ƒéƒ½ä¼šåŠ è½½è¿™ä¸ªæ–‡ä»¶.</li><li>.env.development, .env.test, .env.production: æŒ‡å®šå¼€å‘ã€æµ‹è¯•å’Œäº§å“ç¯å¢ƒä¸‹çš„å˜é‡.</li><li>.env.development.local, .env.test.local, .env.production.local: è¦†ç›–ç¯å¢ƒå˜é‡æŒ‡å®šçš„è®¾ç½®.</li></ul><p>&emsp;&emsp;å„ä¸ªç¯å¢ƒä¸‹ï¼Œåˆ†åˆ«åŠ è½½ä»¥ä¸‹æ–‡ä»¶ï¼š</p><ul><li><code>npm start: .env.development.local, .env.development, .env.local, .env</code></li><li><code>npm run build: .env.production.local, .env.production, .env.local, .env</code></li><li><code>npm test: .env.test.local, .env.test, .env (æ³¨æ„ï¼Œä¸åŠ è½½ .env.local)</code></li></ul><p>&emsp;&emsp;å·¦è¾¹çš„æ–‡ä»¶æ¯”å³è¾¹çš„ä¼˜å…ˆçº§é«˜ï¼Œä¹Ÿå°±æ˜¯è¯´å¤šä¸ªæ–‡ä»¶ä¸­å¦‚æœæœ‰ç›¸åŒçš„ç¯å¢ƒå˜é‡ï¼Œä¼˜å…ˆä½¿ç”¨å·¦è¾¹æ–‡ä»¶å®šä¹‰çš„ç¯å¢ƒå˜é‡ã€‚</p><p>&emsp;&emsp;ä¸¾ä¸ªä¾‹å­ï¼Œå¼€å‘ä¸­ï¼Œapp å¯¹åº”çš„ url éƒ½æ˜¯â€˜/â€™ï¼Œè€Œæµ‹è¯•ã€éƒ¨ç½²çš„ä»£ç å¯¹åº”çš„å¯èƒ½ä¸ä¼šæ˜¯â€˜/â€™ã€‚åªéœ€è¦åœ¨å¯¹åº”çš„ç¯å¢ƒå˜é‡æ–‡ä»¶è®¾ç½® PUBLIC_URL ä¸ºå„è‡ªå¯¹åº”çš„ urlï¼Œåº”ç”¨ä»£ç ä¸­å°±å¯ä»¥ä½¿ç”¨ process.env.PUBLIC_URLã€‚<br>&emsp;&emsp;æ³¨æ„ï¼šPUBLIC_URL æ˜¯ create-react-app å®šä¹‰ï¼Œé™¤äº† NODE_ENV, è‡ªå®šä¹‰ç¯å¢ƒå˜é‡èµ·åéƒ½è¦ REACT_APP*ä¸ºèµ·é¦–å­—ç¬¦ã€‚å…¶å®ƒ create-react-app å®šä¹‰çš„ç¯å¢ƒå˜é‡è¿˜æœ‰ï¼šBROWSERï¼ŒHOSTï¼ŒPORTï¼ŒHTTPS ç­‰ã€‚</p><p>&emsp;&emsp;ç¯å¢ƒå˜é‡æœºåˆ¶ æ˜¯é€šè¿‡ dotenv å’Œ webpack çš„é…ç½®æ¥å®ç°çš„ï¼Œcreate-react-app å¸®æˆ‘ä»¬éƒ½é…ç½®å¥½äº†ï¼Œç›´æ¥ä½¿ç”¨å°±è¡Œã€‚é¡ºä¾¿æä¸€ä¸‹ï¼Œæµè§ˆå™¨ç¯å¢ƒä¸‹æ˜¯æ²¡æœ‰ process.env å¯¹è±¡çš„ï¼Œwebpack åœ¨æ‰“åŒ…æ—¶ï¼Œé’ˆå¯¹æµè§ˆå™¨ç¯å¢ƒä¼šä½¿ç”¨ä¸€ä¸ªæ’ä»¶åˆ›å»ºå‡ºè¿™ä¸ªå¯¹è±¡ï¼Œå› æ­¤åœ¨åº”ç”¨ç¨‹åºä»£ç åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹ä¸€æ ·å¯ä»¥ä½¿ç”¨ process.env ä¸‹çš„ç¯å¢ƒå˜é‡ã€‚</p><h5 id="å‚è€ƒï¼š"><a href="#å‚è€ƒï¼š" class="headerlink" title="å‚è€ƒï¼š"></a>å‚è€ƒï¼š</h5><ul><li><a href="https://facebook.github.io/create-react-app/docs/getting-started" target="_blank" rel="noopener">create-react-app æ–‡æ¡£</a></li><li><a href="https://facebook.github.io/create-react-app/docs/adding-custom-environment-variables" target="_blank" rel="noopener">è‡ªå®šä¹‰ç¯å¢ƒå˜é‡</a></li><li><a href="https://facebook.github.io/create-react-app/docs/advanced-configuration" target="_blank" rel="noopener">é«˜çº§é…ç½®</a></li><li><a href="https://github.com/motdotla/dotenv" target="_blank" rel="noopener">dotenv</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;create-react-app æ˜¯ React å®˜æ–¹æ”¯æŒçš„åˆ›å»ºå•é¡µ React åº”ç”¨çš„å·¥å…·ã€‚è™½ç„¶å®ƒä¹Ÿé€šè¿‡ Webpack æ¥æ‰“åŒ…ï¼Œä½†æ˜¯ç”¨ä¸ç€å»åš Webpack ç¹ççš„é…ç½®ï¼Œä¸Šæ‰‹éå¸¸å¿«ï¼Œè€Œä¸”å‰ç«¯å¼€å‘éœ€è¦çš„ä¼˜åŒ–å’Œå¤„ç†ï¼ŒåŸºæœ¬ä¸Šéƒ½è¦†ç›–åˆ°äº†ã€‚&lt;br&gt;&amp;emsp;&amp;emsp;åŒ–ç¹ä¸ºç®€ï¼Œçš„ç¡®æ˜¯æŠŠåˆ©å™¨ï¼Œç›®å‰ä¸ºæ­¢ï¼Œè¿˜æ²¡é‡åˆ°è¿‡éœ€è¦é‡æ–°åš Webpack åŒ…é…ç½®çš„æƒ…å†µã€‚æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œç”¨ä¹…äº†è¿™ä¸ªï¼Œå¾ˆå®¹æ˜“å¿˜è®°å¦‚ä½•ä½¿ç”¨ Webpackã€‚&lt;br&gt;&amp;emsp;&amp;emsp;create-react-app è¿˜æä¾›äº†ç¯å¢ƒå˜é‡æœºåˆ¶ï¼Œå¢åŠ åŠ å‡ ä¸ªç®€å•çš„æ–‡ä»¶å°±å¯ä»¥è®¾ç½®å¼€å‘ã€æµ‹è¯•å’Œäº§å“ç¯å¢ƒä¸‹çš„ç¯å¢ƒå˜é‡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="framework" scheme="https://chenhx9211.github.io/categories/framework/"/>
    
    
      <category term="react" scheme="https://chenhx9211.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>ä»¿æ·˜å®å•†åŸApp</title>
    <link href="https://chenhx9211.github.io/2018/11/03/react-mall/"/>
    <id>https://chenhx9211.github.io/2018/11/03/react-mall/</id>
    <published>2018-11-03T02:13:26.000Z</published>
    <updated>2019-06-20T10:18:39.218Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;æœ€è¿‘åˆ©ç”¨ä¸šä½™æ—¶é—´å­¦ä¹ äº† Reactï¼Œå¯¹å®ƒçš„å‡½æ•°ç»„ä»¶çš„å†™æ³•å¾ˆæ„Ÿå…´è¶£ï¼Œé‚£ä¹ˆæµ‹è¯•ä¸å°±æ–¹ä¾¿å¤šäº†ä¹ˆï¼Œå¬ä¸Šå»çœŸçš„æ˜¯ç¦éŸ³ã€‚æ˜¯å¦çœŸæœ‰é‚£ä¹ˆå¥½ï¼Œå†™äº†æ‰çŸ¥é“ã€‚<br>&emsp;&emsp;ç›®æ ‡æ˜¯å†™ä¸ªä»¿æ·˜å®å•†åŸçš„ç®€å• Demoï¼Œæ‰“ç®—ç”¨ react/redux å…¨å®¶æ¡¶æ¥å®ç°ã€‚<br>&emsp;&emsp;ç¤¾åŒºé‡Œæœ‰ä¸å°‘ä¼˜ç§€çš„è„šæ‰‹æ¶ï¼Œç›´æ¥ä½¿ç”¨èƒ½çœä¸å°‘äº‹ï¼Œä½†æ—¢ç„¶ä»¥å­¦ä¹ æ‘¸ç´¢ä¸ºä¸»ï¼Œå°±ä¸æ‰“ç®—ä½¿ç”¨å®ƒä»¬ï¼Œé™¤äº†ç”¨ create-appâ€”cliï¼Œä»é›¶å¼€å§‹ï¼Œå…ˆååŠ å…¥äº† react-routerï¼Œreact-reduxï¼Œredux-loggerï¼Œredux-thunkï¼Œredux-persist ç­‰ç¬¬ä¸‰æ–¹ä»£ç åŒ…ã€‚é¡¹ç›®ä»£ç æ”¾åœ¨<a href="https://github.com/chenhx2015/taobao-react" target="_blank" rel="noopener">ä»¿ä»¿æ·˜å®å•†åŸ Demo ä»£ç </a>ï¼Œ<a href="https://chenhx2015.github.io/taobao-react" target="_blank" rel="noopener">åœ¨çº¿ Demo</a></p><p><img src="/images/taobao-react-index.png" alt="é¦–é¡µ"> <img src="/images/taobao-react-account.png" alt="è´¦æˆ·"></p><p>&emsp;&emsp;å°ç»“ï¼š</p><ul><li>è¦æŠŠæ•´ä¸ªåº”ç”¨çš„æ•°æ®ã€çŠ¶æ€éƒ½å­˜åˆ° Redux ä¸­å»ï¼›</li><li>åŠªåŠ›å…‹æœæŠŠä¸šåŠ¡é€»è¾‘å°±è¿‘æ”¾åˆ° React ç»„ä»¶çš„å†²åŠ¨ï¼ŒæŠŠå®ƒæ”¾åˆ° reducer å‡½æ•°å»ï¼›æµ‹è¯•ä¸šåŠ¡é€»è¾‘æ˜¯å¦æ­£ç¡®ï¼Œä¹Ÿåªéœ€è¦æµ‹è¯• reduer å‡½æ•°äº†ï¼Œè¿™ä¸ªå•å…ƒæµ‹è¯•å°±ç®€å•å¤šäº†ï¼›</li><li>ç”¨ä¸€å †æ— çŠ¶æ€çš„ç»„ä»¶æ‹¼å‡ºä¸ªæ•´ä¸ªåº”ç”¨ï¼›å‡½æ•°ç»„ä»¶çš„å†™æ³•å¯¹æŠŠä¸šåŠ¡é€»è¾‘å’Œç•Œé¢é€»è¾‘åˆ†ç¦»å¾ˆæœ‰å¸®åŠ©ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&amp;emsp;&amp;emsp;æœ€è¿‘åˆ©ç”¨ä¸šä½™æ—¶é—´å­¦ä¹ äº† Reactï¼Œå¯¹å®ƒçš„å‡½æ•°ç»„ä»¶çš„å†™æ³•å¾ˆæ„Ÿå…´è¶£ï¼Œé‚£ä¹ˆæµ‹è¯•ä¸å°±æ–¹ä¾¿å¤šäº†ä¹ˆï¼Œå¬ä¸Šå»çœŸçš„æ˜¯ç¦éŸ³ã€‚æ˜¯å¦çœŸæœ‰é‚£ä¹ˆå¥½ï¼Œå†™äº†æ‰çŸ¥é“ã€‚&lt;br&gt;&amp;emsp;&amp;emsp;ç›®æ ‡æ˜¯å†™ä¸ªä»¿æ·˜å®å•†åŸçš„ç®€å• Demoï¼Œæ‰“ç®—ç”¨ react/redux å…¨å®¶æ¡¶æ¥å®ç°
      
    
    </summary>
    
      <category term="code" scheme="https://chenhx9211.github.io/categories/code/"/>
    
    
      <category term="redux" scheme="https://chenhx9211.github.io/tags/redux/"/>
    
      <category term="react" scheme="https://chenhx9211.github.io/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>reduxå­¦ä¹ å¿ƒå¾—</title>
    <link href="https://chenhx9211.github.io/2018/04/13/redux/"/>
    <id>https://chenhx9211.github.io/2018/04/13/redux/</id>
    <published>2018-04-13T02:13:26.000Z</published>
    <updated>2019-06-20T06:26:17.355Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘å­¦ä¹  redux çš„å¿ƒå¾—ï¼š</p><p>1.å•ä¸€çš„çŠ¶æ€æ ‘ï¼Œå•å‘æ•°æ®æµ</p><p>2.æ•´ä¸ªé¡¹ç›®åªæœ‰ä¸€ä¸ª store</p><a id="more"></a><p>3.ç”±ç”¨æˆ·å‘å‡ºä¸€ä¸ª actionï¼Œreducer æ–¹æ³•æ¥æ”¶è¿™ä¸ªæ–¹æ³•å’Œä¸€ä¸ªè€çš„ stateï¼Œå†é‡æ–°è¿”å›ä¸€ä¸ªæ–° state,è§†å›¾å†æ›´æ–°</p><p>4.åœ¨å¼€å‘çš„æ—¶å€™ä¸€èˆ¬ä¼šæŠŠå¾ˆå¤šä¸ª reducer ç”¨ redux é‡Œé¢çš„ combineReducers æ–¹æ³•åˆå¹¶åœ¨ä¸€ä¸ªï¼Œä¾¿äºç®¡ç†</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘å­¦ä¹  redux çš„å¿ƒå¾—ï¼š&lt;/p&gt;
&lt;p&gt;1.å•ä¸€çš„çŠ¶æ€æ ‘ï¼Œå•å‘æ•°æ®æµ&lt;/p&gt;
&lt;p&gt;2.æ•´ä¸ªé¡¹ç›®åªæœ‰ä¸€ä¸ª store&lt;/p&gt;
    
    </summary>
    
      <category term="framework" scheme="https://chenhx9211.github.io/categories/framework/"/>
    
    
      <category term="redux" scheme="https://chenhx9211.github.io/tags/redux/"/>
    
  </entry>
  
  <entry>
    <title>es6</title>
    <link href="https://chenhx9211.github.io/2018/04/12/es6/"/>
    <id>https://chenhx9211.github.io/2018/04/12/es6/</id>
    <published>2018-04-12T10:54:22.000Z</published>
    <updated>2019-06-19T09:17:10.534Z</updated>
    
    <content type="html"><![CDATA[<p>å…ˆè¯´ä¸€ä¸‹ let å§ï¼</p><ol><li>let å’Œ var ä¸€æ ·ç”¨æ¥å£°æ˜å˜é‡ï¼Œä½†æ˜¯ä¸åŒçš„æ˜¯ï¼šlet å‘½ä»¤åªåœ¨æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ(es5 æ²¡æœ‰å—çº§ä½œç”¨åŸŸ)</li><li>for å¾ªç¯é‡Œé¢ä¸è¦å†ç”¨ var äº†ï¼Œè¦ä¸ç„¶æ¯æ¬¡è¾“å‡ºæ¥çš„éƒ½æ˜¯æœ€åä¸€ä¸ªéå†å‡ºæ¥çš„å€¼</li><li>let ä¸å­˜åœ¨å˜é‡æå‡ï¼Œä¸€å®šè¦å…ˆå£°æ˜åä½¿ç”¨ï¼Œè¦ä¸ç„¶æŠ¥é”™ï¼›è€Œ var å¯ä»¥å…ˆä½¿ç”¨å†å£°æ˜ï¼Œè¾“å‡ºæ¥ undefined</li><li>æš‚æ—¶æ€§æ­»åŒºï¼Œåªè¦è¿›å»ä½œç”¨åŸŸï¼Œæ‰€è¦ä½¿ç”¨çš„å˜é‡å°±å·²ç»å­˜åœ¨äº†ï¼Œä½†æ˜¯ä¸å¯ä»¥è·å–ï¼Œåªæœ‰ç­‰åˆ°å˜é‡å£°æ˜äº†æ‰å¯ä»¥è·å–å’Œä½¿ç”¨å®ƒ</li><li>let ä¸å…è®¸åœ¨åŒä¸€ä½œç”¨åŸŸå†…é‡å¤å£°æ˜</li></ol><a id="more"></a><p>ä¸ºä»€ä¹ˆéœ€è¦å—çº§ä½œç”¨åŸŸå‘¢ï¼Ÿ<br>@å†…å±‚å˜é‡å¯èƒ½ä¼šè¦†ç›–å¤–å±‚å˜é‡<br>@ç”¨æ¥è®¡æ•°çš„å¾ªç¯å˜é‡æ³„éœ²ä¸ºå…¨å±€å˜é‡ï¼Œå¾ˆå®¹æ˜“é€ æˆå†…å­˜æ³„æ¼</p><p>ä¸‹é¢å†è¯´è¯´ const!</p><ol><li>ç”¨æ¥å£°æ˜å¸¸é‡ï¼Œæ‰€ä»¥ä¸€æ—¦å£°æ˜å˜é‡ï¼Œå°±å¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼Œä¸èƒ½ç•™åˆ°ä»¥åèµ‹å€¼ï¼Œåªå£°æ˜ä¸èµ‹å€¼ï¼Œå°±ä¼šæŠ¥é”™</li><li>const çš„ä½œç”¨åŸŸä¸ let å‘½ä»¤ç›¸åŒï¼šåªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆ</li><li>const å‘½ä»¤å£°æ˜çš„å¸¸é‡ä¹Ÿæ˜¯ä¸æå‡ï¼ŒåŒæ ·å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªèƒ½åœ¨å£°æ˜çš„ä½ç½®åé¢ä½¿ç”¨</li><li>const å£°æ˜çš„å¸¸é‡ï¼Œä¹Ÿä¸ let ä¸€æ ·ä¸å¯é‡å¤å£°æ˜</li></ol><h4 id="ç»“æ„å…ˆä¸è¯´ï¼Œæ¯”è¾ƒç®€å•ï¼Œä¸»è¦åˆ†ä¸ºæ•°ç»„ï¼Œå¯¹è±¡ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°å€¼ï¼Œå¸ƒå°”å€¼ï¼Œå‡½æ•°å‚æ•°è§£æ„"><a href="#ç»“æ„å…ˆä¸è¯´ï¼Œæ¯”è¾ƒç®€å•ï¼Œä¸»è¦åˆ†ä¸ºæ•°ç»„ï¼Œå¯¹è±¡ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°å€¼ï¼Œå¸ƒå°”å€¼ï¼Œå‡½æ•°å‚æ•°è§£æ„" class="headerlink" title="ç»“æ„å…ˆä¸è¯´ï¼Œæ¯”è¾ƒç®€å•ï¼Œä¸»è¦åˆ†ä¸ºæ•°ç»„ï¼Œå¯¹è±¡ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°å€¼ï¼Œå¸ƒå°”å€¼ï¼Œå‡½æ•°å‚æ•°è§£æ„"></a>ç»“æ„å…ˆä¸è¯´ï¼Œæ¯”è¾ƒç®€å•ï¼Œä¸»è¦åˆ†ä¸ºæ•°ç»„ï¼Œå¯¹è±¡ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°å€¼ï¼Œå¸ƒå°”å€¼ï¼Œå‡½æ•°å‚æ•°è§£æ„</h4><p>çœ‹äº†ä¸€åœˆä¸‹æ¥ï¼Œå…³é”®æ˜¯ç”¨é€”ï¼Œæ€»ç»“ä¸€ä¸‹ï¼š</p><ol><li>äº¤æ¢å˜é‡çš„å€¼</li><li>ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼</li><li>å‡½æ•°å‚æ•°çš„å®šä¹‰</li><li>æå– json æ•°æ®(æˆ‘è®¤ä¸ºè¿™ä¸ªæ¯”è¾ƒå®ç”¨ï¼Œæ‹¿å‡ºæ¥å¯ä»¥ç›´æ¥æ”¾åˆ°è§†å›¾)</li><li>éå† Map ç»“æ„</li></ol><h4 id="å­—ç¬¦ä¸²çš„æ‰©å±•-ä¸‹é¢å‡ ä¸ªæ˜¯æˆ‘è®¤ä¸ºèƒ½ç”¨åˆ°é¡¹ç›®é‡Œé¢é¢‘ç‡ç›¸å¯¹é«˜çš„"><a href="#å­—ç¬¦ä¸²çš„æ‰©å±•-ä¸‹é¢å‡ ä¸ªæ˜¯æˆ‘è®¤ä¸ºèƒ½ç”¨åˆ°é¡¹ç›®é‡Œé¢é¢‘ç‡ç›¸å¯¹é«˜çš„" class="headerlink" title="å­—ç¬¦ä¸²çš„æ‰©å±•(ä¸‹é¢å‡ ä¸ªæ˜¯æˆ‘è®¤ä¸ºèƒ½ç”¨åˆ°é¡¹ç›®é‡Œé¢é¢‘ç‡ç›¸å¯¹é«˜çš„)"></a>å­—ç¬¦ä¸²çš„æ‰©å±•(ä¸‹é¢å‡ ä¸ªæ˜¯æˆ‘è®¤ä¸ºèƒ½ç”¨åˆ°é¡¹ç›®é‡Œé¢é¢‘ç‡ç›¸å¯¹é«˜çš„)</h4><ol><li>Unicode è¡¨ç¤ºæ³•ï¼šeg:\u{1F680}</li><li>éå†æ¥å£å™¨ï¼Œå¯ä»¥æŠŠå­—ç¬¦ä¸²çš„æ¯ä¸€ä¸ªå­—ç¬¦éƒ½éå†å‡ºæ¥</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="built_in">let</span> codePoint of <span class="string">'foo'</span>) &#123;</span><br><span class="line">    console.log(codePoint)</span><br><span class="line">&#125;</span><br><span class="line">// <span class="string">"f"</span></span><br><span class="line">// <span class="string">"o"</span></span><br><span class="line">// <span class="string">"o"</span></span><br></pre></td></tr></table></figure><ol start="3"><li>at(),è¿™ä¸ªå’Œ es5 çš„ charAt()å·®ä¸å¤šï¼Œå¹¶ä¸”èƒ½è¯†åˆ«å‡ºæ¥ç ç‚¹å¤§äº 0xFFFF çš„å­—ç¬¦</li><li>includes(),startsWith(),endsWith(),he es5 çš„ indexOf æ–¹æ³•å·®ä¸å¤šï¼Œå®ƒè¿”å›çš„æ˜¯å¸ƒå°”å€¼</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var s = <span class="string">'Hello world!'</span>;</span><br><span class="line"></span><br><span class="line">s.startsWith(<span class="string">'Hello'</span>) // <span class="literal">true</span></span><br><span class="line">s.endsWith(<span class="string">'!'</span>) // <span class="literal">true</span></span><br><span class="line">s.includes(<span class="string">'o'</span>) // <span class="literal">true</span></span><br></pre></td></tr></table></figure><ol start="5"><li>repeat()<br>ç›´æ¥çœ‹ä¸‹é¢çš„ä»£ç å§</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'x'</span>.repeat(3) // <span class="string">"xxx"</span></span><br><span class="line"><span class="string">'hello'</span>.repeat(2) // <span class="string">"hellohello"</span></span><br><span class="line"><span class="string">'na'</span>.repeat(0) // <span class="string">""</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå¦‚æœæ˜¯å°æ•°ï¼Œåˆ™å–æ•´ï¼›è´Ÿæ•°æˆ–è€… Infinityï¼ŒæŠ¥é”™ï¼›0 åˆ°-1 çš„éƒ½è§†ä¸º 0ï¼›NaN è§†ä¸º 0</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…ˆè¯´ä¸€ä¸‹ let å§ï¼&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;let å’Œ var ä¸€æ ·ç”¨æ¥å£°æ˜å˜é‡ï¼Œä½†æ˜¯ä¸åŒçš„æ˜¯ï¼šlet å‘½ä»¤åªåœ¨æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ(es5 æ²¡æœ‰å—çº§ä½œç”¨åŸŸ)&lt;/li&gt;
&lt;li&gt;for å¾ªç¯é‡Œé¢ä¸è¦å†ç”¨ var äº†ï¼Œè¦ä¸ç„¶æ¯æ¬¡è¾“å‡ºæ¥çš„éƒ½æ˜¯æœ€åä¸€ä¸ªéå†å‡ºæ¥çš„å€¼&lt;/li&gt;
&lt;li&gt;let ä¸å­˜åœ¨å˜é‡æå‡ï¼Œä¸€å®šè¦å…ˆå£°æ˜åä½¿ç”¨ï¼Œè¦ä¸ç„¶æŠ¥é”™ï¼›è€Œ var å¯ä»¥å…ˆä½¿ç”¨å†å£°æ˜ï¼Œè¾“å‡ºæ¥ undefined&lt;/li&gt;
&lt;li&gt;æš‚æ—¶æ€§æ­»åŒºï¼Œåªè¦è¿›å»ä½œç”¨åŸŸï¼Œæ‰€è¦ä½¿ç”¨çš„å˜é‡å°±å·²ç»å­˜åœ¨äº†ï¼Œä½†æ˜¯ä¸å¯ä»¥è·å–ï¼Œåªæœ‰ç­‰åˆ°å˜é‡å£°æ˜äº†æ‰å¯ä»¥è·å–å’Œä½¿ç”¨å®ƒ&lt;/li&gt;
&lt;li&gt;let ä¸å…è®¸åœ¨åŒä¸€ä½œç”¨åŸŸå†…é‡å¤å£°æ˜&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="javascript" scheme="https://chenhx9211.github.io/categories/javascript/"/>
    
    
      <category term="es6" scheme="https://chenhx9211.github.io/tags/es6/"/>
    
  </entry>
  
  <entry>
    <title>Webç«™ç‚¹åŠ é€Ÿæœ€ä½³å®è·µ</title>
    <link href="https://chenhx9211.github.io/2017/11/08/Best%20Practices%20for%20Speeding%20Up%20Your%20Web%20Site/"/>
    <id>https://chenhx9211.github.io/2017/11/08/Best Practices for Speeding Up Your Web Site/</id>
    <published>2017-11-08T03:29:07.000Z</published>
    <updated>2019-06-19T09:11:19.277Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;åœ¨<a href="/2017/09/06/é«˜æ€§èƒ½Webå»ºè®¾æŒ‡å—æ‘˜è¦">é«˜æ€§èƒ½ Web å»ºè®¾æŒ‡å—æ‘˜è¦</a>æ€»ç»“äº†å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„ 14 æ¡åŸåˆ™ï¼Œåœ¨é«˜æ€§èƒ½ Web è¿›é˜¶æŒ‡å—ä¸­ï¼Œä¹Ÿç”±ä¸€äº›å»ºè®®ã€‚å‡ å¹´è¿‡å»äº†ï¼ŒYahoo çš„ Exceptional Performance team æ€»ç»“çš„è§„åˆ™ä¹Ÿå‘å±•åˆ° 35 æ¡ã€‚<a href="https://developer.yahoo.com/performance/rules.html" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a>ã€‚è§„åˆ™åˆ†ä¸ºä¸ƒç±»ï¼šé¡µé¢å†…å®¹ï¼ŒæœåŠ¡å™¨ï¼Œcookieï¼Œcssï¼Œjavascriptï¼Œå›¾ç‰‡å’Œæ‰‹æœºç«¯ã€‚<br>&emsp;&emsp; æ ¹æ®åŸæ–‡ç¿»è¯‘æ•´ç†äº†ä¸€ä¸‹ï¼Œè®°å½•äº†ä¸€äº›æ–°çš„åŸåˆ™ã€‚æ„Ÿè°¢å‰ç«¯å·¥å…·çš„å‘å±•ï¼Œå¦‚ webpackï¼Œeslintï¼Œå…¶ä¸­å¾ˆå¤šä¼˜åŒ–åŸåˆ™éƒ½å¯ä»¥è®©å·¥å…·è‡ªåŠ¨å®æ–½ã€‚å…¶ä¸­åŸæ¥çš„é»„é‡‘è§„åˆ™å¯å‚çœ‹<a href="/2017/09/06/é«˜æ€§èƒ½Webå»ºè®¾æŒ‡å—æ‘˜è¦">é«˜æ€§èƒ½ Web å»ºè®¾æŒ‡å—æ‘˜è¦</a></p><a id="more"></a><h2 id="å†…å®¹"><a href="#å†…å®¹" class="headerlink" title="å†…å®¹"></a>å†…å®¹</h2><h3 id="å‡å°‘-DOM-å…ƒç´ æ•°é‡"><a href="#å‡å°‘-DOM-å…ƒç´ æ•°é‡" class="headerlink" title="å‡å°‘ DOM å…ƒç´ æ•°é‡"></a>å‡å°‘ DOM å…ƒç´ æ•°é‡</h3><p>&emsp;&emsp; æ£€æŸ¥æ–‡æ¡£ dom æ•°é‡çš„ç®€å•åŠæ³•ï¼Œåœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œä¸‹ä¸€è¡Œä»£ç :<br>document.getElementsByTagName(â€˜*â€˜).length</p><h3 id="å°½é‡å‡å°‘ä½¿ç”¨-iframe"><a href="#å°½é‡å‡å°‘ä½¿ç”¨-iframe" class="headerlink" title="å°½é‡å‡å°‘ä½¿ç”¨ iframe"></a>å°½é‡å‡å°‘ä½¿ç”¨ iframe</h3><p>iframe å¸®åŠ©ç¬¬ä¸‰æ–¹å†…å®¹åµŒå…¥ï¼Œå¸®åŠ©è„šæœ¬å¹¶è¡Œä¸‹è½½ï¼Œä½†æ˜¯ä½¿ç”¨å®ƒçš„ä»£ä»·å¾ˆå¤§ï¼Œå®ƒä¼šé˜»å¡é¡µé¢åŠ è½½</p><h3 id="ä¸ä½¿ç”¨-404"><a href="#ä¸ä½¿ç”¨-404" class="headerlink" title="ä¸ä½¿ç”¨ 404"></a>ä¸ä½¿ç”¨ 404</h3><p>ä¸€ä¸ªæ— ç”¨çš„å“åº”(ä¾‹å¦‚ 404 Not Found) å®Œå…¨æ²¡æœ‰ç”¨å¤„ï¼Œåªä¼šé™ä½ç”¨æˆ·ä½“éªŒã€‚æœ‰äº›ç«™ç‚¹ä½¿ç”¨è¯¸å¦‚â€Did you mean X?â€çš„ 404 å“åº”, å¯¹ç”¨æˆ·ä½“éªŒæœ‰å¸®åŠ©ä½†æ˜¯æµªè´¹äº†æœåŠ¡å™¨èµ„æº(ä¾‹å¦‚æ•°æ®åº“ç­‰). å¦‚æœé“¾æ¥æ˜¯ä¸€ä¸ªå¤–éƒ¨çš„è„šæœ¬ï¼Œè€Œè¿”å›çš„å“åº”æ˜¯ 404ï¼Œå°¤å…¶ç³Ÿç³•ï¼šé¦–å…ˆ, è„šæœ¬ä¸‹è½½ä¼šé˜»å¡å¹¶è¡Œä¸‹è½½ï¼Œå…¶æ¬¡å¦‚æœ 404 å“åº”çš„ body æ˜¯ JavaScript ä»£ç ï¼Œæµè§ˆå™¨ä¼šå»è§£æè„šæœ¬ã€‚</p><h2 id="æœåŠ¡å™¨"><a href="#æœåŠ¡å™¨" class="headerlink" title="æœåŠ¡å™¨"></a>æœåŠ¡å™¨</h2><h3 id="Flush-the-Buffer-Early"><a href="#Flush-the-Buffer-Early" class="headerlink" title="Flush the Buffer Early"></a>Flush the Buffer Early</h3><p>When users request a page, it can take anywhere from 200 to 500ms for the backend server to stitch together the HTML page. During this time, the browser is idle as it waits for the data to arrive. In PHP you have the function flush(). It allows you to send your partially ready HTML response to the browser so that the browser can start fetching components while your backend is busy with the rest of the HTML page. The benefit is mainly seen on busy backends or light frontends.</p><p>A good place to consider flushing is right after the HEAD because the HTML for the head is usually easier to produce and it allows you to include any CSS and JavaScript files for the browser to start fetching in parallel while the backend is still processing.</p><p>Example:</p><pre><code>  ... &lt;!-- css, js --&gt;&lt;/head&gt;&lt;?php flush(); ?&gt;&lt;body&gt;  ... &lt;!-- content --&gt;</code></pre><h3 id="Use-GET-for-AJAX-Requests"><a href="#Use-GET-for-AJAX-Requests" class="headerlink" title="Use GET for AJAX Requests"></a>Use GET for AJAX Requests</h3><p>The Yahoo! Mail team found that when using XMLHttpRequest, POST is implemented in the browsers as a two-step process: sending the headers first, then sending data. So itâ€™s best to use GET, which only takes one TCP packet to send (unless you have a lot of cookies). The maximum URL length in IE is 2K, so if you send more than 2K data you might not be able to use GET.</p><p>An interesting side affect is that POST without actually posting any data behaves like GET. Based on the HTTP specs, GET is meant for retrieving information, so it makes sense (semantically) to use GET when youâ€™re only requesting data, as opposed to sending data to be stored server-side.</p><h3 id="é¿å…-Image-å…ƒç´ çš„-src-å±æ€§ä¸ºç©º"><a href="#é¿å…-Image-å…ƒç´ çš„-src-å±æ€§ä¸ºç©º" class="headerlink" title="é¿å… Image å…ƒç´ çš„ src å±æ€§ä¸ºç©º"></a>é¿å… Image å…ƒç´ çš„ src å±æ€§ä¸ºç©º</h3><p>æ— è®ºæ˜¯ html ä»£ç ä¸­çš„<code>&lt;img src=&quot;&quot;&gt;</code>æˆ–æ˜¯é€šè¿‡ JavaScript</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var img = new Image();</span><br><span class="line">img.src = &quot;&quot;;</span><br></pre></td></tr></table></figure><p>éƒ½å¯¼è‡´åŒæ ·ç»“æœ: æµè§ˆå™¨å¤šå‘å‡ºä¸€ä¸ª http è¯·æ±‚ï¼š</p><ul><li>Internet Explorer ä¼šè¯·æ±‚é¡µé¢ç›®å½•</li><li>Safari å’Œ Chrome ä¼šè¯·æ±‚é¡µé¢.</li><li>Firefox 3 ä»¥åŠä¹‹å‰çš„ç‰ˆæœ¬å¦‚åŒ Safari å’Œ Chrome, ä¸è¿‡ 3.5 ä¸å†å‘å‡ºè¯·æ±‚.</li><li>Opera ä¸ä¼šå‘å‡ºè¯·æ±‚.</li></ul><p>Why is this behavior bad?</p><p>Cripple your servers by sending a large amount of unexpected traffic, especially for pages that get millions of page views per day.<br>Waste server computing cycles generating a page that will never be viewed.<br>Possibly corrupt user data. If you are tracking state in the request, either by cookies or in another way, you have the possibility of destroying data. Even though the image request does not return an image, all of the headers are read and accepted by the browser, including all cookies. While the rest of the response is thrown away, the damage may already be done.</p><p>HTML5 å¢åŠ äº†å¯¹ to the description of the tagâ€™s src attribute to instruct browsers not to make an additional request</p><p>The src attribute must be present, and must contain a valid URL referencing a non-interactive, optionally animated, image resource that is neither paged nor scripted. If the base URI of the element is the same as the documentâ€™s address, then the src attributeâ€™s value must not be the empty string.<br>Hopefully, browsers will not have this problem in the future. Unfortunately, there is no such clause for <code>&lt;script src=&quot;&quot;&gt;</code> and <code>&lt;link href=&quot;&quot;&gt;</code> Maybe there is still time to make that adjustment to ensure browsers donâ€™t accidentally implement this behavior.<br>This rule was inspired by Yahoo!â€™s JavaScript guru Nicolas C. Zakas. For more information check out his article â€œEmpty image src can destroy your siteâ€.</p><h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><h3 id="å‡å°‘-Cookie-å¤§å°"><a href="#å‡å°‘-Cookie-å¤§å°" class="headerlink" title="å‡å°‘ Cookie å¤§å°"></a>å‡å°‘ Cookie å¤§å°</h3><h3 id="é™æ€å†…å®¹ä½¿ç”¨-Cookie-free-åŸŸå"><a href="#é™æ€å†…å®¹ä½¿ç”¨-Cookie-free-åŸŸå" class="headerlink" title="é™æ€å†…å®¹ä½¿ç”¨ Cookie-free åŸŸå"></a>é™æ€å†…å®¹ä½¿ç”¨ Cookie-free åŸŸå</h3><p>&emsp;&emsp; æµè§ˆå™¨è¯·æ±‚é™æ€å›¾ç‰‡ç­‰å†…å®¹æ—¶å€™ï¼ŒWeb æœåŠ¡å™¨ä¸€èˆ¬å¹¶ä¸ä½¿ç”¨ Cookieã€‚å› æ­¤ï¼Œé™æ€å†…å®¹çš„ä¸»æœºåç§°ä½¿ç”¨ cookie-free åŸŸåï¼Œæµè§ˆå™¨å°±ä¸ä¼šå‘é€ cookieï¼Œå¯å‡å°‘ç½‘ç»œæµé‡ã€‚</p><h3 id="é¿å…ä½¿ç”¨-CSS-Filter"><a href="#é¿å…ä½¿ç”¨-CSS-Filter" class="headerlink" title="é¿å…ä½¿ç”¨ CSS Filter"></a>é¿å…ä½¿ç”¨ CSS Filter</h3><p>&emsp;&emsp; The IE-proprietary AlphaImageLoader filter aims to fix a problem with semi-transparent true color PNGs in IE versions &lt; 7. The problem with this filter is that it blocks rendering and freezes the browser while the image is being downloaded. It also increases memory consumption and is applied per element, not per image, so the problem is multiplied.</p><p>&emsp;&emsp; The best approach is to avoid AlphaImageLoader completely and use gracefully degrading PNG8 instead, which are fine in IE. If you absolutely need AlphaImageLoader, use the underscore hack _filter as to not penalize your IE7+ users.</p><h3 id="Choose-over-import"><a href="#Choose-over-import" class="headerlink" title="Choose  over @import"></a>Choose <link> over @import</h3><p>&emsp;&emsp; One of the previous best practices states that CSS should be at the top in order to allow for progressive rendering.</p><p>&emsp;&emsp; In IE @import behaves the same as using <link> at the bottom of the page, so itâ€™s best not to use it.</p><h2 id="Javascript"><a href="#Javascript" class="headerlink" title="Javascript"></a>Javascript</h2><h3 id="Minimize-DOM-Access"><a href="#Minimize-DOM-Access" class="headerlink" title="Minimize DOM Access"></a>Minimize DOM Access</h3><p>&emsp;&emsp; Accessing DOM elements with JavaScript is slow so in order to have a more responsive page, you should:</p><p>Cache references to accessed elements<br>Update nodes â€œofflineâ€ and then add them to the tree<br>Avoid fixing layout with JavaScript<br>For more information check the YUI theatreâ€™s â€œHigh Performance Ajax Applicationsâ€ by Julien Lecomte.</p><h3 id="Develop-Smart-Event-Handlers"><a href="#Develop-Smart-Event-Handlers" class="headerlink" title="Develop Smart Event Handlers"></a>Develop Smart Event Handlers</h3><p>&emsp;&emsp; Sometimes pages feel less responsive because of too many event handlers attached to different elements of the DOM tree which are then executed too often. Thatâ€™s why using event delegation is a good approach. If you have 10 buttons inside a div, attach only one event handler to the div wrapper, instead of one handler for each button. Events bubble up so youâ€™ll be able to catch the event and figure out which button it originated from.</p><p>You also donâ€™t need to wait for the onload event in order to start doing something with the DOM tree. Often all you need is the element you want to access to be available in the tree. You donâ€™t have to wait for all images to be downloaded. DOMContentLoaded is the event you might consider using instead of onload, but until itâ€™s available in all browsers, you can use the YUI Event utility, which has an onAvailable method.</p><h2 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h2><h3 id="Optimize-CSS-Sprites"><a href="#Optimize-CSS-Sprites" class="headerlink" title="Optimize CSS Sprites"></a>Optimize CSS Sprites</h3><p>Arranging the images in the sprite horizontally as opposed to vertically usually results in a smaller file size.<br>Combining similar colors in a sprite helps you keep the color count low, ideally under 256 colors so to fit in a PNG8.<br>â€œBe mobile-friendlyâ€ and donâ€™t leave big gaps between the images in a sprite. This doesnâ€™t affect the file size as much but requires less memory for the user agent to decompress the image into a pixel map. 100x100 image is 10 thousand pixels, where 1000x1000 is 1 million pixels</p><h3 id="ä¸è¦åœ¨-HTML-ä¸­ç¼©æ”¾å›¾ç‰‡"><a href="#ä¸è¦åœ¨-HTML-ä¸­ç¼©æ”¾å›¾ç‰‡" class="headerlink" title="ä¸è¦åœ¨ HTML ä¸­ç¼©æ”¾å›¾ç‰‡"></a>ä¸è¦åœ¨ HTML ä¸­ç¼©æ”¾å›¾ç‰‡</h3><p>&emsp;&emsp; ä¾‹å¦‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img width=&quot;100&quot; height=&quot;100&quot; src=&quot;mycat.jpg&quot; alt=&quot;My Cat&quot; /&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp; å›¾ç‰‡ mycat.jpg å°±åº”è¯¥æ˜¯ 100x100pxï¼Œè€Œä¸æ˜¯ä¸€ä¸ª 500x500px.</p><h3 id="favicon-ico"><a href="#favicon-ico" class="headerlink" title="favicon.ico"></a>favicon.ico</h3><p>&emsp;&emsp;æµè§ˆå™¨æ¯æ¬¡è®¿é—®ç½‘ç«™ï¼Œéƒ½ä¼šè‡ªåŠ¨è¯·æ±‚ï¼Œå› æ­¤æœ€å¥½æ˜¯åœ¨æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª favicon.icoï¼ŒåŒæ—¶å°½å¯èƒ½ç¼“å­˜</p><ul><li>å°½é‡å°äº 1K.</li><li>è®¾ç½® Expires å¤´</li></ul><h2 id="æ‰‹æœºç«¯"><a href="#æ‰‹æœºç«¯" class="headerlink" title="æ‰‹æœºç«¯"></a>æ‰‹æœºç«¯</h2><h3 id="ç»„ä»¶-è¯‘è€…æ³¨ï¼šæŒ‡çš„æ˜¯-html-é¡µé¢ï¼Œcssï¼Œjsï¼Œå›¾ç‰‡ç­‰ç­‰é¡µé¢å†…å®¹æ–‡ä»¶-çš„å¤§å°ä¸è¦è¶…è¿‡-25K"><a href="#ç»„ä»¶-è¯‘è€…æ³¨ï¼šæŒ‡çš„æ˜¯-html-é¡µé¢ï¼Œcssï¼Œjsï¼Œå›¾ç‰‡ç­‰ç­‰é¡µé¢å†…å®¹æ–‡ä»¶-çš„å¤§å°ä¸è¦è¶…è¿‡-25K" class="headerlink" title="ç»„ä»¶(è¯‘è€…æ³¨ï¼šæŒ‡çš„æ˜¯ html é¡µé¢ï¼Œcssï¼Œjsï¼Œå›¾ç‰‡ç­‰ç­‰é¡µé¢å†…å®¹æ–‡ä»¶)çš„å¤§å°ä¸è¦è¶…è¿‡ 25K"></a>ç»„ä»¶(è¯‘è€…æ³¨ï¼šæŒ‡çš„æ˜¯ html é¡µé¢ï¼Œcssï¼Œjsï¼Œå›¾ç‰‡ç­‰ç­‰é¡µé¢å†…å®¹æ–‡ä»¶)çš„å¤§å°ä¸è¦è¶…è¿‡ 25K</h3><p>iPhone ä¸ä¼šç¼“å†²å¤§äº 25K çš„å†…å®¹ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ 25k æ˜¯æŒ‡è§£å‹åçš„æ–‡ä»¶å¤§å°ï¼Œå•ç‹¬ä½¿ç”¨ gzip ä¸èµ·ä½œç”¨ï¼Œå› æ­¤å‡å°‘æ–‡ä»¶çš„å¤§å°å¾ˆé‡è¦ã€‚</p><p>è¯¦æƒ…å¯å‚çœ‹ Wayne Shea å’Œ Tenni Theurer å†™çš„<a href="http://yuiblog.com/blog/2008/02/06/iphone-cacheability/" target="_blank" rel="noopener">â€œPerformance Research, Part 5: iPhone Cacheability - Making it Stickâ€</a>.</p><h3 id="Pack-Components-into-a-Multipart-Document"><a href="#Pack-Components-into-a-Multipart-Document" class="headerlink" title="Pack Components into a Multipart Document"></a>Pack Components into a Multipart Document</h3><p>æŠŠå†…å®¹ç»„ä»¶æ‰“åŒ…åˆ°ä¸€ä¸ª multipart æ–‡æ¡£ï¼Œå°±åƒå¸¦é™„ä»¶çš„ç”µå­é‚®ä»¶, æœ‰åŠ©äºä½¿ç”¨ä¸€æ¬¡ HTTP è¯·æ±‚ï¼Œè·å–å¤šä¸ªå†…å®¹ç»„ä»¶ã€‚ä½¿ç”¨è¿™ä¸ªæŠ€å·§å‰, é¦–å…ˆæ£€æŸ¥ä¸€ä¸‹å®¢æˆ·ç«¯çš„ user agent æ˜¯å¦æ”¯æŒ(iPhone ä¸æ”¯æŒ)ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;åœ¨&lt;a href=&quot;/2017/09/06/é«˜æ€§èƒ½Webå»ºè®¾æŒ‡å—æ‘˜è¦&quot;&gt;é«˜æ€§èƒ½ Web å»ºè®¾æŒ‡å—æ‘˜è¦&lt;/a&gt;æ€»ç»“äº†å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„ 14 æ¡åŸåˆ™ï¼Œåœ¨é«˜æ€§èƒ½ Web è¿›é˜¶æŒ‡å—ä¸­ï¼Œä¹Ÿç”±ä¸€äº›å»ºè®®ã€‚å‡ å¹´è¿‡å»äº†ï¼ŒYahoo çš„ Exceptional Performance team æ€»ç»“çš„è§„åˆ™ä¹Ÿå‘å±•åˆ° 35 æ¡ã€‚&lt;a href=&quot;https://developer.yahoo.com/performance/rules.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;åŸæ–‡åœ°å€&lt;/a&gt;ã€‚è§„åˆ™åˆ†ä¸ºä¸ƒç±»ï¼šé¡µé¢å†…å®¹ï¼ŒæœåŠ¡å™¨ï¼Œcookieï¼Œcssï¼Œjavascriptï¼Œå›¾ç‰‡å’Œæ‰‹æœºç«¯ã€‚&lt;br&gt;&amp;emsp;&amp;emsp; æ ¹æ®åŸæ–‡ç¿»è¯‘æ•´ç†äº†ä¸€ä¸‹ï¼Œè®°å½•äº†ä¸€äº›æ–°çš„åŸåˆ™ã€‚æ„Ÿè°¢å‰ç«¯å·¥å…·çš„å‘å±•ï¼Œå¦‚ webpackï¼Œeslintï¼Œå…¶ä¸­å¾ˆå¤šä¼˜åŒ–åŸåˆ™éƒ½å¯ä»¥è®©å·¥å…·è‡ªåŠ¨å®æ–½ã€‚å…¶ä¸­åŸæ¥çš„é»„é‡‘è§„åˆ™å¯å‚çœ‹&lt;a href=&quot;/2017/09/06/é«˜æ€§èƒ½Webå»ºè®¾æŒ‡å—æ‘˜è¦&quot;&gt;é«˜æ€§èƒ½ Web å»ºè®¾æŒ‡å—æ‘˜è¦&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="frontend" scheme="https://chenhx9211.github.io/categories/frontend/"/>
    
    
      <category term="å‰ç«¯æ€§èƒ½" scheme="https://chenhx9211.github.io/tags/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD/"/>
    
  </entry>
  
  <entry>
    <title>é«˜æ€§èƒ½Webè¿›é˜¶æŒ‡å—æ‘˜è¦</title>
    <link href="https://chenhx9211.github.io/2017/09/23/%E9%AB%98%E6%80%A7%E8%83%BDWeb%E8%BF%9B%E9%98%B6%E6%8C%87%E5%8D%97%E6%91%98%E8%A6%81/"/>
    <id>https://chenhx9211.github.io/2017/09/23/é«˜æ€§èƒ½Webè¿›é˜¶æŒ‡å—æ‘˜è¦/</id>
    <published>2017-09-23T13:09:11.000Z</published>
    <updated>2019-06-19T10:25:24.327Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;æœ¬ä¹¦å¤§éƒ¨åˆ†å†…å®¹è®² JavsScript çš„æ€§èƒ½ä¼˜åŒ–ï¼Œå›¾ç‰‡å’Œ CSS çš„å¤„ç†ä¹Ÿæ¶‰åŠåˆ°ä¸€äº›ï¼Œä¹Ÿæ¶‰åŠåˆ°ä¸€äº›æœåŠ¡å™¨ç«¯çš„å¤„ç†ã€‚<br>é‡Œé¢çš„å†…å®¹è®²å¾—å¾ˆå¥½ï¼Œä¸è¿‡é‰´äºè¿‘æœŸçš„å‰ç«¯æ¡†æ¶å’Œå·¥å…·çš„æˆç†Ÿï¼Œé‡Œé¢ç»å¤§å†…å®¹éƒ½ç”±æ¡†æ¶å’Œå·¥å…·è‡ªåŠ¨å¤„ç†äº†ï¼Œå°±æ²¡æœ‰æ‘˜å½•ã€‚<br>å†™åœ¨è¿™é‡Œï¼Œä¸è¿‡æ˜¯ä¸ºçœ‹è¿‡è¿™æœ¬ä¹¦åšä¸ªè®°å½•ã€‚</p><a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;æœ¬ä¹¦å¤§éƒ¨åˆ†å†…å®¹è®² JavsScript çš„æ€§èƒ½ä¼˜åŒ–ï¼Œå›¾ç‰‡å’Œ CSS çš„å¤„ç†ä¹Ÿæ¶‰åŠåˆ°ä¸€äº›ï¼Œä¹Ÿæ¶‰åŠåˆ°ä¸€äº›æœåŠ¡å™¨ç«¯çš„å¤„ç†ã€‚&lt;br&gt;é‡Œé¢çš„å†…å®¹è®²å¾—å¾ˆå¥½ï¼Œä¸è¿‡é‰´äºè¿‘æœŸçš„å‰ç«¯æ¡†æ¶å’Œå·¥å…·çš„æˆç†Ÿï¼Œé‡Œé¢ç»å¤§å†…å®¹éƒ½ç”±æ¡†æ¶å’Œå·¥å…·è‡ªåŠ¨å¤„ç†äº†ï¼Œå°±æ²¡æœ‰æ‘˜å½•ã€‚&lt;br&gt;å†™åœ¨è¿™é‡Œï¼Œä¸è¿‡æ˜¯ä¸ºçœ‹è¿‡è¿™æœ¬ä¹¦åšä¸ªè®°å½•ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="frontend" scheme="https://chenhx9211.github.io/categories/frontend/"/>
    
    
      <category term="å‰ç«¯æ€§èƒ½" scheme="https://chenhx9211.github.io/tags/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD/"/>
    
  </entry>
  
  <entry>
    <title>é«˜æ€§èƒ½Webå»ºè®¾æŒ‡å—æ‘˜è¦</title>
    <link href="https://chenhx9211.github.io/2017/09/06/%E9%AB%98%E6%80%A7%E8%83%BDWeb%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97%E6%91%98%E8%A6%81/"/>
    <id>https://chenhx9211.github.io/2017/09/06/é«˜æ€§èƒ½Webå»ºè®¾æŒ‡å—æ‘˜è¦/</id>
    <published>2017-09-06T13:09:11.000Z</published>
    <updated>2019-06-19T08:05:16.171Z</updated>
    
    <content type="html"><![CDATA[<p>&emsp;&emsp;æ€§èƒ½é»„é‡‘æ³•åˆ™ï¼š10 ï½ 20%çš„æ€»å“åº”æ—¶é—´åœ¨ä¸‹è½½ html æ–‡æ¡£ï¼Œ80 ï½ 90%çš„æ—¶é—´åœ¨ä¸‹è½½é¡µé¢ä¸­çš„ç»„ä»¶(å›¾ç‰‡ï¼Œå¤–éƒ¨æ ·å¼è¡¨ã€è„šæœ¬ç­‰)ã€‚ä¼˜åŒ–çš„è¦ç‚¹æ˜¯å‡å°‘å æ¯”è¾¾ 80 ï½ 90%é¡µé¢ç»„ä»¶å“åº”æ—¶é—´ã€‚</p><a id="more"></a><h2 id="è§„åˆ™-1â€“å‡å°‘-HTTP-è¯·æ±‚"><a href="#è§„åˆ™-1â€“å‡å°‘-HTTP-è¯·æ±‚" class="headerlink" title="è§„åˆ™ 1â€“å‡å°‘ HTTP è¯·æ±‚"></a>è§„åˆ™ 1â€“å‡å°‘ HTTP è¯·æ±‚</h2><p>è¿ç”¨ä»¥ä¸‹æŠ€æœ¯å‡å°‘ http è¯·æ±‚</p><ul><li>å›¾ç‰‡åœ°å›¾</li><li>CSS Sprites</li><li>å†…è”å›¾ç‰‡</li><li>åˆå¹¶æ ·å¼è¡¨</li><li>åˆå¹¶è„šæœ¬</li></ul><h2 id="è§„åˆ™-2â€“ä½¿ç”¨å†…å®¹åˆ†å‘ç½‘ç»œ"><a href="#è§„åˆ™-2â€“ä½¿ç”¨å†…å®¹åˆ†å‘ç½‘ç»œ" class="headerlink" title="è§„åˆ™ 2â€“ä½¿ç”¨å†…å®¹åˆ†å‘ç½‘ç»œ"></a>è§„åˆ™ 2â€“ä½¿ç”¨å†…å®¹åˆ†å‘ç½‘ç»œ</h2><p>&emsp;&emsp;å†…å®¹åˆ†å¸ƒç½‘ç»œ(CDN)æ˜¯ä¸€ç»„åˆ†å¸ƒåœ¨å¤šä¸ªä¸åŒåœ°ç†ä½ç½®çš„ Web æœåŠ¡å™¨ã€‚é™æ€å†…å®¹ç»„ä»¶å‘å¸ƒåˆ° CDN åï¼Œä¼šåœ¨å¤šä¸ª Web æœåŠ¡å™¨éƒ½æœ‰æ‹·è´ï¼Œå½“ç”¨æˆ·è¯·æ±‚å†…å®¹ç»„ä»¶æ—¶ï¼ŒCDN å¯é€‰æ‹©å“åº”æ—¶é—´æœ€çŸ­çš„ Web æœåŠ¡å™¨(æ¯”å¦‚ç¦»ç”¨æˆ·æœ€è¿‘çš„æœåŠ¡å™¨)æ¥å®Œæˆè¯·æ±‚ã€‚</p><p>&emsp;&emsp;CDN ä¸ä½†å¸¦æ¥æ›´çŸ­çš„å“åº”æ—¶é—´ï¼Œè€Œä¸”å¯ä»¥ç¼“è§£è‡ªèº«æœåŠ¡å™¨çš„å‹åŠ›ã€‚</p><h2 id="è§„åˆ™-3â€“æ·»åŠ -EXpires-å¤´"><a href="#è§„åˆ™-3â€“æ·»åŠ -EXpires-å¤´" class="headerlink" title="è§„åˆ™ 3â€“æ·»åŠ  EXpires å¤´"></a>è§„åˆ™ 3â€“æ·»åŠ  EXpires å¤´</h2><p>&emsp;&emsp;http æ•°æ®åŒ…åˆ†ä¸ºå¤´(head)å’Œèº«ä½“(body)ä¸¤éƒ¨åˆ†ï¼Œå¤´éƒ¨å¯æ·»åŠ  Expires å’Œ Cache-Control æ¥å½±å“æµè§ˆå™¨çš„ç¼“å­˜æ—¶é—´ã€‚æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è®¾ç½® http å¤´</p><ul><li>æœåŠ¡å™¨ç«¯åœ¨å“åº”è¯·æ±‚æ—¶è®¾ç½®è¯·æ±‚çš„ http å¤´ã€‚</li><li>html é¡µé¢é€šè¿‡ meta æ ‡ç­¾çš„ http-equiv æ¥è®¾å®šã€‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ï¼œmeta http-equiv=&quot;expires&quot; content=&quot;Wed, 20 Jun 2007 22:33:00 GMT&quot;ï¼</span><br><span class="line">ï¼œmeta http-equiv=&quot;Cache-Control&quot; content=&quot;max-age=7200&quot;ï¼</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;http-equiv ç›¸å½“äº http çš„æ–‡ä»¶å¤´ä½œç”¨ï¼Œå®ƒå¯ä»¥å‘æµè§ˆå™¨ä¼ å›ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ï¼Œä»¥å¸®åŠ©æ­£ç¡®å’Œç²¾ç¡®åœ°æ˜¾ç¤ºç½‘é¡µå†…å®¹ã€‚http-equiv å¯¹åº”çš„å±æ€§å€¼ä¸º contentï¼Œå¯è®¾ç½®å„ä¸ªå‚æ•°çš„å˜é‡å€¼ã€‚<br>&emsp;&emsp;å®¢æˆ·ç«¯(æ¯”å¦‚ JavaScript è„šæœ¬)å¯ä»¥åœ¨ HTTP è¯·æ±‚ä¸­ä½¿ç”¨çš„æ ‡å‡† Cache-Control æŒ‡ä»¤</p><ul><li>Cache-Control: max-age=&lt;seconds&gt;</li><li>Cache-Control: max-stale[=&lt;seconds&gt;</li><li>Cache-Control: min-fresh=&lt;seconds&gt;</li><li>Cache-control: no-cache</li><li>Cache-control: no-store</li><li>Cache-control: no-transform</li><li>Cache-control: only-if-cached</li></ul><p>&emsp;&emsp;æœåŠ¡å™¨å¯ä»¥åœ¨å“åº”ä¸­ä½¿ç”¨çš„æ ‡å‡† Cache-Control æŒ‡ä»¤</p><ul><li>Cache-control: must-revalidate</li><li>Cache-control: no-cache</li><li>Cache-control: no-store</li><li>Cache-control: no-transform</li><li>Cache-control: public</li><li>Cache-control: private</li><li>Cache-control: proxy-revalidate</li><li>Cache-Control: max-age=&lt;seconds&gt;</li><li>Cache-control: s-maxage=&lt;seconds&gt;</li></ul><h2 id="è§„åˆ™-4â€“å‹ç¼©ç»„ä»¶"><a href="#è§„åˆ™-4â€“å‹ç¼©ç»„ä»¶" class="headerlink" title="è§„åˆ™ 4â€“å‹ç¼©ç»„ä»¶"></a>è§„åˆ™ 4â€“å‹ç¼©ç»„ä»¶</h2><p>Web å®¢æˆ·ç«¯å¯åœ¨ http è¯·æ±‚çš„å¤´éƒ¨ä¸­åŠ å…¥ Accept-Encoding æ¥æ ‡è¯†å®¢æˆ·ç«¯æ”¯æŒçš„å‹ç¼©æ–¹æ³•ç±»å‹ï¼ˆæµè§ˆå™¨ä¸€èˆ¬ä¼šè‡ªåŠ¨åœ¨æ¯æ¬¡çš„è¯·æ±‚ä¸­åŠ å…¥è¿™ä¸ªå¤´éƒ¨æŒ‡ä»¤ï¼‰ï¼ŒWeb æœåŠ¡å™¨ä¼šç”¨å®¢æˆ·ç«¯åˆ—å‡ºæ¥çš„æ–¹æ³•ä¹‹ä¸€æ¥å‹ç¼©å“åº”ç»“æœï¼Œå¹¶åœ¨å“åº”ä¸­åŠ å…¥ Content-Encoding:xxx. æœ€å¸¸ç”¨çš„å‹ç¼©æ–¹æ³•æ˜¯ gzipã€‚</p><ul><li>å­˜åœ¨ä»£ç†å’Œ CDN çš„æƒ…å†µä¼šå˜å¤æ‚ï¼Œè§£å†³åŠæ³•æ˜¯åœ¨æœåŠ¡å™¨çš„å“åº”å¤´éƒ¨ä¸­åŠ å…¥ Vary: Accept-Encoding</li></ul><h2 id="è§„åˆ™-5â€“å°†æ ·å¼è¡¨æ”¾åœ¨æ–‡æ¡£é¡¶éƒ¨"><a href="#è§„åˆ™-5â€“å°†æ ·å¼è¡¨æ”¾åœ¨æ–‡æ¡£é¡¶éƒ¨" class="headerlink" title="è§„åˆ™ 5â€“å°†æ ·å¼è¡¨æ”¾åœ¨æ–‡æ¡£é¡¶éƒ¨"></a>è§„åˆ™ 5â€“å°†æ ·å¼è¡¨æ”¾åœ¨æ–‡æ¡£é¡¶éƒ¨</h2><p>&emsp;&emsp;æµè§ˆå™¨ä¸€èˆ¬ä¼šé€æ­¥å‘ˆç°å·²ä¸‹è½½çš„å†…å®¹ï¼Œæ ·å¼è¡¨æ”¾åœ¨æ–‡æ¡£åº•éƒ¨æ—¶ï¼Œä¸ºé¿å…å½“æ ·å¼å˜åŒ–æ—¶é‡ç»˜é¡µé¢ä¸­çš„å…ƒç´ ï¼Œæµè§ˆå™¨ä¼šå»¶è¿Ÿæ˜¾ç¤ºä»»ä½•å¯è§†åŒ–ç»„ä»¶ã€‚æ ·å¼è¡¨çš„æ”¾ç½®åœ¨åº•éƒ¨ä¸ä¼šå½±å“ä¸‹è½½æ—¶é—´ï¼Œä½†æ˜¯ä¼šå½±å“å†…å®¹çš„é€æ­¥å‘ˆç°ï¼Œç”¨æˆ·ä¼šæœ‰æ›´æ…¢çš„æ„Ÿè§‰ï¼ŒåŒæ—¶å®ƒè¿˜å’Œç™½å±ã€æ— æ ·å¼å†…å®¹çš„é—ªçƒç›¸å…³ã€‚</p><h2 id="è§„åˆ™-6â€“å°†è„šæœ¬æ”¾åœ¨æ–‡æ¡£åº•éƒ¨"><a href="#è§„åˆ™-6â€“å°†è„šæœ¬æ”¾åœ¨æ–‡æ¡£åº•éƒ¨" class="headerlink" title="è§„åˆ™ 6â€“å°†è„šæœ¬æ”¾åœ¨æ–‡æ¡£åº•éƒ¨"></a>è§„åˆ™ 6â€“å°†è„šæœ¬æ”¾åœ¨æ–‡æ¡£åº•éƒ¨</h2><p>&emsp;&emsp;http 1.1 åè®®å»ºè®®æµè§ˆå™¨ä»æ¯ä¸ªä¸»æœºåä¸‹å¹¶è¡Œçš„ä¸‹è½½ä¸¤ä¸ªç»„ä»¶ã€‚ ç„¶è€Œï¼Œä¸‹è½½è„šæœ¬æ—¶å®é™…ä¸Šä¼šç¦ç”¨å¹¶è¡Œä¸‹è½½-å³ä½¿ä½¿ç”¨äº†ä¸åŒçš„ä¸»æœºåã€‚å…¶ä¸­çš„åŸå› æ˜¯ï¼š</p><ul><li>è„šæœ¬å¯èƒ½ä½¿ç”¨ document.write æ¥ä¿®æ”¹é¡µé¢å†…å®¹ï¼Œå› æ­¤æµè§ˆå™¨ä¼šç­‰å¾…ï¼Œä»¥ç¡®ä¿é¡µé¢èƒ½å¤Ÿæ°å½“çš„å¸ƒå±€ã€‚</li><li>ä¿è¯è„šæœ¬èƒ½æŒ‰æ­£ç¡®çš„é¡ºåºæ‰§è¡Œï¼Œå¦‚æœå¹¶è¡Œä¸‹è½½å¤šä¸ªè„šæœ¬ï¼Œé¡µé¢æ¬¡åºä¸­åœ¨åçš„è„šæœ¬æœ‰å¯èƒ½å…ˆä¸‹è½½å®Œæˆå¹¶æ‰§è¡Œã€‚</li></ul><p>&emsp;&emsp;å°†è„šæœ¬æ”¾åœ¨é¡¶éƒ¨ï¼Œä¼šé˜»å¡å¯¹å…¶åé¢å†…å®¹çš„å‘ˆç°ï¼ŒåŒæ—¶é˜»å¡å¯¹åé¢ç»„ä»¶çš„ä¸‹è½½ã€‚</p><h2 id="è§„åˆ™-7â€“é¿å…-CSS-è¡¨è¾¾å¼"><a href="#è§„åˆ™-7â€“é¿å…-CSS-è¡¨è¾¾å¼" class="headerlink" title="è§„åˆ™ 7â€“é¿å… CSS è¡¨è¾¾å¼"></a>è§„åˆ™ 7â€“é¿å… CSS è¡¨è¾¾å¼</h2><p>&emsp;&emsp;CSS expression æ–¹æ³•å¯æ¥å—ä¸€ä¸ª JavaScript è¡¨è¾¾å¼ï¼Œå¾ˆå¤šæƒ…å†µä¸‹ä¼šå¯¼è‡´å¯¹å…¶é¢‘ç¹æ±‚å€¼ï¼Œå½±å“æµè§ˆå™¨æ€§èƒ½ã€‚<br>å»ºè®®ä½¿ç”¨ä¸€æ¬¡æ€§è¡¨è¾¾å¼ï¼Œæˆ–ä½¿ç”¨ JavaScript åœ¨äº‹ä»¶å¤„ç†ä¸­æä¾›åŠ¨æ€è¡Œä¸ºã€‚</p><h2 id="è§„åˆ™-8â€“ä½¿ç”¨å¤–éƒ¨-JavaScript-å’Œ-CSS"><a href="#è§„åˆ™-8â€“ä½¿ç”¨å¤–éƒ¨-JavaScript-å’Œ-CSS" class="headerlink" title="è§„åˆ™ 8â€“ä½¿ç”¨å¤–éƒ¨ JavaScript å’Œ CSS"></a>è§„åˆ™ 8â€“ä½¿ç”¨å¤–éƒ¨ JavaScript å’Œ CSS</h2><p>&emsp;&emsp;æµè§ˆå™¨å¯ä»¥ç¼“å­˜å¤–éƒ¨ JavaScript å’Œ CSSï¼Œå¤–éƒ¨çš„ JavaScript å’Œ CSS è¿˜å¯ç»™ç½‘ç«™ä¸­å…¶ä»–é¡µé¢å…±äº«ã€‚</p><ul><li>åŠ è½½åä¸‹è½½<br>åŒæ ·çš„æ ·å¼è¡¨æˆ–è„šæœ¬åŒæ—¶å†™å…¥åˆ°å¤–éƒ¨æ–‡ä»¶å’Œå†…è”åˆ°é¡µé¢ä¸­ï¼Œåœ¨é¡µé¢çš„ onload äº‹ä»¶å†æ¬¡ä¸‹è½½å«æœ‰åŒæ ·å†…å®¹çš„å¤–éƒ¨æ–‡ä»¶ã€‚å†…è”çš„æ ·å¼å’Œè„šæœ¬è®©é¡µé¢å‘ˆç°æ›´å¿«ï¼ŒåŒæ—¶ç½‘ç«™çš„å…¶ä»–é¡µé¢å¯ä½¿ç”¨å·²ä¸‹è½½çš„å¤–éƒ¨æ ·å¼å’Œè„šæœ¬æ–‡ä»¶ã€‚éœ€è¦æ³¨æ„è„šæœ¬å’Œ CSS åŠ è½½ä¸¤æ¬¡å¯èƒ½å¸¦æ¥çš„é—®é¢˜ã€‚</li></ul><h2 id="è§„åˆ™-9â€“å‡å°‘-DNS-æŸ¥æ‰¾"><a href="#è§„åˆ™-9â€“å‡å°‘-DNS-æŸ¥æ‰¾" class="headerlink" title="è§„åˆ™ 9â€“å‡å°‘ DNS æŸ¥æ‰¾"></a>è§„åˆ™ 9â€“å‡å°‘ DNS æŸ¥æ‰¾</h2><p>&emsp;&emsp;æµè§ˆå™¨ä¼šè§£æ html é¡µé¢å¤–éƒ¨ç»„ä»¶æ‰€ä½¿ç”¨ä¸»æœºåç§°ï¼Œhttp 1.1 åè®®å»ºè®®æ¯ä¸ªä¸»æœºåç§°ä¸¤ä¸ªå¹¶è¡Œä¸‹è½½ï¼›å› è€Œåœ¨ html é¡µé¢ä¸­å¯¹é¡µé¢ä¸­çš„ç»„ä»¶ä½¿ç”¨å¤šä¸ªä¸»æœºåç§°ï¼Œå¯æé«˜å¹¶è¡Œä¸‹è½½æ•°é‡ã€‚ç„¶è€Œè¿‡å¤šçš„ä¸»æœºåç§°ï¼Œå¯èƒ½ä¸èƒ½æ›´å¥½çš„åˆ©ç”¨ http 1.1 åè®®çš„ keep-alive ç‰¹æ€§ï¼ŒåŒæ—¶å¯¼è‡´æµè§ˆå™¨è¿›è¡Œå¤šæ¬¡ DNS æŸ¥æ‰¾ã€‚ç»¼åˆä¸¤ä¸ªè€ƒè™‘ï¼Œå»ºè®®åœ¨é¡µé¢ä¸­ä½¿ç”¨è‡³å°‘ä¸¤ä¸ªï¼Œä½†ä¸è¦è¶…è¿‡ 4 ä¸ªä¸»æœºåã€‚</p><h2 id="è§„åˆ™-10â€“ç²¾ç®€ï¼ˆminifyï¼‰-JavaScript-ã€-CSS"><a href="#è§„åˆ™-10â€“ç²¾ç®€ï¼ˆminifyï¼‰-JavaScript-ã€-CSS" class="headerlink" title="è§„åˆ™ 10â€“ç²¾ç®€ï¼ˆminifyï¼‰ JavaScript ã€ CSS"></a>è§„åˆ™ 10â€“ç²¾ç®€ï¼ˆminifyï¼‰ JavaScript ã€ CSS</h2><p>å‹ç¼©æ··æ·† JavaScript ä»£ç ï¼Œä»¥å‡å°ä»£ç å°ºå¯¸ã€‚åŒæ ·å¯¹ CSSï¼Œhtml éƒ½å¯ä½¿ç”¨å·¥å…·è¿›è¡Œ minifyã€‚</p><h2 id="è§„åˆ™-11â€“é¿å…é‡å®šå‘"><a href="#è§„åˆ™-11â€“é¿å…é‡å®šå‘" class="headerlink" title="è§„åˆ™ 11â€“é¿å…é‡å®šå‘"></a>è§„åˆ™ 11â€“é¿å…é‡å®šå‘</h2><p>ä¸€äº›å®¹æ˜“å¿½è§†çš„åœºæ™¯ï¼š</p><ul><li>url æŒ‡å‘ç›®å½•æ—¶ï¼Œç»“å°¾ä¸è¦çœç•¥æ–œçº¿/ï¼Œä¸è¦è®© Web æœåŠ¡å™¨ä¸ºä½ å‘å‡ºé‡å®šå‘</li><li>å†…éƒ¨æµé‡è·Ÿè¸ªï¼Œä½¿ç”¨ referer æ—¥å¿—è·Ÿè¸ªæµé‡å–å‘ï¼Œè€Œä¸æ˜¯ä½¿ç”¨é‡å®šå‘ã€‚</li><li>å‡ºæˆ˜æµé‡è·Ÿè¸ªï¼Œä¸å®ç”¨é‡å®šå‘ï¼Œè€Œä½¿ç”¨ä¿¡æ ‡ beanconâ€“ä¸€ä¸ªåœ¨ url ä¸­åŒ…å«æœ‰è·Ÿè¸ªä¿¡æ¯çš„ http è¯·æ±‚ï¼ˆä¿¡æ ‡å“åº”é€šå¸¸æ˜¯ä¸€ä¸ª 1px X 1px çš„é€æ˜å›¾ç‰‡ï¼›æˆ–è€…ä½¿ç”¨ 204 å“åº”ï¼Œå› ä¸ºå®ƒæ›´å°ï¼Œä»æ¥ä¸ä¼šè¢«ç¼“å­˜ï¼Œè€Œä¸”ç»å¯¹ä¸ä¼šæ”¹å˜æµè§ˆå™¨çŠ¶æ€ã€‚ï¼‰ï¼Œè·Ÿè¸ªä¿¡æ¯å¯ä»¥ä»ä¿¡æ ‡çš„ web æœåŠ¡å™¨è¯·æ±‚æ—¥å¿—ä¸­æå–å‡ºæ¥ã€‚</li></ul><p>&emsp;&emsp;ä½¿ç”¨å›¾ç‰‡çš„ä¿¡æ ‡ä¾‹å­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;http://en.wikipedia.org/wiki/Performance&quot;</span><br><span class="line">   onclick=&quot;resultBeacon(this); return false;&quot;&gt;Performance - Wikipedia&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">var beacon;</span><br><span class="line">function resultBeacon(anchor) &#123;</span><br><span class="line">    beacon = new Image();</span><br><span class="line">    beacon.onload = gotoUrl;</span><br><span class="line">    beacon.onerror = gotoUrl;  // in case the image fails, we still want to redirect the user</span><br><span class="line">  beacon.anchor = anchor;</span><br><span class="line">    beacon.src = &quot;/bin/beacon204.gif?url=&quot; + escape(anchor.href);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function gotoUrl() &#123;</span><br><span class="line">    document.location = beacon.anchor.href;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;ä½¿ç”¨ XHttpRequest çš„ä¿¡æ ‡ä¾‹å­</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;http://en.wikipedia.org/wiki/Performance&quot;</span><br><span class="line">   onclick=&quot;resultBeacon(this); return false;&quot;&gt;Performance - Wikipedia&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">var gAnchor, gXhrObj;</span><br><span class="line"></span><br><span class="line">function resultBeacon(anchor) &#123;</span><br><span class="line">gAnchor = anchor;</span><br><span class="line">  beacon_src = &quot;http://stevesouders.com/images/beacon.gif?url=&quot; + escape(anchor.href) + &quot;&amp;t=&quot; + Number(new Date());</span><br><span class="line"></span><br><span class="line">gXhrObj = getXHRObject();</span><br><span class="line">gXhrObj.onreadystatechange = xhrCallback;</span><br><span class="line">try &#123;</span><br><span class="line">gXhrObj.open(&quot;GET&quot;, beacon_src, true);  // true == async</span><br><span class="line">gXhrObj.send(&quot;&quot;);</span><br><span class="line">&#125;catch(err) &#123;</span><br><span class="line">gotoUrl();  // on failure, just go to the target url</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function xhrCallback(respAr) &#123;</span><br><span class="line">    var readyState = ( respAr &amp;&amp; &quot;undefined&quot; != typeof(respAr.readyState) ? respAr.readyState : gXhrObj.readyState );</span><br><span class="line">    if ( 2 == readyState ) &#123;    // the request is done enough to risk unloading the page</span><br><span class="line">        gotoUrl();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function gotoUrl() &#123;</span><br><span class="line">    document.location = gAnchor.href;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Find the right syntax for creating an XHR object.</span><br><span class="line">function getXHRObject() &#123;</span><br><span class="line">    var xhrObj = false;</span><br><span class="line">    try &#123;</span><br><span class="line">        xhrObj = new XMLHttpRequest();</span><br><span class="line">    &#125;catch(e)&#123;</span><br><span class="line">        var progid = [&apos;MSXML2.XMLHTTP.5.0&apos;, &apos;MSXML2.XMLHTTP.4.0&apos;, &apos;MSXML2.XMLHTTP.3.0&apos;, &apos;MSXML2.XMLHTTP&apos;, &apos;Microsoft.XMLHTTP&apos;];</span><br><span class="line">        for ( var i=0; i &lt; progid.length; ++i ) &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                xhrObj = new ActiveXObject(progid[i]);</span><br><span class="line">            &#125;catch(e) &#123;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    finally &#123;</span><br><span class="line">        return xhrObj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="è§„åˆ™-12â€“ç§»é™¤é‡å¤è„šæœ¬"><a href="#è§„åˆ™-12â€“ç§»é™¤é‡å¤è„šæœ¬" class="headerlink" title="è§„åˆ™ 12â€“ç§»é™¤é‡å¤è„šæœ¬"></a>è§„åˆ™ 12â€“ç§»é™¤é‡å¤è„šæœ¬</h2><p>&emsp;&emsp;å›¢é˜Ÿè§„æ¨¡å’Œè„šæœ¬æ•°é‡å˜å¤§ï¼Œå¾€å¾€ä¼šæœ‰ç›¸åŒçš„è„šæœ¬ä»£ç ã€‚éœ€è¦å®ç°ä¸€ä¸ªè„šæœ¬ç®¡ç†æ¨¡å—ï¼Œé¿å…é‡å¤çš„è„šæœ¬ã€‚</p><h2 id="è§„åˆ™-13â€“é…ç½®æˆ–ç§»é™¤-ETag"><a href="#è§„åˆ™-13â€“é…ç½®æˆ–ç§»é™¤-ETag" class="headerlink" title="è§„åˆ™ 13â€“é…ç½®æˆ–ç§»é™¤ ETag"></a>è§„åˆ™ 13â€“é…ç½®æˆ–ç§»é™¤ ETag</h2><p>&emsp;&emsp;ETagï¼ŒEntity Tag-å®ä½“æ ‡ç­¾æ˜¯ Web æœåŠ¡å™¨å’Œæµè§ˆå™¨ç”¨äºç¡®è®¤ç¼“å­˜ç»„ä»¶æœ‰æ•ˆæ€§çš„ä¸€ç§æœºåˆ¶ã€‚æ¡ä»¶ Get è¯·æ±‚ä¼šæ¯”è¾ƒæ–‡ä»¶ä¿®æ”¹æ—¥æœŸå’Œ ETag æ ‡ç­¾ï¼ŒETag æ ‡ç­¾å¯¹äºé™æ€æ–‡ä»¶è€Œè¨€ä¸åˆ©ã€‚å› æ­¤å»ºè®®æ˜¯åœ¨æœåŠ¡å™¨ç«¯é…ç½® ETag æˆ–è€…å¹²è„†ç§»é™¤å®ƒã€‚</p><h2 id="è§„åˆ™-14â€“ä½¿-AJAX-å¯ç¼“å­˜"><a href="#è§„åˆ™-14â€“ä½¿-AJAX-å¯ç¼“å­˜" class="headerlink" title="è§„åˆ™ 14â€“ä½¿ AJAX å¯ç¼“å­˜"></a>è§„åˆ™ 14â€“ä½¿ AJAX å¯ç¼“å­˜</h2><p>&emsp;&emsp;æŸäº› AJAX Get è¯·æ±‚å¯ä»¥è¢«ç¼“å­˜ï¼Œè€Œä¸å½±å“ç”¨æˆ·ä½“éªŒã€‚è¦ä½¿è¿™äº› AJAX è¯·æ±‚è¢«ç¼“å­˜ï¼Œéœ€è¦</p><ul><li>ç»™å“åº”è®¾ç½® HTTP Cache-Control æˆ– Expires å¤´</li><li>è¯·æ±‚çš„ URL ä¸­åº”åŒ…æ‹¬å“åº”çš„ä¸ªæ€§åŒ–å’ŒåŠ¨æ€åŒ–æ•°æ®ï¼Œè¿™æ ·ç¼“å­˜ç»“æœæ‰æ­£ç¡®çš„åæ˜ å‡ºä¸ªæ€§åŒ–å’ŒåŠ¨æ€åŒ–ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;emsp;&amp;emsp;æ€§èƒ½é»„é‡‘æ³•åˆ™ï¼š10 ï½ 20%çš„æ€»å“åº”æ—¶é—´åœ¨ä¸‹è½½ html æ–‡æ¡£ï¼Œ80 ï½ 90%çš„æ—¶é—´åœ¨ä¸‹è½½é¡µé¢ä¸­çš„ç»„ä»¶(å›¾ç‰‡ï¼Œå¤–éƒ¨æ ·å¼è¡¨ã€è„šæœ¬ç­‰)ã€‚ä¼˜åŒ–çš„è¦ç‚¹æ˜¯å‡å°‘å æ¯”è¾¾ 80 ï½ 90%é¡µé¢ç»„ä»¶å“åº”æ—¶é—´ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="frontend" scheme="https://chenhx9211.github.io/categories/frontend/"/>
    
    
      <category term="å‰ç«¯æ€§èƒ½" scheme="https://chenhx9211.github.io/tags/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD/"/>
    
  </entry>
  
  <entry>
    <title>é—­åŒ…</title>
    <link href="https://chenhx9211.github.io/2017/09/06/%E9%97%AD%E5%8C%85/"/>
    <id>https://chenhx9211.github.io/2017/09/06/é—­åŒ…/</id>
    <published>2017-09-06T13:09:11.000Z</published>
    <updated>2019-06-19T14:35:32.985Z</updated>
    
    <content type="html"><![CDATA[<p>é—­åŒ… = å‡½æ•° + å‡½æ•°èƒ½å¤Ÿè®¿é—®çš„è‡ªç”±å˜é‡</p><a id="more"></a><h2 id="è‡ªç”±å˜é‡"><a href="#è‡ªç”±å˜é‡" class="headerlink" title="è‡ªç”±å˜é‡"></a>è‡ªç”±å˜é‡</h2><p>&emsp;&emsp;è‡ªç”±å˜é‡æ˜¯æŒ‡åœ¨å‡½æ•°ä¸­ä½¿ç”¨çš„ï¼Œä½†æ—¢ä¸æ˜¯å‡½æ•°å‚æ•°ä¹Ÿä¸æ˜¯å‡½æ•°çš„å±€éƒ¨å˜é‡çš„å˜é‡ï¼Œä¹Ÿç§°ä¸ºæœªç»‘å®šå˜é‡(unbound)ã€‚ç›¸å¯¹è€Œè¨€ï¼Œå‚æ•°å’Œå±€éƒ¨å˜é‡å°±æ˜¯ç»‘å®šå˜é‡ã€‚</p><p>&emsp;&emsp;ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo();</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;foo å‡½æ•°å¯ä»¥è®¿é—®å˜é‡ aï¼Œä½†æ˜¯ a æ—¢ä¸æ˜¯ foo å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œä¹Ÿä¸æ˜¯ foo å‡½æ•°çš„å‚æ•°ï¼Œæ‰€ä»¥ a å°±æ˜¯è‡ªç”±å˜é‡ã€‚</p><h2 id="é—­åŒ…-closure"><a href="#é—­åŒ…-closure" class="headerlink" title="é—­åŒ…(closure)"></a>é—­åŒ…(closure)</h2><p>&emsp;&emsp;äº†è§£äº†è‡ªç”±å˜é‡ï¼Œé—­åŒ…çš„å®šä¹‰å°±å¾ˆå¥½ç†è§£ï¼šé—­åŒ…æ˜¯æŒ‡é‚£äº›èƒ½å¤Ÿè®¿é—®è‡ªç”±å˜é‡çš„å‡½æ•°ã€‚<br>&emsp;&emsp;ä»ç†è®ºè§’åº¦ï¼šæ‰€æœ‰çš„ JavaScript å‡½æ•°éƒ½æ˜¯é—­åŒ…ã€‚å› ä¸ºå®ƒä»¬éƒ½åœ¨åˆ›å»ºçš„æ—¶å€™å°±å°†ä¸Šå±‚ä¸Šä¸‹æ–‡çš„æ•°æ®ä¿å­˜èµ·æ¥äº†, åœ¨å‡½æ•°ä¸­è®¿é—®å…¨å±€å˜é‡å°±ç›¸å½“äºæ˜¯åœ¨è®¿é—®è‡ªç”±å˜é‡ã€‚<br>&emsp;&emsp;ä»å®è·µè§’åº¦ï¼šä»¥ä¸‹å‡½æ•°æ‰ç®—æ˜¯é—­åŒ…ï¼š</p><ul><li>å³ä½¿åˆ›å»ºå®ƒçš„ä¸Šä¸‹æ–‡å·²ç»é”€æ¯ï¼Œå®ƒä»ç„¶å­˜åœ¨ï¼ˆæ¯”å¦‚ï¼Œå†…éƒ¨å‡½æ•°ä»çˆ¶å‡½æ•°ä¸­è¿”å›ï¼‰</li><li>åœ¨ä»£ç ä¸­å¼•ç”¨äº†è‡ªç”±å˜é‡</li></ul><p>&emsp;&emsp;JavaScript æƒå¨æŒ‡å—å¯¹é—­åŒ…çš„å®šä¹‰æ˜¯:<br>&emsp;&emsp;é—­åŒ…å°±æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡å’Œä¸€ä¸ªä½œç”¨åŸŸ(scope, a set of variable bindingsï¼Œåœ¨è¿™ä¸ªä½œç”¨åŸŸä¸­ï¼Œè¯¥å‡½æ•°çš„æ‰€æœ‰å˜é‡éƒ½èƒ½æŸ¥æ‰¾åˆ°)çš„ç»“åˆï¼Œ</p><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>&emsp;&emsp;å½“ JavaScript ä»£ç æ‰§è¡Œä¸€æ®µå¯æ‰§è¡Œä»£ç (executable code)æ—¶ï¼Œä¼šåˆ›å»ºå¯¹åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡(execution context)ã€‚å¯¹äºæ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œéƒ½æœ‰ä¸‰ä¸ªé‡è¦å±æ€§ï¼š</p><ul><li>å˜é‡å¯¹è±¡(Variable objectï¼ŒVO)</li><li>ä½œç”¨åŸŸé“¾(Scope chain)</li><li>this</li></ul><p>æ¥è‡ªã€ŠJavaScript æƒå¨æŒ‡å—ã€‹çš„ä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope = <span class="string">"global scope"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscope</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> scope = <span class="string">"local scope"</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> scope;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = checkscope();</span><br><span class="line">foo();</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;åˆ†æä¸€ä¸‹è¿™æ®µä»£ç ä¸­æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå’Œæ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜åŒ–æƒ…å†µã€‚</p><ol><li>è¿›å…¥å…¨å±€ä»£ç ï¼Œåˆ›å»ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</li><li>å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ–</li><li>æ‰§è¡Œ checkscope å‡½æ•°ï¼Œåˆ›å»º checkscope å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œcheckscope æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</li><li>checkscope æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ–ï¼Œåˆ›å»ºå˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾ã€this ç­‰</li><li>checkscope å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œcheckscope æ‰§è¡Œä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡º</li><li>æ‰§è¡Œ f å‡½æ•°ï¼Œåˆ›å»º f å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œf æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</li><li>f æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ–ï¼Œåˆ›å»ºå˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾ã€this ç­‰</li><li>f å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œf å‡½æ•°ä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡º</li></ol><p>&emsp;&emsp;å½“ f å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œcheckscope å‡½æ•°ä¸Šä¸‹æ–‡å·²ç»ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­è¢«å¼¹å‡ºè¢«é”€æ¯ï¼Œæ€ä¹ˆè¿˜ä¼šè¯»å–åˆ° checkscope ä½œç”¨åŸŸä¸‹çš„ scope å€¼å‘¢ï¼Ÿ</p><p>å½“æˆ‘ä»¬äº†è§£äº†å…·ä½“çš„æ‰§è¡Œè¿‡ç¨‹åï¼Œæˆ‘ä»¬çŸ¥é“ f æ‰§è¡Œä¸Šä¸‹æ–‡ç»´æŠ¤äº†ä¸€ä¸ªä½œç”¨åŸŸé“¾ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fContext = &#123;</span><br><span class="line">  Scope: [AO, checkscopeContext.AO, globalContext.VO]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;å³ä½¿ checkscopeContext è¢«é”€æ¯äº†ï¼Œå½“ f å‡½æ•°å¼•ç”¨äº† checkscopeContext.VO ä¸­çš„å€¼çš„æ—¶å€™ï¼Œ JavaScript ä¾ç„¶ä¼šè®© checkscopeContext.VO ä¿æŒåœ¨å†…å­˜ä¸­ï¼Œf å‡½æ•°ä¾ç„¶å¯ä»¥é€šè¿‡ f å‡½æ•°çš„ä½œç”¨åŸŸé“¾æ‰¾åˆ°å®ƒï¼Œå®ç°äº†é—­åŒ…ã€‚</p><p>é¢è¯•å¿…è€ƒçš„é—­åŒ…é¢˜ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  data[i] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">data[<span class="number">0</span>]();</span><br><span class="line">data[<span class="number">1</span>]();</span><br><span class="line">data[<span class="number">2</span>]();</span><br></pre></td></tr></table></figure><p>ç­”æ¡ˆæ˜¯éƒ½æ˜¯ 3ï¼Œè®©æˆ‘ä»¬åˆ†æä¸€ä¸‹åŸå› ï¼š</p><p>å½“æ‰§è¡Œåˆ° data[0] å‡½æ•°ä¹‹å‰ï¼Œæ­¤æ—¶å…¨å±€ä¸Šä¸‹æ–‡çš„ VO ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">globalContext = &#123;</span><br><span class="line">    VO: &#123;</span><br><span class="line">        data: [...],</span><br><span class="line">        i: <span class="number">3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“æ‰§è¡Œ data[0] å‡½æ•°çš„æ—¶å€™ï¼Œdata[0] å‡½æ•°çš„ä½œç”¨åŸŸé“¾ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="number">0</span>]Context = &#123;</span><br><span class="line">    Scope: [AO, globalContext.VO]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>data[0]Context çš„ AO å¹¶æ²¡æœ‰ i å€¼ï¼Œæ‰€ä»¥ä¼šä» globalContext.VO ä¸­æŸ¥æ‰¾ï¼Œi ä¸º 3ï¼Œæ‰€ä»¥æ‰“å°çš„ç»“æœå°±æ˜¯ 3ã€‚</p><p>data[1] å’Œ data[2] æ˜¯ä¸€æ ·çš„é“ç†ã€‚</p><p>æ”¹æˆä¸‹é¢çš„ä»£ç çœ‹çœ‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">  data[i] = (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;)(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">data[<span class="number">0</span>]();</span><br><span class="line">data[<span class="number">1</span>]();</span><br><span class="line">data[<span class="number">2</span>]();</span><br></pre></td></tr></table></figure><p>å½“æ‰§è¡Œåˆ° data[0] å‡½æ•°ä¹‹å‰ï¼Œæ­¤æ—¶å…¨å±€ä¸Šä¸‹æ–‡çš„ VO ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">globalContext = &#123;</span><br><span class="line">    VO: &#123;</span><br><span class="line">        data: [...],</span><br><span class="line">        i: <span class="number">3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·Ÿæ²¡æ”¹ä¹‹å‰ä¸€æ¨¡ä¸€æ ·ã€‚</p><p>å½“æ‰§è¡Œ data[0] å‡½æ•°çš„æ—¶å€™ï¼Œdata[0] å‡½æ•°çš„ä½œç”¨åŸŸé“¾å‘ç”Ÿäº†æ”¹å˜ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="number">0</span>]Context = &#123;</span><br><span class="line">    Scope: [AO, åŒ¿åå‡½æ•°Context.AO, globalContext.VO]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒ¿åå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡çš„ AO ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">åŒ¿åå‡½æ•°Context = &#123;</span><br><span class="line">  AO: &#123;</span><br><span class="line">    <span class="built_in">arguments</span>: &#123;</span><br><span class="line">      <span class="number">0</span>: <span class="number">0</span>,</span><br><span class="line">      length: <span class="number">1</span></span><br><span class="line">    &#125;,</span><br><span class="line">    i: <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>data[0]Context çš„ AO å¹¶æ²¡æœ‰ i å€¼ï¼Œæ‰€ä»¥ä¼šæ²¿ç€ä½œç”¨åŸŸé“¾ä»åŒ¿åå‡½æ•° Context.AO ä¸­æŸ¥æ‰¾ï¼Œè¿™æ—¶å€™å°±ä¼šæ‰¾ i ä¸º 0ï¼Œæ‰¾åˆ°äº†å°±ä¸ä¼šå¾€ globalContext.VO ä¸­æŸ¥æ‰¾äº†ï¼Œå³ä½¿ globalContext.VO ä¹Ÿæœ‰ i çš„å€¼(å€¼ä¸º 3)ï¼Œæ‰€ä»¥æ‰“å°çš„ç»“æœå°±æ˜¯ 0ã€‚</p><p>data[1] å’Œ data[2] æ˜¯ä¸€æ ·çš„é“ç†ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é—­åŒ… = å‡½æ•° + å‡½æ•°èƒ½å¤Ÿè®¿é—®çš„è‡ªç”±å˜é‡&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="https://chenhx9211.github.io/categories/javascript/"/>
    
    
      <category term="é—­åŒ…" scheme="https://chenhx9211.github.io/tags/%E9%97%AD%E5%8C%85/"/>
    
  </entry>
  
  <entry>
    <title>æ‰§è¡Œä¸Šä¸‹æ–‡å’Œä½œç”¨åŸŸé“¾</title>
    <link href="https://chenhx9211.github.io/2017/09/06/%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE/"/>
    <id>https://chenhx9211.github.io/2017/09/06/æ‰§è¡Œä¸Šä¸‹æ–‡å’Œä½œç”¨åŸŸé“¾/</id>
    <published>2017-09-06T13:09:11.000Z</published>
    <updated>2019-06-19T14:14:37.759Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ‰§è¡Œä¸Šä¸‹æ–‡"><a href="#æ‰§è¡Œä¸Šä¸‹æ–‡" class="headerlink" title="æ‰§è¡Œä¸Šä¸‹æ–‡"></a>æ‰§è¡Œä¸Šä¸‹æ–‡</h2><p>&emsp;&emsp;JavaScript å¼•æ“æ‰§è¡Œä¸€æ®µå¯æ‰§è¡Œä»£ç (executable code)æ—¶ï¼Œä¼šåˆ›å»ºå¯¹åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡(execution context)ã€‚JavaScript å¼•æ“åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼ˆExecution context stackï¼ŒECStackï¼‰æ¥ç®¡ç†æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚</p><a id="more"></a><p>&emsp;&emsp;JavaScript å¼•æ“ å¼€å§‹è¦è§£é‡Šæ‰§è¡Œä»£ç çš„æ—¶å€™ï¼Œæœ€å…ˆé‡åˆ°çš„å°±æ˜¯å…¨å±€ä»£ç ï¼Œåˆå§‹åŒ–çš„æ—¶å€™é¦–å…ˆå°±ä¼šå‘æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå‹å…¥ä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæˆ‘ä»¬ç”¨ globalContext è¡¨ç¤ºå®ƒï¼Œå¹¶ä¸”åªæœ‰å½“æ•´ä¸ªåº”ç”¨ç¨‹åºç»“æŸçš„æ—¶å€™ï¼ŒECStack æ‰ä¼šè¢«æ¸…ç©ºï¼Œæ‰€ä»¥ ECStack æœ€åº•éƒ¨æ°¸è¿œæœ‰ä¸ª globalContextï¼š<br>&emsp;&emsp;æ‰§è¡Œä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸”å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•çš„æ—¶å€™ï¼Œå°±ä¼šå°†å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä»æ ˆä¸­å¼¹å‡ºã€‚</p><p>çœ‹ä¸€ä¸ªã€ŠJavaScript æƒå¨æŒ‡å—ã€‹ä¸­çš„ä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope = <span class="string">"global scope"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscope</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> scope = <span class="string">"local scope"</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> scope;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> f();</span><br><span class="line">&#125;</span><br><span class="line">checkscope();</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope = <span class="string">"global scope"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscope</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> scope = <span class="string">"local scope"</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> scope;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br><span class="line">checkscope()();</span><br></pre></td></tr></table></figure><p>ä¸¤æ®µä»£ç æ‰§è¡Œçš„ç»“æœä¸€æ ·ï¼Œä½†æ˜¯ä¸¤æ®µä»£ç çš„æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆçš„å˜åŒ–ä¸ä¸€æ ·ã€‚</p><p>ç¬¬ä¸€æ®µä»£ç çš„æ‰§è¡Œè¿‡ç¨‹æ¨¡æ‹Ÿï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ECStack.push(&lt;checkscope&gt; functionContext);</span><br><span class="line">ECStack.push(&lt;f&gt; functionContext);</span><br><span class="line">ECStack.pop();</span><br><span class="line">ECStack.pop();</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒæ®µä»£ç çš„æ‰§è¡Œè¿‡ç¨‹æ¨¡æ‹Ÿï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ECStack.push(&lt;checkscope&gt; functionContext);</span><br><span class="line">ECStack.pop();</span><br><span class="line">ECStack.push(&lt;f&gt; functionContext);</span><br><span class="line">ECStack.pop();</span><br></pre></td></tr></table></figure><h2 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h2><p>&emsp;&emsp;ä½œç”¨åŸŸæ˜¯æŒ‡ç¨‹åºä»£ç ä¸­å®šä¹‰å˜é‡çš„åŒºåŸŸï¼Œå®ƒè§„å®šäº†å¦‚ä½•æŸ¥æ‰¾å˜é‡ã€‚ ä¸€ä¸ªå˜é‡å†™åœ¨å‡½æ•°ä¸­ï¼Œå’Œå†™åœ¨å‡½æ•°å¤–ï¼Œå®ƒçš„ä½œç”¨åŸŸæ˜¯ä¸åŒçš„ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“å±€éƒ¨å˜é‡å’Œå…¨å±€å˜é‡ã€‚<br>&emsp;&emsp;åœ¨ç¼–ç¨‹è¯­è¨€çš„è®¾è®¡ä¸­ï¼Œæœ‰ä¸¤ç§ä½œç”¨åŸŸè®¾è®¡æ–¹å¼ï¼šé™æ€ä½œç”¨åŸŸä¸åŠ¨æ€ä½œç”¨åŸŸã€‚JavaScript é‡‡ç”¨çš„æ˜¯é™æ€ä½œç”¨åŸŸã€‚</p><ul><li>é™æ€ä½œç”¨åŸŸï¼Œä¹Ÿå«è¯æ³•ä½œç”¨åŸŸ(lexical scoping)ï¼Œå‡½æ•°çš„ä½œç”¨åŸŸåœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™å°±å†³å®šäº†ã€‚</li><li>åŠ¨æ€ä½œç”¨åŸŸï¼Œå‡½æ•°çš„ä½œç”¨åŸŸæ˜¯åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™æ‰å†³å®šçš„ã€‚</li></ul><p>&emsp;&emsp;ä¸¾çœ‹ä¸ªä¾‹å­æ¥è¯´æ˜å®ƒä»¬ç›´æ¥çš„ä¹‹é—´çš„åŒºåˆ«ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> value = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> value = <span class="number">2</span>;</span><br><span class="line">  foo();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bar();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç»“æœæ˜¯ ???</span></span><br></pre></td></tr></table></figure><p>&emsp;&emsp;å‡è®¾ JavaScript é‡‡ç”¨é™æ€ä½œç”¨åŸŸï¼Œ foo å‡½æ•°çš„æ‰§è¡Œï¼Œå…ˆä» foo å‡½æ•°å†…éƒ¨æŸ¥æ‰¾æ˜¯å¦æœ‰å±€éƒ¨å˜é‡ valueï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±æ ¹æ®å®šä¹‰çš„ä½ç½®ï¼ŒæŸ¥æ‰¾ä¸Šé¢ä¸€å±‚çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯ value ç­‰äº 1ï¼Œæ‰€ä»¥ç»“æœä¼šæ‰“å° 1ã€‚</p><p>&emsp;&emsp;å‡è®¾ JavaScript é‡‡ç”¨åŠ¨æ€ä½œç”¨åŸŸï¼Œfoo å‡½æ•°çš„æ‰§è¡Œï¼Œä¾ç„¶æ˜¯ä» foo å‡½æ•°å†…éƒ¨æŸ¥æ‰¾æ˜¯å¦æœ‰å±€éƒ¨å˜é‡ valueã€‚å¦‚æœæ²¡æœ‰ï¼Œå°±ä»è°ƒç”¨ foo()çš„ä½ç½®æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯ bar å‡½æ•°å†…éƒ¨æŸ¥æ‰¾ value å˜é‡ï¼Œæ‰€ä»¥ç»“æœä¼šæ‰“å° 2ã€‚</p><p>&emsp;&emsp;JavaScript é‡‡ç”¨çš„æ˜¯é™æ€ä½œç”¨åŸŸï¼Œè¿™ä¸ªä¾‹å­çš„ç»“æœæ˜¯ 1ã€‚</p><h2 id="ä½œç”¨åŸŸé“¾"><a href="#ä½œç”¨åŸŸé“¾" class="headerlink" title="ä½œç”¨åŸŸé“¾"></a>ä½œç”¨åŸŸé“¾</h2><p>æ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œéƒ½æœ‰ä¸‰ä¸ªé‡è¦å±æ€§ï¼š</p><ul><li>å˜é‡å¯¹è±¡(Variable objectï¼ŒVO)ï¼ŒåŒ…å«äº†å…¨éƒ¨çš„å±€éƒ¨å˜é‡</li><li>ä½œç”¨åŸŸé“¾(Scope chain)</li><li>this</li></ul><p>&emsp;&emsp;JavaScript ä»£ç æ‰§è¡Œæ—¶ï¼Œå…ˆä»å½“å‰ä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾å˜é‡ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä»çˆ¶çº§(è¯æ³•å±‚é¢ä¸Šçš„çˆ¶çº§)æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ VO ä¸­æŸ¥æ‰¾ï¼Œä¸€ç›´æ‰¾åˆ°å…¨å±€ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å…¨å±€å¯¹è±¡ã€‚è¿™æ ·ï¼Œå¤šä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡å°±æ„æˆä¸€ä¸ªé“¾è¡¨ï¼Œå«åšä½œç”¨åŸŸé“¾ã€‚<br>&emsp;&emsp;å’Œä½œç”¨åŸŸä¸€æ ·ï¼ŒJavaScript å‡½æ•°çš„ä½œç”¨åŸŸé“¾æ˜¯åœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™åˆ›å»ºçš„ã€‚å½“å‡½æ•°åˆ›å»ºçš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªå†…éƒ¨å±æ€§ [[scope]]ï¼Œä¼šä¿å­˜æ‰€æœ‰çˆ¶å˜é‡å¯¹è±¡åˆ°å…¶ä¸­ï¼Œä½ å¯ä»¥ç†è§£ [[scope]] å°±æ˜¯æ‰€æœ‰çˆ¶å˜é‡å¯¹è±¡çš„å±‚çº§é“¾ã€‚ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‡½æ•°åˆ›å»ºæ—¶ï¼Œå„è‡ªçš„[[scope]]ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">foo.[[scope]] = [</span><br><span class="line">  globalContext.VO</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">bar.[[scope]] = [</span><br><span class="line">    fooContext.AO,</span><br><span class="line">    globalContext.VO</span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;ä½†æ˜¯[[scope]] å¹¶ä¸ä»£è¡¨å®Œæ•´çš„ä½œç”¨åŸŸé“¾ã€‚å½“å‡½æ•°æ‰§è¡Œæ—¶ï¼Œåˆ›å»ºæ´»åŠ¨å¯¹è±¡ AOï¼›å†å°†æ´»åŠ¨å¯¹è±¡ AO æ·»åŠ åˆ°ä½œç”¨é“¾çš„å‰ç«¯ã€‚è¿™æ—¶å€™æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä½œç”¨åŸŸé“¾ï¼Œæ‰æ˜¯å®Œæ•´çš„ï¼Œæˆ‘ä»¬å‘½åä¸º Scopeï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Scope = [AO].concat([[Scope]]);</span><br></pre></td></tr></table></figure><p>ç»“åˆ ECStackï¼Œå†æ¥çœ‹çœ‹ä¸Šé¢çš„åˆ—å‡ºçš„ã€ŠJavaScript æƒå¨æŒ‡å—ã€‹ä¸­ä¾‹å­çš„ç¬¬ä¸€æ®µä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope = <span class="string">"global scope"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscope</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> scope = <span class="string">"local scope"</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> scope;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> f();</span><br><span class="line">&#125;</span><br><span class="line">checkscope();</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li>æ‰§è¡Œå…¨å±€ä»£ç ï¼Œåˆ›å»ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå…¨å±€ä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ECStack = [globalContext];</span><br></pre></td></tr></table></figure><p>å…¨å±€ä¸Šä¸‹æ–‡åˆå§‹åŒ–</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">globalContext = &#123;</span><br><span class="line">  VO: [global, scope, checkscope],</span><br><span class="line">  Scope: [globalContext.VO],</span><br><span class="line">  <span class="keyword">this</span>: globalContext.VO</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ol start="2"><li>checkscope å‡½æ•°è¢«åˆ›å»ºï¼Œä¿å­˜ä½œç”¨åŸŸé“¾åˆ°å‡½æ•°çš„å†…éƒ¨å±æ€§[[scope]]</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">checkscope.[[scope]] = [</span><br><span class="line">  globalContext.VO</span><br><span class="line">];</span><br></pre></td></tr></table></figure><ol start="3"><li>æ‰§è¡Œ checkscope å‡½æ•°ï¼Œåˆ›å»º checkscope å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œcheckscope å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ECStack = [checkscopeContext, globalContext];</span><br></pre></td></tr></table></figure><ol start="4"><li>åˆå§‹åŒ– checkscope å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼š</li></ol><ul><li><p>å¤åˆ¶å‡½æ•° [[scope]] å±æ€§åˆ›å»ºä½œç”¨åŸŸé“¾ï¼Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">checkscopeContext = &#123;</span><br><span class="line">    Scope: checkscope.[[scope]],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç”¨ arguments åˆ›å»ºæ´»åŠ¨å¯¹è±¡</p></li><li><p>åˆå§‹åŒ–æ´»åŠ¨å¯¹è±¡ï¼ŒåŠ å…¥å½¢å‚ã€å‡½æ•°å£°æ˜ã€å˜é‡å£°æ˜</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">checkscopeContext = &#123;</span><br><span class="line">  AO: &#123;</span><br><span class="line">    <span class="built_in">arguments</span>: &#123;</span><br><span class="line">      length: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    scope: <span class="literal">undefined</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p>å°†æ´»åŠ¨å¯¹è±¡å‹å…¥ checkscope ä½œç”¨åŸŸé“¾é¡¶ç«¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">checkscopeContext = &#123;</span><br><span class="line">  AO: &#123;</span><br><span class="line">    <span class="built_in">arguments</span>: &#123;</span><br><span class="line">      length: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    scope: <span class="literal">undefined</span></span><br><span class="line">  &#125;,</span><br><span class="line">  Scope: [AO, [[Scope]]]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>åŒæ—¶ f å‡½æ•°è¢«åˆ›å»ºï¼Œä¿å­˜ä½œç”¨åŸŸé“¾åˆ° f å‡½æ•°çš„å†…éƒ¨å±æ€§[[scope]]</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">checkscopeContext = &#123;</span><br><span class="line">    AO: &#123;</span><br><span class="line">        <span class="built_in">arguments</span>: &#123;</span><br><span class="line">            length: <span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        scope: <span class="literal">undefined</span>,</span><br><span class="line">        f: reference to <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    Scope: [AO, globalContext.VO],</span><br><span class="line">    <span class="keyword">this</span>: <span class="literal">undefined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><ol start="5"><li>å¼€å§‹æ‰§è¡Œå‡½æ•°ï¼Œéšç€å‡½æ•°çš„æ‰§è¡Œï¼Œä¿®æ”¹ AO çš„å±æ€§å€¼ï¼ŒAO ä¸­çš„ scope è¢«èµ‹å€¼â€local scopeâ€</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">checkscopeContext = &#123;</span><br><span class="line">  AO: &#123;</span><br><span class="line">    <span class="built_in">arguments</span>: &#123;</span><br><span class="line">      length: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    scope: <span class="string">"local scope"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  Scope: [AO, [[Scope]]]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œ f å‡½æ•°ï¼Œåˆ›å»º f å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œf å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ECStack = [fContext, checkscopeContext, globalContext];</span><br></pre></td></tr></table></figure><p>6.f å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ–, ä»¥ä¸‹è·Ÿç¬¬ 4 æ­¥ç›¸åŒï¼š</p><ul><li>å¤åˆ¶å‡½æ•° [[scope]] å±æ€§åˆ›å»ºä½œç”¨åŸŸé“¾</li><li>ç”¨ arguments åˆ›å»ºæ´»åŠ¨å¯¹è±¡</li><li>åˆå§‹åŒ–æ´»åŠ¨å¯¹è±¡ï¼Œå³åŠ å…¥å½¢å‚ã€å‡½æ•°å£°æ˜ã€å˜é‡å£°æ˜</li><li>å°†æ´»åŠ¨å¯¹è±¡å‹å…¥ f ä½œç”¨åŸŸé“¾é¡¶ç«¯</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fContext = &#123;</span><br><span class="line">  AO: &#123;</span><br><span class="line">    <span class="built_in">arguments</span>: &#123;</span><br><span class="line">      length: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  Scope: [AO, checkscopeContext.AO, globalContext.VO],</span><br><span class="line">  <span class="keyword">this</span>: <span class="literal">undefined</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>7.f å‡½æ•°æ‰§è¡Œï¼Œæ²¿ç€ä½œç”¨åŸŸé“¾æŸ¥æ‰¾ scope å€¼ï¼Œè¿”å› scope å€¼</p><p>8.f å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œf å‡½æ•°ä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡º</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ECStack = [checkscopeContext, globalContext];</span><br></pre></td></tr></table></figure><p>9.checkscope å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œcheckscope æ‰§è¡Œä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡º</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ECStack = [globalContext];</span><br></pre></td></tr></table></figure><p>åŒæ ·å¯åˆ†æç¬¬äºŒæ®µä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope = <span class="string">"global scope"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscope</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> scope = <span class="string">"local scope"</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> scope;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br><span class="line">checkscope()();</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ‰§è¡Œä¸Šä¸‹æ–‡&quot;&gt;&lt;a href=&quot;#æ‰§è¡Œä¸Šä¸‹æ–‡&quot; class=&quot;headerlink&quot; title=&quot;æ‰§è¡Œä¸Šä¸‹æ–‡&quot;&gt;&lt;/a&gt;æ‰§è¡Œä¸Šä¸‹æ–‡&lt;/h2&gt;&lt;p&gt;&amp;emsp;&amp;emsp;JavaScript å¼•æ“æ‰§è¡Œä¸€æ®µå¯æ‰§è¡Œä»£ç (executable code)æ—¶ï¼Œä¼šåˆ›å»ºå¯¹åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡(execution context)ã€‚JavaScript å¼•æ“åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼ˆExecution context stackï¼ŒECStackï¼‰æ¥ç®¡ç†æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="https://chenhx9211.github.io/categories/javascript/"/>
    
    
  </entry>
  
  <entry>
    <title>react-native å¸¸ç”¨çš„å¸ƒå±€ï¼šflexbox</title>
    <link href="https://chenhx9211.github.io/2017/07/10/layout/"/>
    <id>https://chenhx9211.github.io/2017/07/10/layout/</id>
    <published>2017-07-10T06:09:14.000Z</published>
    <updated>2019-06-19T11:22:14.639Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h2><ol><li>é‡‡ç”¨ flex å¸ƒå±€çš„å…ƒç´ å°±æ˜¯ flex å®¹å™¨ï¼šflex container.å®ƒé‡Œé¢æ‰€æœ‰çš„å…ƒç´ éƒ½å«å­å…ƒç´ ï¼šflex item.</li><li>container å®¹å™¨å­˜åœ¨ä¸¤æ ¹è½´ï¼šæ°´å¹³çš„ä¸»è½´(main axis)å’Œå‚ç›´çš„äº¤å‰è½´(cross axis).ä¸»è½´èµ·å§‹ä½ç½® main start,ç»“æŸä½ç½® main end,äº¤å‰è½´èµ·å§‹ä½ç½® cross start,ç»“æŸä½ç½® cross end. 3.é¡¹ç›®é»˜è®¤æ²¿ç€ä¸»è½´æ’åˆ—.</li></ol><a id="more"></a><h3 id="container-ä¸Šè®¾ç½®çš„å±æ€§æœ‰-6-ä¸ª"><a href="#container-ä¸Šè®¾ç½®çš„å±æ€§æœ‰-6-ä¸ª" class="headerlink" title="container ä¸Šè®¾ç½®çš„å±æ€§æœ‰ 6 ä¸ª"></a>container ä¸Šè®¾ç½®çš„å±æ€§æœ‰ 6 ä¸ª</h3><ol><li>flex-direction</li><li>flex-wrap</li><li>flex-flow</li><li>justify-content</li><li>align-items</li><li>align-content</li></ol><h3 id="flex-direction-ä¸»è½´çš„æ–¹å‘"><a href="#flex-direction-ä¸»è½´çš„æ–¹å‘" class="headerlink" title="flex-direction:ä¸»è½´çš„æ–¹å‘"></a>flex-direction:ä¸»è½´çš„æ–¹å‘</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.box&#123;</span><br><span class="line">    flex-direction:row | row-reverse | column | column-reverse;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="flex-wrap-å¦‚æœä¸€æ¡è½´çº¿æ’ä¸ä¸‹ï¼Œå¦‚ä½•æ¢è¡Œ"><a href="#flex-wrap-å¦‚æœä¸€æ¡è½´çº¿æ’ä¸ä¸‹ï¼Œå¦‚ä½•æ¢è¡Œ" class="headerlink" title="flex-wrap:å¦‚æœä¸€æ¡è½´çº¿æ’ä¸ä¸‹ï¼Œå¦‚ä½•æ¢è¡Œ"></a>flex-wrap:å¦‚æœä¸€æ¡è½´çº¿æ’ä¸ä¸‹ï¼Œå¦‚ä½•æ¢è¡Œ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.box&#123;</span><br><span class="line">    flex-wrap: nowrap | wrap | wrap-reverse;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>1.nowrap:ä¸æ¢è¡Œ<br>2.wrapï¼šæ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨ä¸Šæ–¹<br>3.wrap-reverseï¼šæ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨ä¸‹æ–¹</p><h3 id="flex-flowï¼šæ˜¯-flex-direction-å’Œ-flex-wrap-çš„ç®€å†™"><a href="#flex-flowï¼šæ˜¯-flex-direction-å’Œ-flex-wrap-çš„ç®€å†™" class="headerlink" title="flex-flowï¼šæ˜¯ flex-direction å’Œ flex-wrap çš„ç®€å†™"></a>flex-flowï¼šæ˜¯ flex-direction å’Œ flex-wrap çš„ç®€å†™</h3><h3 id="justify-contentï¼šé¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼"><a href="#justify-contentï¼šé¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼" class="headerlink" title="justify-contentï¼šé¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼"></a>justify-contentï¼šé¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">    justify-content: flex-start | flex-end | center | space-between | space-around;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>flex-startï¼šå·¦å¯¹é½</li><li>flex-endï¼šå³å¯¹é½</li><li>centerï¼šå±…ä¸­</li><li>space-betweenï¼šä¸¤ç«¯å¯¹é½ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”éƒ½ç›¸ç­‰</li><li>space-aroundï¼šæ¯ä¸ªé¡¹ç›®ä¸¤ä¾§çš„é—´éš”ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”æ¯”é¡¹ç›®ä¸è¾¹æ¡†çš„é—´éš”å¤§ä¸€å€</li></ol><h3 id="align-itemsï¼šé¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½"><a href="#align-itemsï¼šé¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½" class="headerlink" title="align-itemsï¼šé¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½"></a>align-itemsï¼šé¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">    align-items: flex-start | flex-end | center | baseline | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>flex-startï¼šäº¤å‰è½´çš„èµ·ç‚¹å¯¹é½</li><li>flex-endï¼šäº¤å‰è½´çš„ç»ˆç‚¹å¯¹é½</li><li>centerï¼šäº¤å‰è½´çš„ä¸­ç‚¹å¯¹é½</li><li>baselineï¼šé¡¹ç›®çš„ç¬¬ä¸€è¡Œæ–‡å­—çš„åŸºçº¿å¯¹é½</li><li>stretchï¼šå¦‚æœé¡¹ç›®æœªè®¾ç½®é«˜åº¦æˆ–è®¾ä¸º autoï¼Œå°†å æ»¡æ•´ä¸ªå®¹å™¨çš„é«˜åº¦(é»˜è®¤å€¼)</li></ol><h3 id="align-content-å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼-å¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œè¯¥å±æ€§ä¸èµ·ä½œç”¨"><a href="#align-content-å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼-å¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œè¯¥å±æ€§ä¸èµ·ä½œç”¨" class="headerlink" title="align-content:å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼.å¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œè¯¥å±æ€§ä¸èµ·ä½œç”¨"></a>align-content:å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼.å¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œè¯¥å±æ€§ä¸èµ·ä½œç”¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.box &#123;</span><br><span class="line">    align-content: flex-start | flex-end | center | space-between | space-around | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="item-ä¸Šè®¾ç½®çš„å±æ€§æœ‰-6-ä¸ª"><a href="#item-ä¸Šè®¾ç½®çš„å±æ€§æœ‰-6-ä¸ª" class="headerlink" title="item ä¸Šè®¾ç½®çš„å±æ€§æœ‰ 6 ä¸ª"></a>item ä¸Šè®¾ç½®çš„å±æ€§æœ‰ 6 ä¸ª</h3><ol><li>order</li><li>flex-grow</li><li>flex-shrink</li><li>flex-basis</li><li>flex</li><li>align-self</li></ol><h3 id="order-å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåº-æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º-0"><a href="#order-å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåº-æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º-0" class="headerlink" title="order:å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåº.æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º 0."></a>order:å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåº.æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º 0.</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">  order: &lt;<span class="built_in">integer</span>&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="flex-grow-å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º-0ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§"><a href="#flex-grow-å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º-0ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§" class="headerlink" title="flex-grow:å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º 0ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§."></a>flex-grow:å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º 0ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§.</h3><p>æ³¨æ„ï¼šå¦‚æœä¸€ä¸ªé¡¹ç›®çš„ flex-grow å±æ€§ä¸º 2ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º 1ï¼Œåˆ™å‰è€…å æ®çš„å‰©ä½™ç©ºé—´å°†æ¯”å…¶ä»–é¡¹å¤šä¸€å€</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">   flex-grow: &lt;number&gt;; /* default 0 */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="flex-shrinkï¼šå®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º-1ï¼Œå³å¦‚æœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å°"><a href="#flex-shrinkï¼šå®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º-1ï¼Œå³å¦‚æœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å°" class="headerlink" title="flex-shrinkï¼šå®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º 1ï¼Œå³å¦‚æœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å°."></a>flex-shrinkï¼šå®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º 1ï¼Œå³å¦‚æœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å°.</h3><p>æ³¨æ„ï¼šå¦‚æœæ‰€æœ‰é¡¹ç›®çš„ flex-shrink å±æ€§éƒ½ä¸º 1ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶ï¼Œéƒ½å°†ç­‰æ¯”ä¾‹ç¼©å°ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®çš„ flex-shrink å±æ€§ä¸º 0ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º 1ï¼Œåˆ™ç©ºé—´ä¸è¶³æ—¶ï¼Œå‰è€…ä¸ç¼©å°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">   flex-shrink: &lt;number&gt;; /* default 1 */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="flex-basisï¼šå®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼ˆmain-sizeï¼‰"><a href="#flex-basisï¼šå®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼ˆmain-sizeï¼‰" class="headerlink" title="flex-basisï¼šå®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼ˆmain sizeï¼‰."></a>flex-basisï¼šå®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼ˆmain sizeï¼‰.</h3><p>æ³¨æ„ï¼šå®ƒå¯ä»¥è®¾ä¸ºè·Ÿ width æˆ– height å±æ€§ä¸€æ ·çš„å€¼ï¼ˆæ¯”å¦‚ 350pxï¼‰ï¼Œåˆ™é¡¹ç›®å°†å æ®å›ºå®šç©ºé—´</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">   flex-basis: &lt;length&gt; | auto; /* default auto */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="flexï¼šæ˜¯-flex-grow-flex-shrink-å’Œ-flex-basis-çš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º-0-1-autoã€‚åä¸¤ä¸ªå±æ€§å¯é€‰"><a href="#flexï¼šæ˜¯-flex-grow-flex-shrink-å’Œ-flex-basis-çš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º-0-1-autoã€‚åä¸¤ä¸ªå±æ€§å¯é€‰" class="headerlink" title="flexï¼šæ˜¯ flex-grow, flex-shrink å’Œ flex-basis çš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º 0 1 autoã€‚åä¸¤ä¸ªå±æ€§å¯é€‰."></a>flexï¼šæ˜¯ flex-grow, flex-shrink å’Œ flex-basis çš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º 0 1 autoã€‚åä¸¤ä¸ªå±æ€§å¯é€‰.</h3><h3 id="align-self-å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›–-align-items-å±æ€§-é»˜è®¤å€¼ä¸º-auto"><a href="#align-self-å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›–-align-items-å±æ€§-é»˜è®¤å€¼ä¸º-auto" class="headerlink" title="align-self:å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›– align-items å±æ€§.é»˜è®¤å€¼ä¸º auto."></a>align-self:å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›– align-items å±æ€§.é»˜è®¤å€¼ä¸º auto.</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.item &#123;</span><br><span class="line">   align-self: auto | flex-start | flex-end | center | baseline | stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¥½å•¦,åˆ°æ­¤ç»“æŸï¼</p><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><ol><li>ä»»ä½•ä¸€ä¸ªå…ƒç´ éƒ½å¯ä»¥ä½¿ç”¨ flex å¸ƒå±€ï¼Œè¡Œå†…å…ƒç´ ä½¿ç”¨ display:inline-flex;</li><li>webkit å†…æ ¸çš„æµè§ˆå™¨å¿…é¡»åŠ ä¸Š-webkit å‰ç¼€ï¼šdisplayï¼š-webkit-flex;</li><li>è®¾ç½® flex å¸ƒå±€ä»¥åï¼Œå­å…ƒç´ çš„è¿™ä¸‰ä¸ªå±æ€§å°†ä¼šå¤±æ•ˆ:float,clear,vertical-align.</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;åŸºæœ¬æ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#åŸºæœ¬æ¦‚å¿µ&quot; class=&quot;headerlink&quot; title=&quot;åŸºæœ¬æ¦‚å¿µ&quot;&gt;&lt;/a&gt;åŸºæœ¬æ¦‚å¿µ&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;é‡‡ç”¨ flex å¸ƒå±€çš„å…ƒç´ å°±æ˜¯ flex å®¹å™¨ï¼šflex container.å®ƒé‡Œé¢æ‰€æœ‰çš„å…ƒç´ éƒ½å«å­å…ƒç´ ï¼šflex item.&lt;/li&gt;
&lt;li&gt;container å®¹å™¨å­˜åœ¨ä¸¤æ ¹è½´ï¼šæ°´å¹³çš„ä¸»è½´(main axis)å’Œå‚ç›´çš„äº¤å‰è½´(cross axis).ä¸»è½´èµ·å§‹ä½ç½® main start,ç»“æŸä½ç½® main end,äº¤å‰è½´èµ·å§‹ä½ç½® cross start,ç»“æŸä½ç½® cross end. 3.é¡¹ç›®é»˜è®¤æ²¿ç€ä¸»è½´æ’åˆ—.&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="frontend" scheme="https://chenhx9211.github.io/categories/frontend/"/>
    
    
      <category term="flex" scheme="https://chenhx9211.github.io/tags/flex/"/>
    
  </entry>
  
  <entry>
    <title>ç»§æ‰¿çš„å¤šç§æ–¹å¼</title>
    <link href="https://chenhx9211.github.io/2016/09/15/%E5%A4%9A%E7%A7%8D%E7%BB%A7%E6%89%BF%E6%96%B9%E5%BC%8F/"/>
    <id>https://chenhx9211.github.io/2016/09/15/å¤šç§ç»§æ‰¿æ–¹å¼/</id>
    <published>2016-09-15T13:09:11.000Z</published>
    <updated>2019-06-19T12:31:46.913Z</updated>
    
    <content type="html"><![CDATA[<p>JavaScript å„ç§ç»§æ‰¿æ–¹å¼å’Œä¼˜ç¼ºç‚¹ã€‚</p><a id="more"></a><h2 id="åŸå‹é“¾ç»§æ‰¿"><a href="#åŸå‹é“¾ç»§æ‰¿" class="headerlink" title="åŸå‹é“¾ç»§æ‰¿"></a>åŸå‹é“¾ç»§æ‰¿</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">"kevin"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Parent.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">Child.prototype = <span class="keyword">new</span> Parent();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> child1 = <span class="keyword">new</span> Child();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child1.getName()); <span class="comment">// kevin</span></span><br></pre></td></tr></table></figure><p>é—®é¢˜ï¼š</p><p>1.å¼•ç”¨ç±»å‹çš„å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº«ï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.names = [<span class="string">"kevin"</span>, <span class="string">"daisy"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">Child.prototype = <span class="keyword">new</span> Parent();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> child1 = <span class="keyword">new</span> Child();</span><br><span class="line"></span><br><span class="line">child1.names.push(<span class="string">"yayu"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child1.names); <span class="comment">// ["kevin", "daisy", "yayu"]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> child2 = <span class="keyword">new</span> Child();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child2.names); <span class="comment">// ["kevin", "daisy", "yayu"]</span></span><br></pre></td></tr></table></figure><p>2.åœ¨åˆ›å»º Child çš„å®ä¾‹æ—¶ï¼Œä¸èƒ½å‘ Parent ä¼ å‚</p><h2 id="2-å€Ÿç”¨æ„é€ å‡½æ•°-ç»å…¸ç»§æ‰¿"><a href="#2-å€Ÿç”¨æ„é€ å‡½æ•°-ç»å…¸ç»§æ‰¿" class="headerlink" title="2.å€Ÿç”¨æ„é€ å‡½æ•°(ç»å…¸ç»§æ‰¿)"></a>2.å€Ÿç”¨æ„é€ å‡½æ•°(ç»å…¸ç»§æ‰¿)</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.names = [<span class="string">"kevin"</span>, <span class="string">"daisy"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  Parent.call(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> child1 = <span class="keyword">new</span> Child();</span><br><span class="line"></span><br><span class="line">child1.names.push(<span class="string">"yayu"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child1.names); <span class="comment">// ["kevin", "daisy", "yayu"]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> child2 = <span class="keyword">new</span> Child();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child2.names); <span class="comment">// ["kevin", "daisy"]</span></span><br></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼š</p><p>1.é¿å…äº†å¼•ç”¨ç±»å‹çš„å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº«</p><p>2.å¯ä»¥åœ¨ Child ä¸­å‘ Parent ä¼ å‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  Parent.call(<span class="keyword">this</span>, name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> child1 = <span class="keyword">new</span> Child(<span class="string">"kevin"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child1.name); <span class="comment">// kevin</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> child2 = <span class="keyword">new</span> Child(<span class="string">"daisy"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child2.name); <span class="comment">// daisy</span></span><br></pre></td></tr></table></figure><p>ç¼ºç‚¹ï¼š</p><p>æ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œæ¯æ¬¡åˆ›å»ºå®ä¾‹éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ã€‚</p><h2 id="3-ç»„åˆç»§æ‰¿"><a href="#3-ç»„åˆç»§æ‰¿" class="headerlink" title="3.ç»„åˆç»§æ‰¿"></a>3.ç»„åˆç»§æ‰¿</h2><p>åŸå‹é“¾ç»§æ‰¿å’Œç»å…¸ç»§æ‰¿åŒå‰‘åˆç’§ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.colors = [<span class="string">"red"</span>, <span class="string">"blue"</span>, <span class="string">"green"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Parent.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  Parent.call(<span class="keyword">this</span>, name);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Child.prototype = <span class="keyword">new</span> Parent();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> child1 = <span class="keyword">new</span> Child(<span class="string">"kevin"</span>, <span class="string">"18"</span>);</span><br><span class="line"></span><br><span class="line">child1.colors.push(<span class="string">"black"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child1.name); <span class="comment">// kevin</span></span><br><span class="line"><span class="built_in">console</span>.log(child1.age); <span class="comment">// 18</span></span><br><span class="line"><span class="built_in">console</span>.log(child1.colors); <span class="comment">// ["red", "blue", "green", "black"]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> child2 = <span class="keyword">new</span> Child(<span class="string">"daisy"</span>, <span class="string">"20"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child2.name); <span class="comment">// daisy</span></span><br><span class="line"><span class="built_in">console</span>.log(child2.age); <span class="comment">// 20</span></span><br><span class="line"><span class="built_in">console</span>.log(child2.colors); <span class="comment">// ["red", "blue", "green"]</span></span><br></pre></td></tr></table></figure><p>ä¼˜ç‚¹ï¼šèåˆåŸå‹é“¾ç»§æ‰¿å’Œæ„é€ å‡½æ•°çš„ä¼˜ç‚¹ï¼Œæ˜¯ JavaScript ä¸­æœ€å¸¸ç”¨çš„ç»§æ‰¿æ¨¡å¼ã€‚</p><h2 id="4-åŸå‹å¼ç»§æ‰¿"><a href="#4-åŸå‹å¼ç»§æ‰¿" class="headerlink" title="4.åŸå‹å¼ç»§æ‰¿"></a>4.åŸå‹å¼ç»§æ‰¿</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createObj</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  F.prototype = o;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°±æ˜¯ ES5 Object.create çš„æ¨¡æ‹Ÿå®ç°ï¼Œå°†ä¼ å…¥çš„å¯¹è±¡ä½œä¸ºåˆ›å»ºçš„å¯¹è±¡çš„åŸå‹ã€‚</p><p>ç¼ºç‚¹ï¼š</p><p>åŒ…å«å¼•ç”¨ç±»å‹çš„å±æ€§å€¼å§‹ç»ˆéƒ½ä¼šå…±äº«ç›¸åº”çš„å€¼ï¼Œè¿™ç‚¹è·ŸåŸå‹é“¾ç»§æ‰¿ä¸€æ ·ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">  name: <span class="string">"kevin"</span>,</span><br><span class="line">  friends: [<span class="string">"daisy"</span>, <span class="string">"kelly"</span>]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person1 = createObj(person);</span><br><span class="line"><span class="keyword">var</span> person2 = createObj(person);</span><br><span class="line"></span><br><span class="line">person1.name = <span class="string">"person1"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person2.name); <span class="comment">// kevin</span></span><br><span class="line"></span><br><span class="line">person1.firends.push(<span class="string">"taylor"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(person2.friends); <span class="comment">// ["daisy", "kelly", "taylor"]</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šä¿®æ”¹<code>person1.name</code>çš„å€¼ï¼Œ<code>person2.name</code>çš„å€¼å¹¶æœªå‘ç”Ÿæ”¹å˜ï¼Œå¹¶ä¸æ˜¯å› ä¸º<code>person1</code>å’Œ<code>person2</code>æœ‰ç‹¬ç«‹çš„ name å€¼ï¼Œè€Œæ˜¯å› ä¸º<code>person1.name = &#39;person1&#39;</code>ï¼Œç»™<code>person1</code>æ·»åŠ äº† name å€¼ï¼Œå¹¶éä¿®æ”¹äº†åŸå‹ä¸Šçš„ name å€¼ã€‚</p><h2 id="5-å¯„ç”Ÿå¼ç»§æ‰¿"><a href="#5-å¯„ç”Ÿå¼ç»§æ‰¿" class="headerlink" title="5. å¯„ç”Ÿå¼ç»§æ‰¿"></a>5. å¯„ç”Ÿå¼ç»§æ‰¿</h2><p>åˆ›å»ºä¸€ä¸ªä»…ç”¨äºå°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨å†…éƒ¨ä»¥æŸç§å½¢å¼æ¥åšå¢å¼ºå¯¹è±¡ï¼Œæœ€åè¿”å›å¯¹è±¡ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createObj</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> clone = object.create(o);</span><br><span class="line">  clone.sayName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"hi"</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> clone;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼ºç‚¹ï¼šè·Ÿå€Ÿç”¨æ„é€ å‡½æ•°æ¨¡å¼ä¸€æ ·ï¼Œæ¯æ¬¡åˆ›å»ºå¯¹è±¡éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ã€‚</p><h2 id="6-å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"><a href="#6-å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿" class="headerlink" title="6. å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"></a>6. å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</h2><p>ä¸ºäº†æ–¹ä¾¿å¤§å®¶é˜…è¯»ï¼Œåœ¨è¿™é‡Œé‡å¤ä¸€ä¸‹ç»„åˆç»§æ‰¿çš„ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.colors = [<span class="string">"red"</span>, <span class="string">"blue"</span>, <span class="string">"green"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Parent.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  Parent.call(<span class="keyword">this</span>, name);</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Child.prototype = <span class="keyword">new</span> Parent();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> child1 = <span class="keyword">new</span> Child(<span class="string">"kevin"</span>, <span class="string">"18"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child1);</span><br></pre></td></tr></table></figure><p>ç»„åˆç»§æ‰¿æœ€å¤§çš„ç¼ºç‚¹æ˜¯ä¼šè°ƒç”¨ä¸¤æ¬¡çˆ¶æ„é€ å‡½æ•°ã€‚</p><p>ä¸€æ¬¡æ˜¯è®¾ç½®å­ç±»å‹å®ä¾‹çš„åŸå‹çš„æ—¶å€™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Child.prototype = <span class="keyword">new</span> Parent();</span><br></pre></td></tr></table></figure><p>ä¸€æ¬¡åœ¨åˆ›å»ºå­ç±»å‹å®ä¾‹çš„æ—¶å€™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> child1 = <span class="keyword">new</span> Child(<span class="string">"kevin"</span>, <span class="string">"18"</span>);</span><br></pre></td></tr></table></figure><p>å›æƒ³ä¸‹ new çš„æ¨¡æ‹Ÿå®ç°ï¼Œå…¶å®åœ¨è¿™å¥ä¸­ï¼Œæˆ‘ä»¬ä¼šæ‰§è¡Œï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Parent.call(<span class="keyword">this</span>, name);</span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åˆä¼šè°ƒç”¨äº†ä¸€æ¬¡ Parent æ„é€ å‡½æ•°ã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æ‰“å° child1 å¯¹è±¡ï¼Œæˆ‘ä»¬ä¼šå‘ç° Child.prototype å’Œ child1 éƒ½æœ‰ä¸€ä¸ªå±æ€§ä¸º<code>colors</code>ï¼Œå±æ€§å€¼ä¸º<code>[&#39;red&#39;, &#39;blue&#39;, &#39;green&#39;]</code>ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•ç²¾ç›Šæ±‚ç²¾ï¼Œé¿å…è¿™ä¸€æ¬¡é‡å¤è°ƒç”¨å‘¢ï¼Ÿ</p><p>å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨ Child.prototype = new Parent() ï¼Œè€Œæ˜¯é—´æ¥çš„è®© Child.prototype è®¿é—®åˆ° Parent.prototype å‘¢ï¼Ÿ</p><p>çœ‹çœ‹å¦‚ä½•å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.colors = [<span class="string">"red"</span>, <span class="string">"blue"</span>, <span class="string">"green"</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Parent.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">  Parent.call(<span class="keyword">this</span>, name);</span><br><span class="line">  <span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é”®çš„ä¸‰æ­¥</span></span><br><span class="line"><span class="keyword">var</span> F = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line">F.prototype = Parent.prototype;</span><br><span class="line"></span><br><span class="line">Child.prototype = <span class="keyword">new</span> F();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> child1 = <span class="keyword">new</span> Child(<span class="string">"kevin"</span>, <span class="string">"18"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(child1);</span><br></pre></td></tr></table></figure><p>æœ€åæˆ‘ä»¬å°è£…ä¸€ä¸‹è¿™ä¸ªç»§æ‰¿æ–¹æ³•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">object</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">  F.prototype = o;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> F();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">prototype</span>(<span class="params">child, parent</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> prototype = object(parent.prototype);</span><br><span class="line">  prototype.constructor = child;</span><br><span class="line">  child.prototype = prototype;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“æˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™ï¼š</span></span><br><span class="line">prototype(Child, Parent);</span><br></pre></td></tr></table></figure><p>å¼•ç”¨ã€ŠJavaScript é«˜çº§ç¨‹åºè®¾è®¡ã€‹ä¸­å¯¹å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿çš„å¤¸èµå°±æ˜¯ï¼š</p><p>è¿™ç§æ–¹å¼çš„é«˜æ•ˆç‡ä½“ç°å®ƒåªè°ƒç”¨äº†ä¸€æ¬¡ Parent æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”å› æ­¤é¿å…äº†åœ¨ Parent.prototype ä¸Šé¢åˆ›å»ºä¸å¿…è¦çš„ã€å¤šä½™çš„å±æ€§ã€‚ä¸æ­¤åŒæ—¶ï¼ŒåŸå‹é“¾è¿˜èƒ½ä¿æŒä¸å˜ï¼›å› æ­¤ï¼Œè¿˜èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ instanceof å’Œ isPrototypeOfã€‚å¼€å‘äººå‘˜æ™®éè®¤ä¸ºå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿æ˜¯å¼•ç”¨ç±»å‹æœ€ç†æƒ³çš„ç»§æ‰¿èŒƒå¼ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;JavaScript å„ç§ç»§æ‰¿æ–¹å¼å’Œä¼˜ç¼ºç‚¹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="https://chenhx9211.github.io/categories/javascript/"/>
    
    
  </entry>
  
  <entry>
    <title>åŸå‹å’ŒåŸå‹é“¾</title>
    <link href="https://chenhx9211.github.io/2016/07/02/%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE/"/>
    <id>https://chenhx9211.github.io/2016/07/02/åŸå‹å’ŒåŸå‹é“¾/</id>
    <published>2016-07-02T03:29:07.000Z</published>
    <updated>2019-06-19T12:31:08.662Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡"><a href="#æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡" class="headerlink" title="æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡"></a>æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡</h2><p>æˆ‘ä»¬å…ˆä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line">person.name = <span class="string">"Kevin"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person.name); <span class="comment">// Kevin</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒPerson å°±æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨ new åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹å¯¹è±¡ personã€‚</p><p>å¾ˆç®€å•å§ï¼Œæ¥ä¸‹æ¥è¿›å…¥æ­£é¢˜ï¼š</p><h2 id="prototype"><a href="#prototype" class="headerlink" title="prototype"></a>prototype</h2><p>æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§ï¼Œå°±æ˜¯æˆ‘ä»¬ç»å¸¸åœ¨å„ç§ä¾‹å­ä¸­çœ‹åˆ°çš„é‚£ä¸ª prototype ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="comment">// è™½ç„¶å†™åœ¨æ³¨é‡Šé‡Œï¼Œä½†æ˜¯ä½ è¦æ³¨æ„ï¼š</span></span><br><span class="line"><span class="comment">// prototypeæ˜¯å‡½æ•°æ‰ä¼šæœ‰çš„å±æ€§</span></span><br><span class="line">Person.prototype.name = <span class="string">"Kevin"</span>;</span><br><span class="line"><span class="keyword">var</span> person1 = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="keyword">var</span> person2 = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(person1.name); <span class="comment">// Kevin</span></span><br><span class="line"><span class="built_in">console</span>.log(person2.name); <span class="comment">// Kevin</span></span><br></pre></td></tr></table></figure><p>é‚£è¿™ä¸ªå‡½æ•°çš„ prototype å±æ€§åˆ°åº•æŒ‡å‘çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯è¿™ä¸ªå‡½æ•°çš„åŸå‹å—ï¼Ÿ</p><p>å…¶å®ï¼Œå‡½æ•°çš„ prototype å±æ€§æŒ‡å‘äº†ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ­£æ˜¯è°ƒç”¨è¯¥æ„é€ å‡½æ•°è€Œåˆ›å»ºçš„<strong>å®ä¾‹</strong>çš„åŸå‹ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªä¾‹å­ä¸­çš„ person1 å’Œ person2 çš„åŸå‹ã€‚</p><p>é‚£ä»€ä¹ˆæ˜¯åŸå‹å‘¢ï¼Ÿä½ å¯ä»¥è¿™æ ·ç†è§£ï¼šæ¯ä¸€ä¸ª JavaScript å¯¹è±¡(null é™¤å¤–)åœ¨åˆ›å»ºçš„æ—¶å€™å°±ä¼šä¸ä¹‹å…³è”å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„åŸå‹ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹â€ç»§æ‰¿â€å±æ€§ã€‚</p><p>è®©æˆ‘ä»¬ç”¨ä¸€å¼ å›¾è¡¨ç¤ºæ„é€ å‡½æ•°å’Œå®ä¾‹åŸå‹ä¹‹é—´çš„å…³ç³»ï¼š</p><p><img src="/images/prototype1.png" alt="æ„é€ å‡½æ•°å’Œå®ä¾‹åŸå‹çš„å…³ç³»å›¾"></p><p>åœ¨è¿™å¼ å›¾ä¸­æˆ‘ä»¬ç”¨ Object.prototype è¡¨ç¤ºå®ä¾‹åŸå‹ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬è¯¥æ€ä¹ˆè¡¨ç¤ºå®ä¾‹ä¸å®ä¾‹åŸå‹ï¼Œä¹Ÿå°±æ˜¯ person å’Œ Person.prototype ä¹‹é—´çš„å…³ç³»å‘¢ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±è¦è®²åˆ°ç¬¬äºŒä¸ªå±æ€§ï¼š</p><h2 id="proto"><a href="#proto" class="headerlink" title="__proto__"></a>__proto__</h2><p>è¿™æ˜¯æ¯ä¸€ä¸ª JavaScript å¯¹è±¡(é™¤äº† null )éƒ½å…·æœ‰çš„ä¸€ä¸ªå±æ€§ï¼Œå«__proto__ï¼Œè¿™ä¸ªå±æ€§ä¼šæŒ‡å‘è¯¥å¯¹è±¡çš„åŸå‹ã€‚</p><p>ä¸ºäº†è¯æ˜è¿™ä¸€ç‚¹,æˆ‘ä»¬å¯ä»¥åœ¨ç«ç‹æˆ–è€…è°·æ­Œä¸­è¾“å…¥ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(person.__proto__ === Person.prototype); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>äºæ˜¯æˆ‘ä»¬æ›´æ–°ä¸‹å…³ç³»å›¾ï¼š</p><p><img src="/images/prototype2.png" alt="å®ä¾‹ä¸å®ä¾‹åŸå‹çš„å…³ç³»å›¾"></p><p>æ—¢ç„¶å®ä¾‹å¯¹è±¡å’Œæ„é€ å‡½æ•°éƒ½å¯ä»¥æŒ‡å‘åŸå‹ï¼Œé‚£ä¹ˆåŸå‹æ˜¯å¦æœ‰å±æ€§æŒ‡å‘æ„é€ å‡½æ•°æˆ–è€…å®ä¾‹å‘¢ï¼Ÿ</p><h2 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h2><p>æŒ‡å‘å®ä¾‹å€’æ˜¯æ²¡æœ‰ï¼Œå› ä¸ºä¸€ä¸ªæ„é€ å‡½æ•°å¯ä»¥ç”Ÿæˆå¤šä¸ªå®ä¾‹ï¼Œä½†æ˜¯åŸå‹æŒ‡å‘æ„é€ å‡½æ•°å€’æ˜¯æœ‰çš„ï¼Œè¿™å°±è¦è®²åˆ°ç¬¬ä¸‰ä¸ªå±æ€§ï¼šconstructorï»¿ï¼Œæ¯ä¸ªåŸå‹éƒ½æœ‰ä¸€ä¸ª constructor å±æ€§æŒ‡å‘å…³è”çš„æ„é€ å‡½æ•°ã€‚</p><p>ä¸ºäº†éªŒè¯è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log(Person === Person.prototype.constructor); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥å†æ›´æ–°ä¸‹å…³ç³»å›¾ï¼š</p><p><img src="/images/prototype3.png" alt="å®ä¾‹åŸå‹ä¸æ„é€ å‡½æ•°çš„å…³ç³»å›¾"></p><p>ç»¼ä¸Šæˆ‘ä»¬å·²ç»å¾—å‡ºï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(person.__proto__ == Person.prototype); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype.constructor == Person); <span class="comment">// true</span></span><br><span class="line"><span class="comment">// é¡ºä¾¿å­¦ä¹ ä¸€ä¸ªES5çš„æ–¹æ³•,å¯ä»¥è·å¾—å¯¹è±¡çš„åŸå‹</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(person) === Person.prototype); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>äº†è§£äº†æ„é€ å‡½æ•°ã€å®ä¾‹åŸå‹ã€å’Œå®ä¾‹ä¹‹é—´çš„å…³ç³»ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è®²è®²å®ä¾‹å’ŒåŸå‹çš„å…³ç³»ï¼š</p><h2 id="å®ä¾‹ä¸åŸå‹"><a href="#å®ä¾‹ä¸åŸå‹" class="headerlink" title="å®ä¾‹ä¸åŸå‹"></a>å®ä¾‹ä¸åŸå‹</h2><p>å½“è¯»å–å®ä¾‹çš„å±æ€§æ—¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±ä¼šæŸ¥æ‰¾ä¸å¯¹è±¡å…³è”çš„åŸå‹ä¸­çš„å±æ€§ï¼Œå¦‚æœè¿˜æŸ¥ä¸åˆ°ï¼Œå°±å»æ‰¾åŸå‹çš„åŸå‹ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚ä¸ºæ­¢ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">Person.prototype.name = <span class="string">"Kevin"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"></span><br><span class="line">person.name = <span class="string">"Daisy"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person.name); <span class="comment">// Daisy</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> person.name;</span><br><span class="line"><span class="built_in">console</span>.log(person.name); <span class="comment">// Kevin</span></span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç»™å®ä¾‹å¯¹è±¡ person æ·»åŠ äº† name å±æ€§ï¼Œå½“æˆ‘ä»¬æ‰“å° person.name çš„æ—¶å€™ï¼Œç»“æœè‡ªç„¶ä¸º Daisyã€‚</p><p>ä½†æ˜¯å½“æˆ‘ä»¬åˆ é™¤äº† person çš„ name å±æ€§æ—¶ï¼Œè¯»å– person.nameï¼Œä» person å¯¹è±¡ä¸­æ‰¾ä¸åˆ° name å±æ€§å°±ä¼šä» person çš„åŸå‹ä¹Ÿå°±æ˜¯ person.__proto__ ï¼Œä¹Ÿå°±æ˜¯ Person.prototype ä¸­æŸ¥æ‰¾ï¼Œå¹¸è¿çš„æ˜¯æˆ‘ä»¬æ‰¾åˆ°äº† name å±æ€§ï¼Œç»“æœä¸º Kevinã€‚</p><p>ä½†æ˜¯ä¸‡ä¸€è¿˜æ²¡æœ‰æ‰¾åˆ°å‘¢ï¼ŸåŸå‹çš„åŸå‹åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p><h2 id="åŸå‹çš„åŸå‹"><a href="#åŸå‹çš„åŸå‹" class="headerlink" title="åŸå‹çš„åŸå‹"></a>åŸå‹çš„åŸå‹</h2><p>åœ¨å‰é¢ï¼Œæˆ‘ä»¬å·²ç»è®²äº†åŸå‹ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ—¢ç„¶æ˜¯å¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨æœ€åŸå§‹çš„æ–¹å¼åˆ›å»ºå®ƒï¼Œé‚£å°±æ˜¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">obj.name = <span class="string">"Kevin"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj.name); <span class="comment">// Kevin</span></span><br></pre></td></tr></table></figure><p>æ‰€ä»¥åŸå‹å¯¹è±¡æ˜¯é€šè¿‡ Object æ„é€ å‡½æ•°ç”Ÿæˆçš„ï¼Œç»“åˆä¹‹å‰æ‰€è®²ï¼Œå®ä¾‹çš„ __proto__ æŒ‡å‘æ„é€ å‡½æ•°çš„ prototype ï¼Œæ‰€ä»¥æˆ‘ä»¬å†æ›´æ–°ä¸‹å…³ç³»å›¾ï¼š</p><p><img src="/images/prototype4.png" alt="åŸå‹çš„åŸå‹å…³ç³»å›¾"></p><h2 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h2><p>é‚£ Object.prototype çš„åŸå‹å‘¢ï¼Ÿ</p><p>nullï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.__proto__ === <span class="literal">null</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>ç„¶è€Œ null ç©¶ç«Ÿä»£è¡¨äº†ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å¼•ç”¨é˜®ä¸€å³°è€å¸ˆçš„ <a href="http://www.ruanyifeng.com/blog/2014/03/undefined-vs-null.html" target="_blank" rel="noopener">ã€Šundefined ä¸ null çš„åŒºåˆ«ã€‹</a> å°±æ˜¯ï¼š</p><blockquote><p>null è¡¨ç¤ºâ€œæ²¡æœ‰å¯¹è±¡â€ï¼Œå³è¯¥å¤„ä¸åº”è¯¥æœ‰å€¼ã€‚</p></blockquote><p>æ‰€ä»¥ Object.prototype.__proto__ çš„å€¼ä¸º null è·Ÿ Object.prototype æ²¡æœ‰åŸå‹ï¼Œå…¶å®è¡¨è¾¾äº†ä¸€ä¸ªæ„æ€ã€‚</p><p>æ‰€ä»¥æŸ¥æ‰¾å±æ€§çš„æ—¶å€™æŸ¥åˆ° Object.prototype å°±å¯ä»¥åœæ­¢æŸ¥æ‰¾äº†ã€‚</p><p>æœ€åä¸€å¼ å…³ç³»å›¾ä¹Ÿå¯ä»¥æ›´æ–°ä¸ºï¼š</p><p><img src="/images/prototype5.png" alt="åŸå‹é“¾ç¤ºæ„å›¾"></p><p>é¡ºä¾¿è¿˜è¦è¯´ä¸€ä¸‹ï¼Œå›¾ä¸­ç”±ç›¸äº’å…³è”çš„åŸå‹ç»„æˆçš„é“¾çŠ¶ç»“æ„å°±æ˜¯åŸå‹é“¾ï¼Œä¹Ÿå°±æ˜¯è“è‰²çš„è¿™æ¡çº¿ã€‚</p><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><p>æœ€åï¼Œè¡¥å……ä¸‰ç‚¹å¤§å®¶å¯èƒ½ä¸ä¼šæ³¨æ„çš„åœ°æ–¹ï¼š</p><h3 id="constructor"><a href="#constructor" class="headerlink" title="constructor"></a>constructor</h3><p>é¦–å…ˆæ˜¯ constructor å±æ€§ï¼Œæˆ‘ä»¬çœ‹ä¸ªä¾‹å­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(person.constructor === Person); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>å½“è·å– person.constructor æ—¶ï¼Œå…¶å® person ä¸­å¹¶æ²¡æœ‰ constructor å±æ€§,å½“ä¸èƒ½è¯»å–åˆ° constructor å±æ€§æ—¶ï¼Œä¼šä» person çš„åŸå‹ä¹Ÿå°±æ˜¯ Person.prototype ä¸­è¯»å–ï¼Œæ­£å¥½åŸå‹ä¸­æœ‰è¯¥å±æ€§ï¼Œæ‰€ä»¥ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">person.constructor === Person.prototype.constructor;</span><br></pre></td></tr></table></figure><h3 id="proto-1"><a href="#proto-1" class="headerlink" title="__proto__"></a>__proto__</h3><p>å…¶æ¬¡æ˜¯ __proto__ ï¼Œç»å¤§éƒ¨åˆ†æµè§ˆå™¨éƒ½æ”¯æŒè¿™ä¸ªéæ ‡å‡†çš„æ–¹æ³•è®¿é—®åŸå‹ï¼Œç„¶è€Œå®ƒå¹¶ä¸å­˜åœ¨äº Person.prototype ä¸­ï¼Œå®é™…ä¸Šï¼Œå®ƒæ˜¯æ¥è‡ªäº Object.prototype ï¼Œä¸å…¶è¯´æ˜¯ä¸€ä¸ªå±æ€§ï¼Œä¸å¦‚è¯´æ˜¯ä¸€ä¸ª getter/setterï¼Œå½“ä½¿ç”¨ obj.__proto__ æ—¶ï¼Œå¯ä»¥ç†è§£æˆè¿”å›äº† Object.getPrototypeOf(obj)ã€‚</p><h3 id="çœŸçš„æ˜¯ç»§æ‰¿å—ï¼Ÿ"><a href="#çœŸçš„æ˜¯ç»§æ‰¿å—ï¼Ÿ" class="headerlink" title="çœŸçš„æ˜¯ç»§æ‰¿å—ï¼Ÿ"></a>çœŸçš„æ˜¯ç»§æ‰¿å—ï¼Ÿ</h3><p>æœ€åæ˜¯å…³äºç»§æ‰¿ï¼Œå‰é¢æˆ‘ä»¬è®²åˆ°â€œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹â€˜ç»§æ‰¿â€™å±æ€§â€ï¼Œå®é™…ä¸Šï¼Œç»§æ‰¿æ˜¯ä¸€ä¸ªååˆ†å…·æœ‰è¿·æƒ‘æ€§çš„è¯´æ³•ï¼Œå¼•ç”¨ã€Šä½ ä¸çŸ¥é“çš„ JavaScriptã€‹ä¸­çš„è¯ï¼Œå°±æ˜¯ï¼š</p><p>ç»§æ‰¿æ„å‘³ç€å¤åˆ¶æ“ä½œï¼Œç„¶è€Œ JavaScript é»˜è®¤å¹¶ä¸ä¼šå¤åˆ¶å¯¹è±¡çš„å±æ€§ï¼Œç›¸åï¼ŒJavaScript åªæ˜¯åœ¨ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´åˆ›å»ºä¸€ä¸ªå…³è”ï¼Œè¿™æ ·ï¼Œä¸€ä¸ªå¯¹è±¡å°±å¯ä»¥é€šè¿‡å§”æ‰˜è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å’Œå‡½æ•°ï¼Œæ‰€ä»¥ä¸å…¶å«ç»§æ‰¿ï¼Œå§”æ‰˜çš„è¯´æ³•åè€Œæ›´å‡†ç¡®äº›ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡&quot;&gt;&lt;a href=&quot;#æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡&quot; class=&quot;headerlink&quot; title=&quot;æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡&quot;&gt;&lt;/a&gt;æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡&lt;/h2&gt;&lt;p&gt;æˆ‘ä»¬å…ˆä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight 
      
    
    </summary>
    
      <category term="javascript" scheme="https://chenhx9211.github.io/categories/javascript/"/>
    
    
      <category term="åŸå‹" scheme="https://chenhx9211.github.io/tags/%E5%8E%9F%E5%9E%8B/"/>
    
  </entry>
  
  <entry>
    <title>JavaScriptä»£ç çš„è§£é‡Šå’Œæ‰§è¡Œ</title>
    <link href="https://chenhx9211.github.io/2016/04/20/JavaScript%E4%BB%A3%E7%A0%81%E7%9A%84%E8%A7%A3%E9%87%8A%E5%92%8C%E6%89%A7%E8%A1%8C/"/>
    <id>https://chenhx9211.github.io/2016/04/20/JavaScriptä»£ç çš„è§£é‡Šå’Œæ‰§è¡Œ/</id>
    <published>2016-04-20T13:09:11.000Z</published>
    <updated>2019-06-19T12:30:11.774Z</updated>
    
    <content type="html"><![CDATA[<p>å½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆã€å˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾å¦‚ä½•å˜åŒ–ã€‚</p><a id="more"></a><p>&emsp;&emsp;æ¯”è¾ƒä¸¤æ®µä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"foo1"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">foo(); <span class="comment">// foo1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"foo2"</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">foo(); <span class="comment">// foo2</span></span><br></pre></td></tr></table></figure><p>&emsp;&emsp;ä¸‹é¢ä¸€æ®µä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"foo1"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(); <span class="comment">// foo2</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"foo2"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(); <span class="comment">// foo2</span></span><br></pre></td></tr></table></figure><p>æ‰“å°çš„ç»“æœå´æ˜¯ä¸¤ä¸ª <code>foo2</code>ã€‚</p><p>JavaScript å¼•æ“å¹¶éä¸€è¡Œä¸€è¡Œåœ°åˆ†æè§£é‡Šå’Œæ‰§è¡Œä»£ç ï¼Œè€Œæ˜¯å…ˆæŠŠæ•´æ®µä»£ç åˆ†æè§£é‡Šå®Œæˆåå†æ‰§è¡Œã€‚åˆ†æä»£ç æ—¶ï¼Œå¦‚æœæœ‰é‡å¤å‡½æ•°çš„å®šä¹‰ï¼Œå‰é¢çš„å®šä¹‰ä¼šè¢«åé¢çš„è¦†ç›–ã€‚ä¸Šé¢çš„ä»£ç ä¸­ï¼Œç¬¬ä¸€æ®µä»£ç å‡½æ•°å®šä¹‰é‡‡ç”¨åŒ¿åæ–¹å¼ï¼Œç¬¬äºŒæ®µä»£ç å‘½åå‡½æ•° foo çš„å®šä¹‰ï¼Œå‰è€…è¢«åè€…è¦†ç›–ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆã€å˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾å¦‚ä½•å˜åŒ–ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="javascript" scheme="https://chenhx9211.github.io/categories/javascript/"/>
    
    
  </entry>
  
</feed>
