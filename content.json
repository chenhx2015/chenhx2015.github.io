{"meta":{"title":"CHXçš„æŠ€æœ¯åšå®¢","subtitle":null,"description":null,"author":"chenhuaxiang","url":"https://chenhx9211.github.io","root":"/"},"pages":[],"posts":[{"title":"react-use-locked-state","slug":"2019-06-20-react-use-locked-state","date":"2019-06-20T14:13:21.000Z","updated":"2019-06-20T10:18:19.940Z","comments":true,"path":"2019/06/20/2019-06-20-react-use-locked-state/","link":"","permalink":"https://chenhx9211.github.io/2019/06/20/2019-06-20-react-use-locked-state/","excerpt":"&emsp;&emsp;React ä¸­çš„æ•°æ®æµæ˜¯å•å‘çš„ï¼Œå¹¶é¡ºç€ç»„ä»¶å±‚çº§ä»ä¸Šå¾€ä¸‹ä¼ é€’ã€‚è¿™åœ¨ç»å¤§å¤šæ•°çš„åœºåˆä¸‹ï¼Œéƒ½å¾ˆå¥½ä½¿ï¼Œç¨å¾®æ³¨æ„ä¸€ä¸‹é¿å…æ— è°“çš„çš„é‡æ–°æ¸²æŸ“å³å¯ã€‚é…åˆä¸Š reduxï¼Œé‚£æ›´æ˜¯æŠŠæ•°æ®å’Œåº”ç”¨çŠ¶æ€ç®¡ç†å¾—äº•äº•æœ‰æ¡ï¼Œç»™äººä»¥æ·±åˆ»çš„å°è±¡ã€‚ &emsp;&emsp;æœ€è¿‘é‡åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œç”¨æˆ·åœ¨è®¿é—®é¡µé¢åï¼Œå‰ç«¯ä½¿ç”¨å¼‚æ­¥è¯·æ±‚è·å–åç«¯ç»™äºˆçš„å¤šä¸ªå‹‹ç« å¥–åŠ±ï¼Œå¯¹äºæ¯ä¸ªå‹‹ç« ï¼Œéœ€å¼¹å‡ºå¯¹è¯æ¡†ï¼Œç­‰ç”¨æˆ·ç¡®è®¤åï¼Œå†åœ¨é¡µé¢å…¶å®ƒç»„ä»¶ä¸Šæ˜¾ç¤ºåŠ¨ç”»ï¼›å¤šä¸ªå‹‹ç« ï¼ŒæŒ¨ä¸ªä¾ä»¥ä¸Šæ¬¡åºå¤„ç†ã€‚å¯¹è¯æ¡†å’ŒåŠ¨ç”»æ˜¾ç¤ºç»„ä»¶å¹¶æ²¡æœ‰ä¸Šä¸‹çº§ç»„ä»¶å…³ç³»ï¼Œåªæ˜¯ä¸ªå¹³è¡Œå…³ç³»ã€‚","text":"&emsp;&emsp;React ä¸­çš„æ•°æ®æµæ˜¯å•å‘çš„ï¼Œå¹¶é¡ºç€ç»„ä»¶å±‚çº§ä»ä¸Šå¾€ä¸‹ä¼ é€’ã€‚è¿™åœ¨ç»å¤§å¤šæ•°çš„åœºåˆä¸‹ï¼Œéƒ½å¾ˆå¥½ä½¿ï¼Œç¨å¾®æ³¨æ„ä¸€ä¸‹é¿å…æ— è°“çš„çš„é‡æ–°æ¸²æŸ“å³å¯ã€‚é…åˆä¸Š reduxï¼Œé‚£æ›´æ˜¯æŠŠæ•°æ®å’Œåº”ç”¨çŠ¶æ€ç®¡ç†å¾—äº•äº•æœ‰æ¡ï¼Œç»™äººä»¥æ·±åˆ»çš„å°è±¡ã€‚ &emsp;&emsp;æœ€è¿‘é‡åˆ°ä¸€ä¸ªéœ€æ±‚ï¼Œç”¨æˆ·åœ¨è®¿é—®é¡µé¢åï¼Œå‰ç«¯ä½¿ç”¨å¼‚æ­¥è¯·æ±‚è·å–åç«¯ç»™äºˆçš„å¤šä¸ªå‹‹ç« å¥–åŠ±ï¼Œå¯¹äºæ¯ä¸ªå‹‹ç« ï¼Œéœ€å¼¹å‡ºå¯¹è¯æ¡†ï¼Œç­‰ç”¨æˆ·ç¡®è®¤åï¼Œå†åœ¨é¡µé¢å…¶å®ƒç»„ä»¶ä¸Šæ˜¾ç¤ºåŠ¨ç”»ï¼›å¤šä¸ªå‹‹ç« ï¼ŒæŒ¨ä¸ªä¾ä»¥ä¸Šæ¬¡åºå¤„ç†ã€‚å¯¹è¯æ¡†å’ŒåŠ¨ç”»æ˜¾ç¤ºç»„ä»¶å¹¶æ²¡æœ‰ä¸Šä¸‹çº§ç»„ä»¶å…³ç³»ï¼Œåªæ˜¯ä¸ªå¹³è¡Œå…³ç³»ã€‚ &emsp;&emsp;ä¸€å¼€å§‹åªä½¿ç”¨ reactï¼ˆå› ä¸ºæ•´ä¸ª app æŒºç®€å•çš„ï¼Œå°±æ²¡ä½¿ç”¨ reduxï¼‰ï¼Œåœ¨å¼‚æ­¥è¯·æ±‚ï¼Œå¯¹è¯æ¡†å…³é—­å›è°ƒä¸­ï¼Œä»¥åŠç›¸å…³ä¸ªç»„ä»¶ä¸­åŠ å…¥æ§åˆ¶é€»è¾‘ï¼Œåšä¸‹æ¥ä¸€çœ‹ï¼Œä»£ç åŠ äº†ä¸å°‘ï¼Œè€Œä¸”è¿™ä¸ªæ§åˆ¶é€»è¾‘åˆ†æ•£åœ¨å¤šä¸ªç»„ä»¶ä¸­ï¼Œä»£ç çš„å‘³é“å¾ˆå·®ï¼Œéœ€è¦è€ƒè™‘ä¸‹é‡æ„äº†ã€‚ &emsp;&emsp;é¦–å…ˆè€ƒè™‘äº†ä½¿ç”¨ redux æ¥æ§åˆ¶è¿™ä¸ªæ˜¾ç¤ºçš„æ¬¡åºï¼Œä¼°ç®—ä¸€ä¸‹ï¼Œå¾—ä¸ºç›¸å…³ç»„ä»¶å•ç‹¬è®¾è®¡å‡ºå¥½å‡ ä¸ª state å’Œ actionï¼ŒåŒæ ·çš„ï¼Œç»„ä»¶ä¸­çš„å…¶ä½™ä»£ç ä¼šå’Œè¿™ä¸ªæ§åˆ¶é€»è¾‘æ²¡ä»€ä¹ˆå…³ç³»ã€‚è¿™ç§åœºæ™¯ï¼Œredux ä¹Ÿä¸å¤ªå¥½åº”ä»˜å•Šã€‚ &emsp;&emsp;æœ€ç»ˆä½¿ç”¨çš„æ˜¯ react æ–°å¼•å…¥çš„ hookï¼Œä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œç®€å•çš„é¡¹ç›®ä¸å†éœ€è¦ä¸€ä¸ª redux ä¹‹ç±»çš„çŠ¶æ€ç®¡ç†å™¨æ¥ä¿å­˜åº”ç”¨çŠ¶æ€ã€‚ä¸è¿‡é’ˆå¯¹åŠ¨ç”»æ˜¾ç¤ºæ¬¡åºè¿™æ ·çš„éœ€æ±‚ï¼Œhook ä¹Ÿä¸å¥½ç›´æ¥åŒ¹é…ã€‚åœ¨è‡ªå®šä¹‰äº†ä¸€ä¸ª hook ä¹‹åï¼Œç¨‹åºæ‰ç®—æ˜¯æ¯”è¾ƒç®€æ´äº†ï¼Œè€Œä¸” App é‡æ–°æ¸²æŸ“çš„æ¬¡æ•°ä¹Ÿå°‘äº†ã€‚é¡¹ç›®ä»£ç æ¼”ç¤º","categories":[{"name":"code","slug":"code","permalink":"https://chenhx9211.github.io/categories/code/"}],"tags":[{"name":"react","slug":"react","permalink":"https://chenhx9211.github.io/tags/react/"},{"name":"hook","slug":"hook","permalink":"https://chenhx9211.github.io/tags/hook/"}]},{"title":"åŸºäºvue vuex es6 webpackçš„é¡¹ç›®","slug":"åŸºäºvue vuex es6 webpackçš„é¡¹ç›®","date":"2019-06-18T05:46:40.396Z","updated":"2019-06-20T10:18:58.580Z","comments":true,"path":"2019/06/18/åŸºäºvue vuex es6 webpackçš„é¡¹ç›®/","link":"","permalink":"https://chenhx9211.github.io/2019/06/18/åŸºäºvue vuex es6 webpackçš„é¡¹ç›®/","excerpt":"ä¸€ä¸ªåŸºäº vue+vuex+es6+webpack æŠ€æœ¯æ ˆçš„ spa å¼€åº—é¡¹ç›®","text":"ä¸€ä¸ªåŸºäº vue+vuex+es6+webpack æŠ€æœ¯æ ˆçš„ spa å¼€åº—é¡¹ç›® ä½¿ç”¨äº† vue-router æ¥åšé¡µé¢çš„è·¯ç”±è·³è½¬ï¼Œä¸»é¡µè·³è½¬è‡³è¯¦æƒ…é¡µé¢ä½¿ç”¨å…·ä½“è·¯ç”±çš„é…ç½®ã€‚ æ•´ä¸ªé¡¹ç›®ä½¿ç”¨çš„æ˜¯ es6 çš„è¯­æ³•æˆ‘æ¯”è¾ƒå–œæ¬¢ es6 çš„è¯­æ³•ï¼Œarrow functionï¼Œlet,const,template stringï¼Œè§£æ„,å°¤å…¶æ˜¯åœ¨ react é‡Œé¢æ¯”è¾ƒå–œæ¬¢ç”¨çš„ class,extends,superã€‚ çŠ¶æ€ç®¡ç†ç”¨ vuex ä½¿ç”¨ axios ä»åç«¯è·å–æ•°æ® å¯¹å•¦ï¼Œé¡¹ç›®ä½¿ç”¨çš„è„šæ‰‹æ¶ vue-cli,å¿«é€Ÿä¸Šæ‰‹ github åœ°å€ï¼šhttps://github.com/chenhx9211/vue-onlineStore","categories":[{"name":"vue","slug":"vue","permalink":"https://chenhx9211.github.io/categories/vue/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://chenhx9211.github.io/tags/vue/"},{"name":"vuex","slug":"vuex","permalink":"https://chenhx9211.github.io/tags/vuex/"}]},{"title":"react hooks å­¦ä¹ ä½“ä¼š","slug":"react-hook","date":"2019-04-03T14:13:21.000Z","updated":"2019-06-20T06:26:33.255Z","comments":true,"path":"2019/04/03/react-hook/","link":"","permalink":"https://chenhx9211.github.io/2019/04/03/react-hook/","excerpt":"&emsp;&emsp;æŸå¤©ä¸€çœ‹ react å®˜æ–¹æ–‡æ¡£ï¼Œå‘ç°å¤šäº†ä¸€ä¸ªå¾ˆ ğŸ‚ çš„æ–°ç‰¹æ€§ï¼Œhooksï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¼šå‡ºç° hooks å‘¢ï¼Ÿ&emsp;&emsp;ç›¸ä¿¡å¾ˆå¤šäººéƒ½æœ‰è¿™ä¸ªä½“éªŒï¼Œæœ‰äº›æ—¶å€™æä¸æ¸…æ¥šåˆ°åº•ç”¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå¹¶ä¸”ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„åŒæ—¶è¿˜è¦å†™å¾ˆå¤šç›¸åŒçš„ä»£ç åœ¨ shouldUpdate é‡Œé¢ï¼Œåšå¾ˆå¤šé‡å¤çš„å·¥ä½œï¼Œä»£ç å†—ä½™ã€‚&emsp;&emsp;ç»„ä»¶ä¸­çš„ this æŒ‡å‘é—®é¢˜ï¼Œå¾ˆå®¹æ˜“å¿˜è®°ç»‘å®š thisï¼Œå›å¤´æ¥åŠ ï¼Œå¾ˆéº»çƒ¦&emsp;&emsp;åˆ°åº•æ˜¯ç”¨æœ‰çŠ¶æ€ç»„ä»¶å‘¢ï¼Ÿè¿˜æ˜¯ç”¨æ— çŠ¶æ€ç»„ä»¶å‘¢ï¼Ÿ &emsp;&emsp;éšç€å‡½æ•°å¼ç¼–ç¨‹å…´èµ·ï¼Œæˆ‘ä»¬å»ºè®®å°½é‡ç”¨å‡½æ•°å¼ç¼–ç¨‹çš„æ€ç»´æ¥å¼€å‘æˆ‘ä»¬çš„ç»„ä»¶ï¼ŒåŠ ä¸Šä¸ç”¨ class æ–¹å¼å†™ç»„ä»¶äº†ï¼Œhooks ä¹Ÿå°±ç²‰å¢¨ç™»åœºäº†ï¼","text":"&emsp;&emsp;æŸå¤©ä¸€çœ‹ react å®˜æ–¹æ–‡æ¡£ï¼Œå‘ç°å¤šäº†ä¸€ä¸ªå¾ˆ ğŸ‚ çš„æ–°ç‰¹æ€§ï¼Œhooksï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¼šå‡ºç° hooks å‘¢ï¼Ÿ&emsp;&emsp;ç›¸ä¿¡å¾ˆå¤šäººéƒ½æœ‰è¿™ä¸ªä½“éªŒï¼Œæœ‰äº›æ—¶å€™æä¸æ¸…æ¥šåˆ°åº•ç”¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå¹¶ä¸”ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„åŒæ—¶è¿˜è¦å†™å¾ˆå¤šç›¸åŒçš„ä»£ç åœ¨ shouldUpdate é‡Œé¢ï¼Œåšå¾ˆå¤šé‡å¤çš„å·¥ä½œï¼Œä»£ç å†—ä½™ã€‚&emsp;&emsp;ç»„ä»¶ä¸­çš„ this æŒ‡å‘é—®é¢˜ï¼Œå¾ˆå®¹æ˜“å¿˜è®°ç»‘å®š thisï¼Œå›å¤´æ¥åŠ ï¼Œå¾ˆéº»çƒ¦&emsp;&emsp;åˆ°åº•æ˜¯ç”¨æœ‰çŠ¶æ€ç»„ä»¶å‘¢ï¼Ÿè¿˜æ˜¯ç”¨æ— çŠ¶æ€ç»„ä»¶å‘¢ï¼Ÿ &emsp;&emsp;éšç€å‡½æ•°å¼ç¼–ç¨‹å…´èµ·ï¼Œæˆ‘ä»¬å»ºè®®å°½é‡ç”¨å‡½æ•°å¼ç¼–ç¨‹çš„æ€ç»´æ¥å¼€å‘æˆ‘ä»¬çš„ç»„ä»¶ï¼ŒåŠ ä¸Šä¸ç”¨ class æ–¹å¼å†™ç»„ä»¶äº†ï¼Œhooks ä¹Ÿå°±ç²‰å¢¨ç™»åœºäº†ï¼ useState&emsp;&emsp;ä¸‹é¢å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ Hooks! &emsp;&emsp;è¿™æ˜¯ä¸€ä¸ªæœ‰çŠ¶æ€çš„ç»„ä»¶ï¼š 123456789101112131415161718192021222324class Example extends Component &#123; constructor(props) &#123; super(props); this.state = &#123; count: 0 &#125;; &#125; render() &#123; return ( &lt;div&gt; &lt;p&gt;You clicked &#123;this.state.count&#125; times&lt;/p&gt; &lt;button onClick=&#123;() =&gt; &#123; this.setState(&#123; count: this.state.count + 1 &#125;); &#125;&#125; &gt; Click Me! &lt;/button&gt; &lt;/div&gt; ); &#125;&#125; æ¥çœ‹çœ‹æˆ‘ä»¬ä½¿ç”¨äº† hooks ä¹‹åçš„ç‰ˆæœ¬ï¼š 123456789import &#123; useState &#125; from 'react'function Example()&#123; const [count, setCount] = useState(0) return ( &lt;p&gt;You clicked &#123; count &#125; times&lt;/p&gt; &lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125;&gt;Click Me!&lt;/button&gt; )&#125; &emsp;&emsp;ä¸€çœ‹ç®€å•å¤šäº†ï¼å¯ä»¥çœ‹åˆ°ï¼Œ Example å˜æˆäº†ä¸€ä¸ªå‡½æ•°ï¼Œä½†è¿™ä¸ªå‡½æ•°å´æœ‰è‡ªå·±çš„çŠ¶æ€ï¼ˆcountï¼‰ï¼ŒåŒæ—¶å®ƒè¿˜å¯ä»¥æ›´æ–°è‡ªå·±çš„çŠ¶æ€ï¼ˆsetCountï¼‰ã€‚è¿™ä¸ªå‡½æ•°ä¹‹æ‰€ä»¥è¿™ä¹ˆäº†ä¸å¾—ï¼Œå°±æ˜¯å› ä¸ºå®ƒæ³¨å…¥äº†ä¸€ä¸ª hookâ€“ useStateï¼Œå°±æ˜¯è¿™ä¸ª hook è®©æˆ‘ä»¬çš„å‡½æ•°å˜æˆäº†ä¸€ä¸ªæœ‰çŠ¶æ€çš„å‡½æ•°ã€‚ å…ˆæ¥ç†è§£ä¸€ä¸‹ä¸Šé¢çš„ hooks æ”¹ç‰ˆä¹‹åå‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿ ç”³æ˜äº†ä¸€ä¸ªçŠ¶æ€å˜é‡1234import &#123; useState &#125; from \"react\";function Example() &#123; const [count, setCount] = useState(0);&#125; &emsp;&emsp;useState æ˜¯ react è‡ªå¸¦çš„ä¸€ä¸ª hook å‡½æ•°ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯ç”¨æ¥å£°æ˜çŠ¶æ€å˜é‡ã€‚ useState è¿™ä¸ªå‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯æˆ‘ä»¬çš„çŠ¶æ€åˆå§‹å€¼ï¼ˆinitial stateï¼‰ï¼Œå®ƒè¿”å›äº†ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„çš„ç¬¬ [0]é¡¹æ˜¯å½“å‰å½“å‰çš„çŠ¶æ€å€¼ï¼Œç¬¬ [1]é¡¹æ˜¯å¯ä»¥æ”¹å˜çŠ¶æ€å€¼çš„æ–¹æ³•å‡½æ•°ã€‚ æ‰€ä»¥æˆ‘ä»¬åšçš„äº‹æƒ…å…¶å®å°±æ˜¯ï¼Œå£°æ˜äº†ä¸€ä¸ªçŠ¶æ€å˜é‡ countï¼ŒæŠŠå®ƒçš„åˆå§‹å€¼è®¾ä¸º 0ï¼ŒåŒæ—¶æä¾›äº†ä¸€ä¸ªå¯ä»¥æ›´æ”¹ count çš„å‡½æ•° setCountã€‚ä¸Šé¢è¿™ç§è¡¨è¾¾å½¢å¼ï¼Œæ˜¯å€Ÿç”¨äº† es6 çš„æ•°ç»„è§£æ„ï¼ˆarray destructuringï¼‰ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬çš„ä»£ç çœ‹èµ·æ¥æ›´ç®€æ´. å¦‚æœä¸ç”¨æ•°ç»„è§£æ„çš„è¯ï¼Œå¯ä»¥å†™æˆä¸‹é¢è¿™æ ·ã€‚ 123let _useState = useState(0);let count = _useState[0];let setCount = _useState[1]; &emsp;&emsp;å®é™…ä¸Šæ•°ç»„è§£æ„æ˜¯ä¸€ä»¶å¼€é”€å¾ˆå¤§çš„äº‹æƒ…ï¼Œç”¨ä¸‹é¢è¿™ç§å†™æ³•ï¼Œæˆ–è€…æ”¹ç”¨å¯¹è±¡è§£æ„ï¼Œæ€§èƒ½ä¼šæœ‰å¾ˆå¤§çš„æå‡ã€‚æˆ‘ä»¬å°±æŒ‰ç…§å®˜æ–¹æ¨èä½¿ç”¨æ•°ç»„è§£æ„å°±å¥½ è¯»å–çŠ¶æ€å€¼1&lt;p&gt;You clicked &#123;count&#125; times&lt;/p&gt; &emsp;&emsp;å°±ä¸ç”¨å†™æˆä¹‹å‰çš„ {this.state.count}, çœ‹èµ·æ¥ç®€æ´å¥½å¤šï¼ æ›´æ–°çŠ¶æ€1&lt;button onClick=&#123;() =&gt; setCount(count + 1)&#125; /&gt; &emsp;&emsp;é™¤äº† useState è¿™ä¸ª hook å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šåˆ«çš„ hookï¼Œæ¯”å¦‚ useEffect æä¾›äº†ç±»ä¼¼äº componentDidMount ç­‰ç”Ÿå‘½å‘¨æœŸé’©å­çš„åŠŸèƒ½ï¼Œ useContext æä¾›äº†ä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰çš„åŠŸèƒ½ç­‰ç­‰ã€‚ &emsp;&emsp;useEffect æœŸå¾…ä¸­ã€‚ã€‚ã€‚ &emsp;&emsp;Hooks æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ç±»ç‰¹æ®Šçš„å‡½æ•°ï¼Œå®ƒä»¬å¯ä»¥ä¸ºä½ çš„å‡½æ•°å‹ç»„ä»¶ï¼ˆfunction componentï¼‰æ³¨å…¥ä¸€äº›ç‰¹æ®Šçš„åŠŸèƒ½ã€‚å’¦ï¼Ÿè¿™å¬èµ·æ¥æœ‰ç‚¹åƒè¢«è¯Ÿç—…çš„ Mixins å•Šï¼Ÿéš¾é“æ˜¯ Mixins è¦åœ¨ react ä¸­æ­»ç°å¤ç‡ƒäº†å—ï¼Ÿå½“ç„¶ä¸ä¼šäº†ï¼Œç­‰ä¼šæˆ‘ä»¬å†æ¥è°ˆä¸¤è€…çš„åŒºåˆ«ã€‚æ€»è€Œè¨€ä¹‹ï¼Œè¿™äº› hooks çš„ç›®æ ‡å°±æ˜¯è®©ä½ ä¸å†å†™ classï¼Œè®© function ä¸€ç»Ÿæ±Ÿæ¹–ã€‚","categories":[{"name":"framework","slug":"framework","permalink":"https://chenhx9211.github.io/categories/framework/"}],"tags":[{"name":"react","slug":"react","permalink":"https://chenhx9211.github.io/tags/react/"}]},{"title":"ä»¿æ·˜å®å•†åŸApp","slug":"react-mall","date":"2018-11-03T02:13:26.000Z","updated":"2019-06-20T10:18:39.218Z","comments":true,"path":"2018/11/03/react-mall/","link":"","permalink":"https://chenhx9211.github.io/2018/11/03/react-mall/","excerpt":"","text":"&emsp;&emsp;æœ€è¿‘åˆ©ç”¨ä¸šä½™æ—¶é—´å­¦ä¹ äº† Reactï¼Œå¯¹å®ƒçš„å‡½æ•°ç»„ä»¶çš„å†™æ³•å¾ˆæ„Ÿå…´è¶£ï¼Œé‚£ä¹ˆæµ‹è¯•ä¸å°±æ–¹ä¾¿å¤šäº†ä¹ˆï¼Œå¬ä¸Šå»çœŸçš„æ˜¯ç¦éŸ³ã€‚æ˜¯å¦çœŸæœ‰é‚£ä¹ˆå¥½ï¼Œå†™äº†æ‰çŸ¥é“ã€‚&emsp;&emsp;ç›®æ ‡æ˜¯å†™ä¸ªä»¿æ·˜å®å•†åŸçš„ç®€å• Demoï¼Œæ‰“ç®—ç”¨ react/redux å…¨å®¶æ¡¶æ¥å®ç°ã€‚&emsp;&emsp;ç¤¾åŒºé‡Œæœ‰ä¸å°‘ä¼˜ç§€çš„è„šæ‰‹æ¶ï¼Œç›´æ¥ä½¿ç”¨èƒ½çœä¸å°‘äº‹ï¼Œä½†æ—¢ç„¶ä»¥å­¦ä¹ æ‘¸ç´¢ä¸ºä¸»ï¼Œå°±ä¸æ‰“ç®—ä½¿ç”¨å®ƒä»¬ï¼Œé™¤äº†ç”¨ create-appâ€”cliï¼Œä»é›¶å¼€å§‹ï¼Œå…ˆååŠ å…¥äº† react-routerï¼Œreact-reduxï¼Œredux-loggerï¼Œredux-thunkï¼Œredux-persist ç­‰ç¬¬ä¸‰æ–¹ä»£ç åŒ…ã€‚é¡¹ç›®ä»£ç æ”¾åœ¨ä»¿ä»¿æ·˜å®å•†åŸ Demo ä»£ç ï¼Œåœ¨çº¿ Demo &emsp;&emsp;å°ç»“ï¼š è¦æŠŠæ•´ä¸ªåº”ç”¨çš„æ•°æ®ã€çŠ¶æ€éƒ½å­˜åˆ° Redux ä¸­å»ï¼› åŠªåŠ›å…‹æœæŠŠä¸šåŠ¡é€»è¾‘å°±è¿‘æ”¾åˆ° React ç»„ä»¶çš„å†²åŠ¨ï¼ŒæŠŠå®ƒæ”¾åˆ° reducer å‡½æ•°å»ï¼›æµ‹è¯•ä¸šåŠ¡é€»è¾‘æ˜¯å¦æ­£ç¡®ï¼Œä¹Ÿåªéœ€è¦æµ‹è¯• reduer å‡½æ•°äº†ï¼Œè¿™ä¸ªå•å…ƒæµ‹è¯•å°±ç®€å•å¤šäº†ï¼› ç”¨ä¸€å †æ— çŠ¶æ€çš„ç»„ä»¶æ‹¼å‡ºä¸ªæ•´ä¸ªåº”ç”¨ï¼›å‡½æ•°ç»„ä»¶çš„å†™æ³•å¯¹æŠŠä¸šåŠ¡é€»è¾‘å’Œç•Œé¢é€»è¾‘åˆ†ç¦»å¾ˆæœ‰å¸®åŠ©ã€‚","categories":[{"name":"code","slug":"code","permalink":"https://chenhx9211.github.io/categories/code/"}],"tags":[{"name":"redux","slug":"redux","permalink":"https://chenhx9211.github.io/tags/redux/"},{"name":"react","slug":"react","permalink":"https://chenhx9211.github.io/tags/react/"}]},{"title":"reduxå­¦ä¹ å¿ƒå¾—","slug":"redux","date":"2018-04-13T02:13:26.000Z","updated":"2019-06-20T06:26:17.355Z","comments":true,"path":"2018/04/13/redux/","link":"","permalink":"https://chenhx9211.github.io/2018/04/13/redux/","excerpt":"æˆ‘å­¦ä¹  redux çš„å¿ƒå¾—ï¼š 1.å•ä¸€çš„çŠ¶æ€æ ‘ï¼Œå•å‘æ•°æ®æµ 2.æ•´ä¸ªé¡¹ç›®åªæœ‰ä¸€ä¸ª store","text":"æˆ‘å­¦ä¹  redux çš„å¿ƒå¾—ï¼š 1.å•ä¸€çš„çŠ¶æ€æ ‘ï¼Œå•å‘æ•°æ®æµ 2.æ•´ä¸ªé¡¹ç›®åªæœ‰ä¸€ä¸ª store 3.ç”±ç”¨æˆ·å‘å‡ºä¸€ä¸ª actionï¼Œreducer æ–¹æ³•æ¥æ”¶è¿™ä¸ªæ–¹æ³•å’Œä¸€ä¸ªè€çš„ stateï¼Œå†é‡æ–°è¿”å›ä¸€ä¸ªæ–° state,è§†å›¾å†æ›´æ–° 4.åœ¨å¼€å‘çš„æ—¶å€™ä¸€èˆ¬ä¼šæŠŠå¾ˆå¤šä¸ª reducer ç”¨ redux é‡Œé¢çš„ combineReducers æ–¹æ³•åˆå¹¶åœ¨ä¸€ä¸ªï¼Œä¾¿äºç®¡ç†","categories":[{"name":"framework","slug":"framework","permalink":"https://chenhx9211.github.io/categories/framework/"}],"tags":[{"name":"redux","slug":"redux","permalink":"https://chenhx9211.github.io/tags/redux/"}]},{"title":"es6","slug":"es6","date":"2018-04-12T10:54:22.000Z","updated":"2019-06-19T09:17:10.534Z","comments":true,"path":"2018/04/12/es6/","link":"","permalink":"https://chenhx9211.github.io/2018/04/12/es6/","excerpt":"å…ˆè¯´ä¸€ä¸‹ let å§ï¼ let å’Œ var ä¸€æ ·ç”¨æ¥å£°æ˜å˜é‡ï¼Œä½†æ˜¯ä¸åŒçš„æ˜¯ï¼šlet å‘½ä»¤åªåœ¨æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ(es5 æ²¡æœ‰å—çº§ä½œç”¨åŸŸ) for å¾ªç¯é‡Œé¢ä¸è¦å†ç”¨ var äº†ï¼Œè¦ä¸ç„¶æ¯æ¬¡è¾“å‡ºæ¥çš„éƒ½æ˜¯æœ€åä¸€ä¸ªéå†å‡ºæ¥çš„å€¼ let ä¸å­˜åœ¨å˜é‡æå‡ï¼Œä¸€å®šè¦å…ˆå£°æ˜åä½¿ç”¨ï¼Œè¦ä¸ç„¶æŠ¥é”™ï¼›è€Œ var å¯ä»¥å…ˆä½¿ç”¨å†å£°æ˜ï¼Œè¾“å‡ºæ¥ undefined æš‚æ—¶æ€§æ­»åŒºï¼Œåªè¦è¿›å»ä½œç”¨åŸŸï¼Œæ‰€è¦ä½¿ç”¨çš„å˜é‡å°±å·²ç»å­˜åœ¨äº†ï¼Œä½†æ˜¯ä¸å¯ä»¥è·å–ï¼Œåªæœ‰ç­‰åˆ°å˜é‡å£°æ˜äº†æ‰å¯ä»¥è·å–å’Œä½¿ç”¨å®ƒ let ä¸å…è®¸åœ¨åŒä¸€ä½œç”¨åŸŸå†…é‡å¤å£°æ˜","text":"å…ˆè¯´ä¸€ä¸‹ let å§ï¼ let å’Œ var ä¸€æ ·ç”¨æ¥å£°æ˜å˜é‡ï¼Œä½†æ˜¯ä¸åŒçš„æ˜¯ï¼šlet å‘½ä»¤åªåœ¨æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ(es5 æ²¡æœ‰å—çº§ä½œç”¨åŸŸ) for å¾ªç¯é‡Œé¢ä¸è¦å†ç”¨ var äº†ï¼Œè¦ä¸ç„¶æ¯æ¬¡è¾“å‡ºæ¥çš„éƒ½æ˜¯æœ€åä¸€ä¸ªéå†å‡ºæ¥çš„å€¼ let ä¸å­˜åœ¨å˜é‡æå‡ï¼Œä¸€å®šè¦å…ˆå£°æ˜åä½¿ç”¨ï¼Œè¦ä¸ç„¶æŠ¥é”™ï¼›è€Œ var å¯ä»¥å…ˆä½¿ç”¨å†å£°æ˜ï¼Œè¾“å‡ºæ¥ undefined æš‚æ—¶æ€§æ­»åŒºï¼Œåªè¦è¿›å»ä½œç”¨åŸŸï¼Œæ‰€è¦ä½¿ç”¨çš„å˜é‡å°±å·²ç»å­˜åœ¨äº†ï¼Œä½†æ˜¯ä¸å¯ä»¥è·å–ï¼Œåªæœ‰ç­‰åˆ°å˜é‡å£°æ˜äº†æ‰å¯ä»¥è·å–å’Œä½¿ç”¨å®ƒ let ä¸å…è®¸åœ¨åŒä¸€ä½œç”¨åŸŸå†…é‡å¤å£°æ˜ ä¸ºä»€ä¹ˆéœ€è¦å—çº§ä½œç”¨åŸŸå‘¢ï¼Ÿ@å†…å±‚å˜é‡å¯èƒ½ä¼šè¦†ç›–å¤–å±‚å˜é‡@ç”¨æ¥è®¡æ•°çš„å¾ªç¯å˜é‡æ³„éœ²ä¸ºå…¨å±€å˜é‡ï¼Œå¾ˆå®¹æ˜“é€ æˆå†…å­˜æ³„æ¼ ä¸‹é¢å†è¯´è¯´ const! ç”¨æ¥å£°æ˜å¸¸é‡ï¼Œæ‰€ä»¥ä¸€æ—¦å£°æ˜å˜é‡ï¼Œå°±å¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼Œä¸èƒ½ç•™åˆ°ä»¥åèµ‹å€¼ï¼Œåªå£°æ˜ä¸èµ‹å€¼ï¼Œå°±ä¼šæŠ¥é”™ const çš„ä½œç”¨åŸŸä¸ let å‘½ä»¤ç›¸åŒï¼šåªåœ¨å£°æ˜æ‰€åœ¨çš„å—çº§ä½œç”¨åŸŸå†…æœ‰æ•ˆ const å‘½ä»¤å£°æ˜çš„å¸¸é‡ä¹Ÿæ˜¯ä¸æå‡ï¼ŒåŒæ ·å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªèƒ½åœ¨å£°æ˜çš„ä½ç½®åé¢ä½¿ç”¨ const å£°æ˜çš„å¸¸é‡ï¼Œä¹Ÿä¸ let ä¸€æ ·ä¸å¯é‡å¤å£°æ˜ ç»“æ„å…ˆä¸è¯´ï¼Œæ¯”è¾ƒç®€å•ï¼Œä¸»è¦åˆ†ä¸ºæ•°ç»„ï¼Œå¯¹è±¡ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°å€¼ï¼Œå¸ƒå°”å€¼ï¼Œå‡½æ•°å‚æ•°è§£æ„çœ‹äº†ä¸€åœˆä¸‹æ¥ï¼Œå…³é”®æ˜¯ç”¨é€”ï¼Œæ€»ç»“ä¸€ä¸‹ï¼š äº¤æ¢å˜é‡çš„å€¼ ä»å‡½æ•°è¿”å›å¤šä¸ªå€¼ å‡½æ•°å‚æ•°çš„å®šä¹‰ æå– json æ•°æ®(æˆ‘è®¤ä¸ºè¿™ä¸ªæ¯”è¾ƒå®ç”¨ï¼Œæ‹¿å‡ºæ¥å¯ä»¥ç›´æ¥æ”¾åˆ°è§†å›¾) éå† Map ç»“æ„ å­—ç¬¦ä¸²çš„æ‰©å±•(ä¸‹é¢å‡ ä¸ªæ˜¯æˆ‘è®¤ä¸ºèƒ½ç”¨åˆ°é¡¹ç›®é‡Œé¢é¢‘ç‡ç›¸å¯¹é«˜çš„) Unicode è¡¨ç¤ºæ³•ï¼šeg:\\u{1F680} éå†æ¥å£å™¨ï¼Œå¯ä»¥æŠŠå­—ç¬¦ä¸²çš„æ¯ä¸€ä¸ªå­—ç¬¦éƒ½éå†å‡ºæ¥ 123456for (let codePoint of 'foo') &#123; console.log(codePoint)&#125;// \"f\"// \"o\"// \"o\" at(),è¿™ä¸ªå’Œ es5 çš„ charAt()å·®ä¸å¤šï¼Œå¹¶ä¸”èƒ½è¯†åˆ«å‡ºæ¥ç ç‚¹å¤§äº 0xFFFF çš„å­—ç¬¦ includes(),startsWith(),endsWith(),he es5 çš„ indexOf æ–¹æ³•å·®ä¸å¤šï¼Œå®ƒè¿”å›çš„æ˜¯å¸ƒå°”å€¼ 12345var s = 'Hello world!';s.startsWith('Hello') // trues.endsWith('!') // trues.includes('o') // true repeat()ç›´æ¥çœ‹ä¸‹é¢çš„ä»£ç å§ 123'x'.repeat(3) // \"xxx\"'hello'.repeat(2) // \"hellohello\"'na'.repeat(0) // \"\" æ³¨æ„ï¼šå¦‚æœæ˜¯å°æ•°ï¼Œåˆ™å–æ•´ï¼›è´Ÿæ•°æˆ–è€… Infinityï¼ŒæŠ¥é”™ï¼›0 åˆ°-1 çš„éƒ½è§†ä¸º 0ï¼›NaN è§†ä¸º 0","categories":[{"name":"javascript","slug":"javascript","permalink":"https://chenhx9211.github.io/categories/javascript/"}],"tags":[{"name":"es6","slug":"es6","permalink":"https://chenhx9211.github.io/tags/es6/"}]},{"title":"Webç«™ç‚¹åŠ é€Ÿæœ€ä½³å®è·µ","slug":"Best Practices for Speeding Up Your Web Site","date":"2017-11-08T03:29:07.000Z","updated":"2019-06-19T09:11:19.277Z","comments":true,"path":"2017/11/08/Best Practices for Speeding Up Your Web Site/","link":"","permalink":"https://chenhx9211.github.io/2017/11/08/Best Practices for Speeding Up Your Web Site/","excerpt":"&emsp;&emsp;åœ¨é«˜æ€§èƒ½ Web å»ºè®¾æŒ‡å—æ‘˜è¦æ€»ç»“äº†å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„ 14 æ¡åŸåˆ™ï¼Œåœ¨é«˜æ€§èƒ½ Web è¿›é˜¶æŒ‡å—ä¸­ï¼Œä¹Ÿç”±ä¸€äº›å»ºè®®ã€‚å‡ å¹´è¿‡å»äº†ï¼ŒYahoo çš„ Exceptional Performance team æ€»ç»“çš„è§„åˆ™ä¹Ÿå‘å±•åˆ° 35 æ¡ã€‚åŸæ–‡åœ°å€ã€‚è§„åˆ™åˆ†ä¸ºä¸ƒç±»ï¼šé¡µé¢å†…å®¹ï¼ŒæœåŠ¡å™¨ï¼Œcookieï¼Œcssï¼Œjavascriptï¼Œå›¾ç‰‡å’Œæ‰‹æœºç«¯ã€‚&emsp;&emsp; æ ¹æ®åŸæ–‡ç¿»è¯‘æ•´ç†äº†ä¸€ä¸‹ï¼Œè®°å½•äº†ä¸€äº›æ–°çš„åŸåˆ™ã€‚æ„Ÿè°¢å‰ç«¯å·¥å…·çš„å‘å±•ï¼Œå¦‚ webpackï¼Œeslintï¼Œå…¶ä¸­å¾ˆå¤šä¼˜åŒ–åŸåˆ™éƒ½å¯ä»¥è®©å·¥å…·è‡ªåŠ¨å®æ–½ã€‚å…¶ä¸­åŸæ¥çš„é»„é‡‘è§„åˆ™å¯å‚çœ‹é«˜æ€§èƒ½ Web å»ºè®¾æŒ‡å—æ‘˜è¦","text":"&emsp;&emsp;åœ¨é«˜æ€§èƒ½ Web å»ºè®¾æŒ‡å—æ‘˜è¦æ€»ç»“äº†å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„ 14 æ¡åŸåˆ™ï¼Œåœ¨é«˜æ€§èƒ½ Web è¿›é˜¶æŒ‡å—ä¸­ï¼Œä¹Ÿç”±ä¸€äº›å»ºè®®ã€‚å‡ å¹´è¿‡å»äº†ï¼ŒYahoo çš„ Exceptional Performance team æ€»ç»“çš„è§„åˆ™ä¹Ÿå‘å±•åˆ° 35 æ¡ã€‚åŸæ–‡åœ°å€ã€‚è§„åˆ™åˆ†ä¸ºä¸ƒç±»ï¼šé¡µé¢å†…å®¹ï¼ŒæœåŠ¡å™¨ï¼Œcookieï¼Œcssï¼Œjavascriptï¼Œå›¾ç‰‡å’Œæ‰‹æœºç«¯ã€‚&emsp;&emsp; æ ¹æ®åŸæ–‡ç¿»è¯‘æ•´ç†äº†ä¸€ä¸‹ï¼Œè®°å½•äº†ä¸€äº›æ–°çš„åŸåˆ™ã€‚æ„Ÿè°¢å‰ç«¯å·¥å…·çš„å‘å±•ï¼Œå¦‚ webpackï¼Œeslintï¼Œå…¶ä¸­å¾ˆå¤šä¼˜åŒ–åŸåˆ™éƒ½å¯ä»¥è®©å·¥å…·è‡ªåŠ¨å®æ–½ã€‚å…¶ä¸­åŸæ¥çš„é»„é‡‘è§„åˆ™å¯å‚çœ‹é«˜æ€§èƒ½ Web å»ºè®¾æŒ‡å—æ‘˜è¦ å†…å®¹å‡å°‘ DOM å…ƒç´ æ•°é‡&emsp;&emsp; æ£€æŸ¥æ–‡æ¡£ dom æ•°é‡çš„ç®€å•åŠæ³•ï¼Œåœ¨æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œä¸‹ä¸€è¡Œä»£ç :document.getElementsByTagName(â€˜*â€˜).length å°½é‡å‡å°‘ä½¿ç”¨ iframeiframe å¸®åŠ©ç¬¬ä¸‰æ–¹å†…å®¹åµŒå…¥ï¼Œå¸®åŠ©è„šæœ¬å¹¶è¡Œä¸‹è½½ï¼Œä½†æ˜¯ä½¿ç”¨å®ƒçš„ä»£ä»·å¾ˆå¤§ï¼Œå®ƒä¼šé˜»å¡é¡µé¢åŠ è½½ ä¸ä½¿ç”¨ 404ä¸€ä¸ªæ— ç”¨çš„å“åº”(ä¾‹å¦‚ 404 Not Found) å®Œå…¨æ²¡æœ‰ç”¨å¤„ï¼Œåªä¼šé™ä½ç”¨æˆ·ä½“éªŒã€‚æœ‰äº›ç«™ç‚¹ä½¿ç”¨è¯¸å¦‚â€Did you mean X?â€çš„ 404 å“åº”, å¯¹ç”¨æˆ·ä½“éªŒæœ‰å¸®åŠ©ä½†æ˜¯æµªè´¹äº†æœåŠ¡å™¨èµ„æº(ä¾‹å¦‚æ•°æ®åº“ç­‰). å¦‚æœé“¾æ¥æ˜¯ä¸€ä¸ªå¤–éƒ¨çš„è„šæœ¬ï¼Œè€Œè¿”å›çš„å“åº”æ˜¯ 404ï¼Œå°¤å…¶ç³Ÿç³•ï¼šé¦–å…ˆ, è„šæœ¬ä¸‹è½½ä¼šé˜»å¡å¹¶è¡Œä¸‹è½½ï¼Œå…¶æ¬¡å¦‚æœ 404 å“åº”çš„ body æ˜¯ JavaScript ä»£ç ï¼Œæµè§ˆå™¨ä¼šå»è§£æè„šæœ¬ã€‚ æœåŠ¡å™¨Flush the Buffer EarlyWhen users request a page, it can take anywhere from 200 to 500ms for the backend server to stitch together the HTML page. During this time, the browser is idle as it waits for the data to arrive. In PHP you have the function flush(). It allows you to send your partially ready HTML response to the browser so that the browser can start fetching components while your backend is busy with the rest of the HTML page. The benefit is mainly seen on busy backends or light frontends. A good place to consider flushing is right after the HEAD because the HTML for the head is usually easier to produce and it allows you to include any CSS and JavaScript files for the browser to start fetching in parallel while the backend is still processing. Example: ... &lt;!-- css, js --&gt; &lt;/head&gt; &lt;?php flush(); ?&gt; &lt;body&gt; ... &lt;!-- content --&gt;Use GET for AJAX RequestsThe Yahoo! Mail team found that when using XMLHttpRequest, POST is implemented in the browsers as a two-step process: sending the headers first, then sending data. So itâ€™s best to use GET, which only takes one TCP packet to send (unless you have a lot of cookies). The maximum URL length in IE is 2K, so if you send more than 2K data you might not be able to use GET. An interesting side affect is that POST without actually posting any data behaves like GET. Based on the HTTP specs, GET is meant for retrieving information, so it makes sense (semantically) to use GET when youâ€™re only requesting data, as opposed to sending data to be stored server-side. é¿å… Image å…ƒç´ çš„ src å±æ€§ä¸ºç©ºæ— è®ºæ˜¯ html ä»£ç ä¸­çš„&lt;img src=&quot;&quot;&gt;æˆ–æ˜¯é€šè¿‡ JavaScript 12var img = new Image();img.src = &quot;&quot;; éƒ½å¯¼è‡´åŒæ ·ç»“æœ: æµè§ˆå™¨å¤šå‘å‡ºä¸€ä¸ª http è¯·æ±‚ï¼š Internet Explorer ä¼šè¯·æ±‚é¡µé¢ç›®å½• Safari å’Œ Chrome ä¼šè¯·æ±‚é¡µé¢. Firefox 3 ä»¥åŠä¹‹å‰çš„ç‰ˆæœ¬å¦‚åŒ Safari å’Œ Chrome, ä¸è¿‡ 3.5 ä¸å†å‘å‡ºè¯·æ±‚. Opera ä¸ä¼šå‘å‡ºè¯·æ±‚. Why is this behavior bad? Cripple your servers by sending a large amount of unexpected traffic, especially for pages that get millions of page views per day.Waste server computing cycles generating a page that will never be viewed.Possibly corrupt user data. If you are tracking state in the request, either by cookies or in another way, you have the possibility of destroying data. Even though the image request does not return an image, all of the headers are read and accepted by the browser, including all cookies. While the rest of the response is thrown away, the damage may already be done. HTML5 å¢åŠ äº†å¯¹ to the description of the tagâ€™s src attribute to instruct browsers not to make an additional request The src attribute must be present, and must contain a valid URL referencing a non-interactive, optionally animated, image resource that is neither paged nor scripted. If the base URI of the element is the same as the documentâ€™s address, then the src attributeâ€™s value must not be the empty string.Hopefully, browsers will not have this problem in the future. Unfortunately, there is no such clause for &lt;script src=&quot;&quot;&gt; and &lt;link href=&quot;&quot;&gt; Maybe there is still time to make that adjustment to ensure browsers donâ€™t accidentally implement this behavior.This rule was inspired by Yahoo!â€™s JavaScript guru Nicolas C. Zakas. For more information check out his article â€œEmpty image src can destroy your siteâ€. Cookieå‡å°‘ Cookie å¤§å°é™æ€å†…å®¹ä½¿ç”¨ Cookie-free åŸŸå&emsp;&emsp; æµè§ˆå™¨è¯·æ±‚é™æ€å›¾ç‰‡ç­‰å†…å®¹æ—¶å€™ï¼ŒWeb æœåŠ¡å™¨ä¸€èˆ¬å¹¶ä¸ä½¿ç”¨ Cookieã€‚å› æ­¤ï¼Œé™æ€å†…å®¹çš„ä¸»æœºåç§°ä½¿ç”¨ cookie-free åŸŸåï¼Œæµè§ˆå™¨å°±ä¸ä¼šå‘é€ cookieï¼Œå¯å‡å°‘ç½‘ç»œæµé‡ã€‚ é¿å…ä½¿ç”¨ CSS Filter&emsp;&emsp; The IE-proprietary AlphaImageLoader filter aims to fix a problem with semi-transparent true color PNGs in IE versions &lt; 7. The problem with this filter is that it blocks rendering and freezes the browser while the image is being downloaded. It also increases memory consumption and is applied per element, not per image, so the problem is multiplied. &emsp;&emsp; The best approach is to avoid AlphaImageLoader completely and use gracefully degrading PNG8 instead, which are fine in IE. If you absolutely need AlphaImageLoader, use the underscore hack _filter as to not penalize your IE7+ users. Choose over @import&emsp;&emsp; One of the previous best practices states that CSS should be at the top in order to allow for progressive rendering. &emsp;&emsp; In IE @import behaves the same as using at the bottom of the page, so itâ€™s best not to use it. JavascriptMinimize DOM Access&emsp;&emsp; Accessing DOM elements with JavaScript is slow so in order to have a more responsive page, you should: Cache references to accessed elementsUpdate nodes â€œofflineâ€ and then add them to the treeAvoid fixing layout with JavaScriptFor more information check the YUI theatreâ€™s â€œHigh Performance Ajax Applicationsâ€ by Julien Lecomte. Develop Smart Event Handlers&emsp;&emsp; Sometimes pages feel less responsive because of too many event handlers attached to different elements of the DOM tree which are then executed too often. Thatâ€™s why using event delegation is a good approach. If you have 10 buttons inside a div, attach only one event handler to the div wrapper, instead of one handler for each button. Events bubble up so youâ€™ll be able to catch the event and figure out which button it originated from. You also donâ€™t need to wait for the onload event in order to start doing something with the DOM tree. Often all you need is the element you want to access to be available in the tree. You donâ€™t have to wait for all images to be downloaded. DOMContentLoaded is the event you might consider using instead of onload, but until itâ€™s available in all browsers, you can use the YUI Event utility, which has an onAvailable method. å›¾ç‰‡Optimize CSS SpritesArranging the images in the sprite horizontally as opposed to vertically usually results in a smaller file size.Combining similar colors in a sprite helps you keep the color count low, ideally under 256 colors so to fit in a PNG8.â€œBe mobile-friendlyâ€ and donâ€™t leave big gaps between the images in a sprite. This doesnâ€™t affect the file size as much but requires less memory for the user agent to decompress the image into a pixel map. 100x100 image is 10 thousand pixels, where 1000x1000 is 1 million pixels ä¸è¦åœ¨ HTML ä¸­ç¼©æ”¾å›¾ç‰‡&emsp;&emsp; ä¾‹å¦‚ 1&lt;img width=&quot;100&quot; height=&quot;100&quot; src=&quot;mycat.jpg&quot; alt=&quot;My Cat&quot; /&gt; &emsp;&emsp; å›¾ç‰‡ mycat.jpg å°±åº”è¯¥æ˜¯ 100x100pxï¼Œè€Œä¸æ˜¯ä¸€ä¸ª 500x500px. favicon.ico&emsp;&emsp;æµè§ˆå™¨æ¯æ¬¡è®¿é—®ç½‘ç«™ï¼Œéƒ½ä¼šè‡ªåŠ¨è¯·æ±‚ï¼Œå› æ­¤æœ€å¥½æ˜¯åœ¨æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª favicon.icoï¼ŒåŒæ—¶å°½å¯èƒ½ç¼“å­˜ å°½é‡å°äº 1K. è®¾ç½® Expires å¤´ æ‰‹æœºç«¯ç»„ä»¶(è¯‘è€…æ³¨ï¼šæŒ‡çš„æ˜¯ html é¡µé¢ï¼Œcssï¼Œjsï¼Œå›¾ç‰‡ç­‰ç­‰é¡µé¢å†…å®¹æ–‡ä»¶)çš„å¤§å°ä¸è¦è¶…è¿‡ 25KiPhone ä¸ä¼šç¼“å†²å¤§äº 25K çš„å†…å®¹ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯ 25k æ˜¯æŒ‡è§£å‹åçš„æ–‡ä»¶å¤§å°ï¼Œå•ç‹¬ä½¿ç”¨ gzip ä¸èµ·ä½œç”¨ï¼Œå› æ­¤å‡å°‘æ–‡ä»¶çš„å¤§å°å¾ˆé‡è¦ã€‚ è¯¦æƒ…å¯å‚çœ‹ Wayne Shea å’Œ Tenni Theurer å†™çš„â€œPerformance Research, Part 5: iPhone Cacheability - Making it Stickâ€. Pack Components into a Multipart DocumentæŠŠå†…å®¹ç»„ä»¶æ‰“åŒ…åˆ°ä¸€ä¸ª multipart æ–‡æ¡£ï¼Œå°±åƒå¸¦é™„ä»¶çš„ç”µå­é‚®ä»¶, æœ‰åŠ©äºä½¿ç”¨ä¸€æ¬¡ HTTP è¯·æ±‚ï¼Œè·å–å¤šä¸ªå†…å®¹ç»„ä»¶ã€‚ä½¿ç”¨è¿™ä¸ªæŠ€å·§å‰, é¦–å…ˆæ£€æŸ¥ä¸€ä¸‹å®¢æˆ·ç«¯çš„ user agent æ˜¯å¦æ”¯æŒ(iPhone ä¸æ”¯æŒ)ã€‚","categories":[{"name":"frontend","slug":"frontend","permalink":"https://chenhx9211.github.io/categories/frontend/"}],"tags":[{"name":"å‰ç«¯æ€§èƒ½","slug":"å‰ç«¯æ€§èƒ½","permalink":"https://chenhx9211.github.io/tags/å‰ç«¯æ€§èƒ½/"}]},{"title":"é«˜æ€§èƒ½Webè¿›é˜¶æŒ‡å—æ‘˜è¦","slug":"é«˜æ€§èƒ½Webè¿›é˜¶æŒ‡å—æ‘˜è¦","date":"2017-09-23T13:09:11.000Z","updated":"2019-06-19T10:25:24.327Z","comments":true,"path":"2017/09/23/é«˜æ€§èƒ½Webè¿›é˜¶æŒ‡å—æ‘˜è¦/","link":"","permalink":"https://chenhx9211.github.io/2017/09/23/é«˜æ€§èƒ½Webè¿›é˜¶æŒ‡å—æ‘˜è¦/","excerpt":"&emsp;&emsp;æœ¬ä¹¦å¤§éƒ¨åˆ†å†…å®¹è®² JavsScript çš„æ€§èƒ½ä¼˜åŒ–ï¼Œå›¾ç‰‡å’Œ CSS çš„å¤„ç†ä¹Ÿæ¶‰åŠåˆ°ä¸€äº›ï¼Œä¹Ÿæ¶‰åŠåˆ°ä¸€äº›æœåŠ¡å™¨ç«¯çš„å¤„ç†ã€‚é‡Œé¢çš„å†…å®¹è®²å¾—å¾ˆå¥½ï¼Œä¸è¿‡é‰´äºè¿‘æœŸçš„å‰ç«¯æ¡†æ¶å’Œå·¥å…·çš„æˆç†Ÿï¼Œé‡Œé¢ç»å¤§å†…å®¹éƒ½ç”±æ¡†æ¶å’Œå·¥å…·è‡ªåŠ¨å¤„ç†äº†ï¼Œå°±æ²¡æœ‰æ‘˜å½•ã€‚å†™åœ¨è¿™é‡Œï¼Œä¸è¿‡æ˜¯ä¸ºçœ‹è¿‡è¿™æœ¬ä¹¦åšä¸ªè®°å½•ã€‚","text":"&emsp;&emsp;æœ¬ä¹¦å¤§éƒ¨åˆ†å†…å®¹è®² JavsScript çš„æ€§èƒ½ä¼˜åŒ–ï¼Œå›¾ç‰‡å’Œ CSS çš„å¤„ç†ä¹Ÿæ¶‰åŠåˆ°ä¸€äº›ï¼Œä¹Ÿæ¶‰åŠåˆ°ä¸€äº›æœåŠ¡å™¨ç«¯çš„å¤„ç†ã€‚é‡Œé¢çš„å†…å®¹è®²å¾—å¾ˆå¥½ï¼Œä¸è¿‡é‰´äºè¿‘æœŸçš„å‰ç«¯æ¡†æ¶å’Œå·¥å…·çš„æˆç†Ÿï¼Œé‡Œé¢ç»å¤§å†…å®¹éƒ½ç”±æ¡†æ¶å’Œå·¥å…·è‡ªåŠ¨å¤„ç†äº†ï¼Œå°±æ²¡æœ‰æ‘˜å½•ã€‚å†™åœ¨è¿™é‡Œï¼Œä¸è¿‡æ˜¯ä¸ºçœ‹è¿‡è¿™æœ¬ä¹¦åšä¸ªè®°å½•ã€‚","categories":[{"name":"frontend","slug":"frontend","permalink":"https://chenhx9211.github.io/categories/frontend/"}],"tags":[{"name":"å‰ç«¯æ€§èƒ½","slug":"å‰ç«¯æ€§èƒ½","permalink":"https://chenhx9211.github.io/tags/å‰ç«¯æ€§èƒ½/"}]},{"title":"é—­åŒ…","slug":"é—­åŒ…","date":"2017-09-06T13:09:11.000Z","updated":"2019-06-19T14:35:32.985Z","comments":true,"path":"2017/09/06/é—­åŒ…/","link":"","permalink":"https://chenhx9211.github.io/2017/09/06/é—­åŒ…/","excerpt":"é—­åŒ… = å‡½æ•° + å‡½æ•°èƒ½å¤Ÿè®¿é—®çš„è‡ªç”±å˜é‡","text":"é—­åŒ… = å‡½æ•° + å‡½æ•°èƒ½å¤Ÿè®¿é—®çš„è‡ªç”±å˜é‡ è‡ªç”±å˜é‡&emsp;&emsp;è‡ªç”±å˜é‡æ˜¯æŒ‡åœ¨å‡½æ•°ä¸­ä½¿ç”¨çš„ï¼Œä½†æ—¢ä¸æ˜¯å‡½æ•°å‚æ•°ä¹Ÿä¸æ˜¯å‡½æ•°çš„å±€éƒ¨å˜é‡çš„å˜é‡ï¼Œä¹Ÿç§°ä¸ºæœªç»‘å®šå˜é‡(unbound)ã€‚ç›¸å¯¹è€Œè¨€ï¼Œå‚æ•°å’Œå±€éƒ¨å˜é‡å°±æ˜¯ç»‘å®šå˜é‡ã€‚ &emsp;&emsp;ä¸¾ä¸ªä¾‹å­ï¼š 1234567var a = 1;function foo() &#123; console.log(a);&#125;foo(); &emsp;&emsp;foo å‡½æ•°å¯ä»¥è®¿é—®å˜é‡ aï¼Œä½†æ˜¯ a æ—¢ä¸æ˜¯ foo å‡½æ•°çš„å±€éƒ¨å˜é‡ï¼Œä¹Ÿä¸æ˜¯ foo å‡½æ•°çš„å‚æ•°ï¼Œæ‰€ä»¥ a å°±æ˜¯è‡ªç”±å˜é‡ã€‚ é—­åŒ…(closure)&emsp;&emsp;äº†è§£äº†è‡ªç”±å˜é‡ï¼Œé—­åŒ…çš„å®šä¹‰å°±å¾ˆå¥½ç†è§£ï¼šé—­åŒ…æ˜¯æŒ‡é‚£äº›èƒ½å¤Ÿè®¿é—®è‡ªç”±å˜é‡çš„å‡½æ•°ã€‚&emsp;&emsp;ä»ç†è®ºè§’åº¦ï¼šæ‰€æœ‰çš„ JavaScript å‡½æ•°éƒ½æ˜¯é—­åŒ…ã€‚å› ä¸ºå®ƒä»¬éƒ½åœ¨åˆ›å»ºçš„æ—¶å€™å°±å°†ä¸Šå±‚ä¸Šä¸‹æ–‡çš„æ•°æ®ä¿å­˜èµ·æ¥äº†, åœ¨å‡½æ•°ä¸­è®¿é—®å…¨å±€å˜é‡å°±ç›¸å½“äºæ˜¯åœ¨è®¿é—®è‡ªç”±å˜é‡ã€‚&emsp;&emsp;ä»å®è·µè§’åº¦ï¼šä»¥ä¸‹å‡½æ•°æ‰ç®—æ˜¯é—­åŒ…ï¼š å³ä½¿åˆ›å»ºå®ƒçš„ä¸Šä¸‹æ–‡å·²ç»é”€æ¯ï¼Œå®ƒä»ç„¶å­˜åœ¨ï¼ˆæ¯”å¦‚ï¼Œå†…éƒ¨å‡½æ•°ä»çˆ¶å‡½æ•°ä¸­è¿”å›ï¼‰ åœ¨ä»£ç ä¸­å¼•ç”¨äº†è‡ªç”±å˜é‡ &emsp;&emsp;JavaScript æƒå¨æŒ‡å—å¯¹é—­åŒ…çš„å®šä¹‰æ˜¯:&emsp;&emsp;é—­åŒ…å°±æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡å’Œä¸€ä¸ªä½œç”¨åŸŸ(scope, a set of variable bindingsï¼Œåœ¨è¿™ä¸ªä½œç”¨åŸŸä¸­ï¼Œè¯¥å‡½æ•°çš„æ‰€æœ‰å˜é‡éƒ½èƒ½æŸ¥æ‰¾åˆ°)çš„ç»“åˆï¼Œ åˆ†æ&emsp;&emsp;å½“ JavaScript ä»£ç æ‰§è¡Œä¸€æ®µå¯æ‰§è¡Œä»£ç (executable code)æ—¶ï¼Œä¼šåˆ›å»ºå¯¹åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡(execution context)ã€‚å¯¹äºæ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œéƒ½æœ‰ä¸‰ä¸ªé‡è¦å±æ€§ï¼š å˜é‡å¯¹è±¡(Variable objectï¼ŒVO) ä½œç”¨åŸŸé“¾(Scope chain) this æ¥è‡ªã€ŠJavaScript æƒå¨æŒ‡å—ã€‹çš„ä¾‹å­ï¼š 1234567891011var scope = \"global scope\";function checkscope() &#123; var scope = \"local scope\"; function f() &#123; return scope; &#125; return f;&#125;var foo = checkscope();foo(); &emsp;&emsp;åˆ†æä¸€ä¸‹è¿™æ®µä»£ç ä¸­æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå’Œæ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜åŒ–æƒ…å†µã€‚ è¿›å…¥å…¨å±€ä»£ç ï¼Œåˆ›å»ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ– æ‰§è¡Œ checkscope å‡½æ•°ï¼Œåˆ›å»º checkscope å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œcheckscope æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ checkscope æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ–ï¼Œåˆ›å»ºå˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾ã€this ç­‰ checkscope å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œcheckscope æ‰§è¡Œä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡º æ‰§è¡Œ f å‡½æ•°ï¼Œåˆ›å»º f å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œf æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ f æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ–ï¼Œåˆ›å»ºå˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾ã€this ç­‰ f å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œf å‡½æ•°ä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡º &emsp;&emsp;å½“ f å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œcheckscope å‡½æ•°ä¸Šä¸‹æ–‡å·²ç»ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­è¢«å¼¹å‡ºè¢«é”€æ¯ï¼Œæ€ä¹ˆè¿˜ä¼šè¯»å–åˆ° checkscope ä½œç”¨åŸŸä¸‹çš„ scope å€¼å‘¢ï¼Ÿ å½“æˆ‘ä»¬äº†è§£äº†å…·ä½“çš„æ‰§è¡Œè¿‡ç¨‹åï¼Œæˆ‘ä»¬çŸ¥é“ f æ‰§è¡Œä¸Šä¸‹æ–‡ç»´æŠ¤äº†ä¸€ä¸ªä½œç”¨åŸŸé“¾ï¼š 123fContext = &#123; Scope: [AO, checkscopeContext.AO, globalContext.VO]&#125;; &emsp;&emsp;å³ä½¿ checkscopeContext è¢«é”€æ¯äº†ï¼Œå½“ f å‡½æ•°å¼•ç”¨äº† checkscopeContext.VO ä¸­çš„å€¼çš„æ—¶å€™ï¼Œ JavaScript ä¾ç„¶ä¼šè®© checkscopeContext.VO ä¿æŒåœ¨å†…å­˜ä¸­ï¼Œf å‡½æ•°ä¾ç„¶å¯ä»¥é€šè¿‡ f å‡½æ•°çš„ä½œç”¨åŸŸé“¾æ‰¾åˆ°å®ƒï¼Œå®ç°äº†é—­åŒ…ã€‚ é¢è¯•å¿…è€ƒçš„é—­åŒ…é¢˜ï¼š 1234567891011var data = [];for (var i = 0; i &lt; 3; i++) &#123; data[i] = function() &#123; console.log(i); &#125;;&#125;data[0]();data[1]();data[2](); ç­”æ¡ˆæ˜¯éƒ½æ˜¯ 3ï¼Œè®©æˆ‘ä»¬åˆ†æä¸€ä¸‹åŸå› ï¼š å½“æ‰§è¡Œåˆ° data[0] å‡½æ•°ä¹‹å‰ï¼Œæ­¤æ—¶å…¨å±€ä¸Šä¸‹æ–‡çš„ VO ä¸ºï¼š 123456globalContext = &#123; VO: &#123; data: [...], i: 3 &#125;&#125; å½“æ‰§è¡Œ data[0] å‡½æ•°çš„æ—¶å€™ï¼Œdata[0] å‡½æ•°çš„ä½œç”¨åŸŸé“¾ä¸ºï¼š 123data[0]Context = &#123; Scope: [AO, globalContext.VO]&#125; data[0]Context çš„ AO å¹¶æ²¡æœ‰ i å€¼ï¼Œæ‰€ä»¥ä¼šä» globalContext.VO ä¸­æŸ¥æ‰¾ï¼Œi ä¸º 3ï¼Œæ‰€ä»¥æ‰“å°çš„ç»“æœå°±æ˜¯ 3ã€‚ data[1] å’Œ data[2] æ˜¯ä¸€æ ·çš„é“ç†ã€‚ æ”¹æˆä¸‹é¢çš„ä»£ç çœ‹çœ‹ï¼š 12345678910111213var data = [];for (var i = 0; i &lt; 3; i++) &#123; data[i] = (function(i) &#123; return function() &#123; console.log(i); &#125;; &#125;)(i);&#125;data[0]();data[1]();data[2](); å½“æ‰§è¡Œåˆ° data[0] å‡½æ•°ä¹‹å‰ï¼Œæ­¤æ—¶å…¨å±€ä¸Šä¸‹æ–‡çš„ VO ä¸ºï¼š 123456globalContext = &#123; VO: &#123; data: [...], i: 3 &#125;&#125; è·Ÿæ²¡æ”¹ä¹‹å‰ä¸€æ¨¡ä¸€æ ·ã€‚ å½“æ‰§è¡Œ data[0] å‡½æ•°çš„æ—¶å€™ï¼Œdata[0] å‡½æ•°çš„ä½œç”¨åŸŸé“¾å‘ç”Ÿäº†æ”¹å˜ï¼š 123data[0]Context = &#123; Scope: [AO, åŒ¿åå‡½æ•°Context.AO, globalContext.VO]&#125; åŒ¿åå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡çš„ AO ä¸ºï¼š 123456789åŒ¿åå‡½æ•°Context = &#123; AO: &#123; arguments: &#123; 0: 0, length: 1 &#125;, i: 0 &#125;&#125;; data[0]Context çš„ AO å¹¶æ²¡æœ‰ i å€¼ï¼Œæ‰€ä»¥ä¼šæ²¿ç€ä½œç”¨åŸŸé“¾ä»åŒ¿åå‡½æ•° Context.AO ä¸­æŸ¥æ‰¾ï¼Œè¿™æ—¶å€™å°±ä¼šæ‰¾ i ä¸º 0ï¼Œæ‰¾åˆ°äº†å°±ä¸ä¼šå¾€ globalContext.VO ä¸­æŸ¥æ‰¾äº†ï¼Œå³ä½¿ globalContext.VO ä¹Ÿæœ‰ i çš„å€¼(å€¼ä¸º 3)ï¼Œæ‰€ä»¥æ‰“å°çš„ç»“æœå°±æ˜¯ 0ã€‚ data[1] å’Œ data[2] æ˜¯ä¸€æ ·çš„é“ç†ã€‚","categories":[{"name":"javascript","slug":"javascript","permalink":"https://chenhx9211.github.io/categories/javascript/"}],"tags":[{"name":"é—­åŒ…","slug":"é—­åŒ…","permalink":"https://chenhx9211.github.io/tags/é—­åŒ…/"}]},{"title":"é«˜æ€§èƒ½Webå»ºè®¾æŒ‡å—æ‘˜è¦","slug":"é«˜æ€§èƒ½Webå»ºè®¾æŒ‡å—æ‘˜è¦","date":"2017-09-06T13:09:11.000Z","updated":"2019-06-19T08:05:16.171Z","comments":true,"path":"2017/09/06/é«˜æ€§èƒ½Webå»ºè®¾æŒ‡å—æ‘˜è¦/","link":"","permalink":"https://chenhx9211.github.io/2017/09/06/é«˜æ€§èƒ½Webå»ºè®¾æŒ‡å—æ‘˜è¦/","excerpt":"&emsp;&emsp;æ€§èƒ½é»„é‡‘æ³•åˆ™ï¼š10 ï½ 20%çš„æ€»å“åº”æ—¶é—´åœ¨ä¸‹è½½ html æ–‡æ¡£ï¼Œ80 ï½ 90%çš„æ—¶é—´åœ¨ä¸‹è½½é¡µé¢ä¸­çš„ç»„ä»¶(å›¾ç‰‡ï¼Œå¤–éƒ¨æ ·å¼è¡¨ã€è„šæœ¬ç­‰)ã€‚ä¼˜åŒ–çš„è¦ç‚¹æ˜¯å‡å°‘å æ¯”è¾¾ 80 ï½ 90%é¡µé¢ç»„ä»¶å“åº”æ—¶é—´ã€‚","text":"&emsp;&emsp;æ€§èƒ½é»„é‡‘æ³•åˆ™ï¼š10 ï½ 20%çš„æ€»å“åº”æ—¶é—´åœ¨ä¸‹è½½ html æ–‡æ¡£ï¼Œ80 ï½ 90%çš„æ—¶é—´åœ¨ä¸‹è½½é¡µé¢ä¸­çš„ç»„ä»¶(å›¾ç‰‡ï¼Œå¤–éƒ¨æ ·å¼è¡¨ã€è„šæœ¬ç­‰)ã€‚ä¼˜åŒ–çš„è¦ç‚¹æ˜¯å‡å°‘å æ¯”è¾¾ 80 ï½ 90%é¡µé¢ç»„ä»¶å“åº”æ—¶é—´ã€‚ è§„åˆ™ 1â€“å‡å°‘ HTTP è¯·æ±‚è¿ç”¨ä»¥ä¸‹æŠ€æœ¯å‡å°‘ http è¯·æ±‚ å›¾ç‰‡åœ°å›¾ CSS Sprites å†…è”å›¾ç‰‡ åˆå¹¶æ ·å¼è¡¨ åˆå¹¶è„šæœ¬ è§„åˆ™ 2â€“ä½¿ç”¨å†…å®¹åˆ†å‘ç½‘ç»œ&emsp;&emsp;å†…å®¹åˆ†å¸ƒç½‘ç»œ(CDN)æ˜¯ä¸€ç»„åˆ†å¸ƒåœ¨å¤šä¸ªä¸åŒåœ°ç†ä½ç½®çš„ Web æœåŠ¡å™¨ã€‚é™æ€å†…å®¹ç»„ä»¶å‘å¸ƒåˆ° CDN åï¼Œä¼šåœ¨å¤šä¸ª Web æœåŠ¡å™¨éƒ½æœ‰æ‹·è´ï¼Œå½“ç”¨æˆ·è¯·æ±‚å†…å®¹ç»„ä»¶æ—¶ï¼ŒCDN å¯é€‰æ‹©å“åº”æ—¶é—´æœ€çŸ­çš„ Web æœåŠ¡å™¨(æ¯”å¦‚ç¦»ç”¨æˆ·æœ€è¿‘çš„æœåŠ¡å™¨)æ¥å®Œæˆè¯·æ±‚ã€‚ &emsp;&emsp;CDN ä¸ä½†å¸¦æ¥æ›´çŸ­çš„å“åº”æ—¶é—´ï¼Œè€Œä¸”å¯ä»¥ç¼“è§£è‡ªèº«æœåŠ¡å™¨çš„å‹åŠ›ã€‚ è§„åˆ™ 3â€“æ·»åŠ  EXpires å¤´&emsp;&emsp;http æ•°æ®åŒ…åˆ†ä¸ºå¤´(head)å’Œèº«ä½“(body)ä¸¤éƒ¨åˆ†ï¼Œå¤´éƒ¨å¯æ·»åŠ  Expires å’Œ Cache-Control æ¥å½±å“æµè§ˆå™¨çš„ç¼“å­˜æ—¶é—´ã€‚æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è®¾ç½® http å¤´ æœåŠ¡å™¨ç«¯åœ¨å“åº”è¯·æ±‚æ—¶è®¾ç½®è¯·æ±‚çš„ http å¤´ã€‚ html é¡µé¢é€šè¿‡ meta æ ‡ç­¾çš„ http-equiv æ¥è®¾å®šã€‚ 12ï¼œmeta http-equiv=&quot;expires&quot; content=&quot;Wed, 20 Jun 2007 22:33:00 GMT&quot;ï¼ï¼œmeta http-equiv=&quot;Cache-Control&quot; content=&quot;max-age=7200&quot;ï¼ &emsp;&emsp;http-equiv ç›¸å½“äº http çš„æ–‡ä»¶å¤´ä½œç”¨ï¼Œå®ƒå¯ä»¥å‘æµè§ˆå™¨ä¼ å›ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ï¼Œä»¥å¸®åŠ©æ­£ç¡®å’Œç²¾ç¡®åœ°æ˜¾ç¤ºç½‘é¡µå†…å®¹ã€‚http-equiv å¯¹åº”çš„å±æ€§å€¼ä¸º contentï¼Œå¯è®¾ç½®å„ä¸ªå‚æ•°çš„å˜é‡å€¼ã€‚&emsp;&emsp;å®¢æˆ·ç«¯(æ¯”å¦‚ JavaScript è„šæœ¬)å¯ä»¥åœ¨ HTTP è¯·æ±‚ä¸­ä½¿ç”¨çš„æ ‡å‡† Cache-Control æŒ‡ä»¤ Cache-Control: max-age=&lt;seconds&gt; Cache-Control: max-stale[=&lt;seconds&gt; Cache-Control: min-fresh=&lt;seconds&gt; Cache-control: no-cache Cache-control: no-store Cache-control: no-transform Cache-control: only-if-cached &emsp;&emsp;æœåŠ¡å™¨å¯ä»¥åœ¨å“åº”ä¸­ä½¿ç”¨çš„æ ‡å‡† Cache-Control æŒ‡ä»¤ Cache-control: must-revalidate Cache-control: no-cache Cache-control: no-store Cache-control: no-transform Cache-control: public Cache-control: private Cache-control: proxy-revalidate Cache-Control: max-age=&lt;seconds&gt; Cache-control: s-maxage=&lt;seconds&gt; è§„åˆ™ 4â€“å‹ç¼©ç»„ä»¶Web å®¢æˆ·ç«¯å¯åœ¨ http è¯·æ±‚çš„å¤´éƒ¨ä¸­åŠ å…¥ Accept-Encoding æ¥æ ‡è¯†å®¢æˆ·ç«¯æ”¯æŒçš„å‹ç¼©æ–¹æ³•ç±»å‹ï¼ˆæµè§ˆå™¨ä¸€èˆ¬ä¼šè‡ªåŠ¨åœ¨æ¯æ¬¡çš„è¯·æ±‚ä¸­åŠ å…¥è¿™ä¸ªå¤´éƒ¨æŒ‡ä»¤ï¼‰ï¼ŒWeb æœåŠ¡å™¨ä¼šç”¨å®¢æˆ·ç«¯åˆ—å‡ºæ¥çš„æ–¹æ³•ä¹‹ä¸€æ¥å‹ç¼©å“åº”ç»“æœï¼Œå¹¶åœ¨å“åº”ä¸­åŠ å…¥ Content-Encoding:xxx. æœ€å¸¸ç”¨çš„å‹ç¼©æ–¹æ³•æ˜¯ gzipã€‚ å­˜åœ¨ä»£ç†å’Œ CDN çš„æƒ…å†µä¼šå˜å¤æ‚ï¼Œè§£å†³åŠæ³•æ˜¯åœ¨æœåŠ¡å™¨çš„å“åº”å¤´éƒ¨ä¸­åŠ å…¥ Vary: Accept-Encoding è§„åˆ™ 5â€“å°†æ ·å¼è¡¨æ”¾åœ¨æ–‡æ¡£é¡¶éƒ¨&emsp;&emsp;æµè§ˆå™¨ä¸€èˆ¬ä¼šé€æ­¥å‘ˆç°å·²ä¸‹è½½çš„å†…å®¹ï¼Œæ ·å¼è¡¨æ”¾åœ¨æ–‡æ¡£åº•éƒ¨æ—¶ï¼Œä¸ºé¿å…å½“æ ·å¼å˜åŒ–æ—¶é‡ç»˜é¡µé¢ä¸­çš„å…ƒç´ ï¼Œæµè§ˆå™¨ä¼šå»¶è¿Ÿæ˜¾ç¤ºä»»ä½•å¯è§†åŒ–ç»„ä»¶ã€‚æ ·å¼è¡¨çš„æ”¾ç½®åœ¨åº•éƒ¨ä¸ä¼šå½±å“ä¸‹è½½æ—¶é—´ï¼Œä½†æ˜¯ä¼šå½±å“å†…å®¹çš„é€æ­¥å‘ˆç°ï¼Œç”¨æˆ·ä¼šæœ‰æ›´æ…¢çš„æ„Ÿè§‰ï¼ŒåŒæ—¶å®ƒè¿˜å’Œç™½å±ã€æ— æ ·å¼å†…å®¹çš„é—ªçƒç›¸å…³ã€‚ è§„åˆ™ 6â€“å°†è„šæœ¬æ”¾åœ¨æ–‡æ¡£åº•éƒ¨&emsp;&emsp;http 1.1 åè®®å»ºè®®æµè§ˆå™¨ä»æ¯ä¸ªä¸»æœºåä¸‹å¹¶è¡Œçš„ä¸‹è½½ä¸¤ä¸ªç»„ä»¶ã€‚ ç„¶è€Œï¼Œä¸‹è½½è„šæœ¬æ—¶å®é™…ä¸Šä¼šç¦ç”¨å¹¶è¡Œä¸‹è½½-å³ä½¿ä½¿ç”¨äº†ä¸åŒçš„ä¸»æœºåã€‚å…¶ä¸­çš„åŸå› æ˜¯ï¼š è„šæœ¬å¯èƒ½ä½¿ç”¨ document.write æ¥ä¿®æ”¹é¡µé¢å†…å®¹ï¼Œå› æ­¤æµè§ˆå™¨ä¼šç­‰å¾…ï¼Œä»¥ç¡®ä¿é¡µé¢èƒ½å¤Ÿæ°å½“çš„å¸ƒå±€ã€‚ ä¿è¯è„šæœ¬èƒ½æŒ‰æ­£ç¡®çš„é¡ºåºæ‰§è¡Œï¼Œå¦‚æœå¹¶è¡Œä¸‹è½½å¤šä¸ªè„šæœ¬ï¼Œé¡µé¢æ¬¡åºä¸­åœ¨åçš„è„šæœ¬æœ‰å¯èƒ½å…ˆä¸‹è½½å®Œæˆå¹¶æ‰§è¡Œã€‚ &emsp;&emsp;å°†è„šæœ¬æ”¾åœ¨é¡¶éƒ¨ï¼Œä¼šé˜»å¡å¯¹å…¶åé¢å†…å®¹çš„å‘ˆç°ï¼ŒåŒæ—¶é˜»å¡å¯¹åé¢ç»„ä»¶çš„ä¸‹è½½ã€‚ è§„åˆ™ 7â€“é¿å… CSS è¡¨è¾¾å¼&emsp;&emsp;CSS expression æ–¹æ³•å¯æ¥å—ä¸€ä¸ª JavaScript è¡¨è¾¾å¼ï¼Œå¾ˆå¤šæƒ…å†µä¸‹ä¼šå¯¼è‡´å¯¹å…¶é¢‘ç¹æ±‚å€¼ï¼Œå½±å“æµè§ˆå™¨æ€§èƒ½ã€‚å»ºè®®ä½¿ç”¨ä¸€æ¬¡æ€§è¡¨è¾¾å¼ï¼Œæˆ–ä½¿ç”¨ JavaScript åœ¨äº‹ä»¶å¤„ç†ä¸­æä¾›åŠ¨æ€è¡Œä¸ºã€‚ è§„åˆ™ 8â€“ä½¿ç”¨å¤–éƒ¨ JavaScript å’Œ CSS&emsp;&emsp;æµè§ˆå™¨å¯ä»¥ç¼“å­˜å¤–éƒ¨ JavaScript å’Œ CSSï¼Œå¤–éƒ¨çš„ JavaScript å’Œ CSS è¿˜å¯ç»™ç½‘ç«™ä¸­å…¶ä»–é¡µé¢å…±äº«ã€‚ åŠ è½½åä¸‹è½½åŒæ ·çš„æ ·å¼è¡¨æˆ–è„šæœ¬åŒæ—¶å†™å…¥åˆ°å¤–éƒ¨æ–‡ä»¶å’Œå†…è”åˆ°é¡µé¢ä¸­ï¼Œåœ¨é¡µé¢çš„ onload äº‹ä»¶å†æ¬¡ä¸‹è½½å«æœ‰åŒæ ·å†…å®¹çš„å¤–éƒ¨æ–‡ä»¶ã€‚å†…è”çš„æ ·å¼å’Œè„šæœ¬è®©é¡µé¢å‘ˆç°æ›´å¿«ï¼ŒåŒæ—¶ç½‘ç«™çš„å…¶ä»–é¡µé¢å¯ä½¿ç”¨å·²ä¸‹è½½çš„å¤–éƒ¨æ ·å¼å’Œè„šæœ¬æ–‡ä»¶ã€‚éœ€è¦æ³¨æ„è„šæœ¬å’Œ CSS åŠ è½½ä¸¤æ¬¡å¯èƒ½å¸¦æ¥çš„é—®é¢˜ã€‚ è§„åˆ™ 9â€“å‡å°‘ DNS æŸ¥æ‰¾&emsp;&emsp;æµè§ˆå™¨ä¼šè§£æ html é¡µé¢å¤–éƒ¨ç»„ä»¶æ‰€ä½¿ç”¨ä¸»æœºåç§°ï¼Œhttp 1.1 åè®®å»ºè®®æ¯ä¸ªä¸»æœºåç§°ä¸¤ä¸ªå¹¶è¡Œä¸‹è½½ï¼›å› è€Œåœ¨ html é¡µé¢ä¸­å¯¹é¡µé¢ä¸­çš„ç»„ä»¶ä½¿ç”¨å¤šä¸ªä¸»æœºåç§°ï¼Œå¯æé«˜å¹¶è¡Œä¸‹è½½æ•°é‡ã€‚ç„¶è€Œè¿‡å¤šçš„ä¸»æœºåç§°ï¼Œå¯èƒ½ä¸èƒ½æ›´å¥½çš„åˆ©ç”¨ http 1.1 åè®®çš„ keep-alive ç‰¹æ€§ï¼ŒåŒæ—¶å¯¼è‡´æµè§ˆå™¨è¿›è¡Œå¤šæ¬¡ DNS æŸ¥æ‰¾ã€‚ç»¼åˆä¸¤ä¸ªè€ƒè™‘ï¼Œå»ºè®®åœ¨é¡µé¢ä¸­ä½¿ç”¨è‡³å°‘ä¸¤ä¸ªï¼Œä½†ä¸è¦è¶…è¿‡ 4 ä¸ªä¸»æœºåã€‚ è§„åˆ™ 10â€“ç²¾ç®€ï¼ˆminifyï¼‰ JavaScript ã€ CSSå‹ç¼©æ··æ·† JavaScript ä»£ç ï¼Œä»¥å‡å°ä»£ç å°ºå¯¸ã€‚åŒæ ·å¯¹ CSSï¼Œhtml éƒ½å¯ä½¿ç”¨å·¥å…·è¿›è¡Œ minifyã€‚ è§„åˆ™ 11â€“é¿å…é‡å®šå‘ä¸€äº›å®¹æ˜“å¿½è§†çš„åœºæ™¯ï¼š url æŒ‡å‘ç›®å½•æ—¶ï¼Œç»“å°¾ä¸è¦çœç•¥æ–œçº¿/ï¼Œä¸è¦è®© Web æœåŠ¡å™¨ä¸ºä½ å‘å‡ºé‡å®šå‘ å†…éƒ¨æµé‡è·Ÿè¸ªï¼Œä½¿ç”¨ referer æ—¥å¿—è·Ÿè¸ªæµé‡å–å‘ï¼Œè€Œä¸æ˜¯ä½¿ç”¨é‡å®šå‘ã€‚ å‡ºæˆ˜æµé‡è·Ÿè¸ªï¼Œä¸å®ç”¨é‡å®šå‘ï¼Œè€Œä½¿ç”¨ä¿¡æ ‡ beanconâ€“ä¸€ä¸ªåœ¨ url ä¸­åŒ…å«æœ‰è·Ÿè¸ªä¿¡æ¯çš„ http è¯·æ±‚ï¼ˆä¿¡æ ‡å“åº”é€šå¸¸æ˜¯ä¸€ä¸ª 1px X 1px çš„é€æ˜å›¾ç‰‡ï¼›æˆ–è€…ä½¿ç”¨ 204 å“åº”ï¼Œå› ä¸ºå®ƒæ›´å°ï¼Œä»æ¥ä¸ä¼šè¢«ç¼“å­˜ï¼Œè€Œä¸”ç»å¯¹ä¸ä¼šæ”¹å˜æµè§ˆå™¨çŠ¶æ€ã€‚ï¼‰ï¼Œè·Ÿè¸ªä¿¡æ¯å¯ä»¥ä»ä¿¡æ ‡çš„ web æœåŠ¡å™¨è¯·æ±‚æ—¥å¿—ä¸­æå–å‡ºæ¥ã€‚ &emsp;&emsp;ä½¿ç”¨å›¾ç‰‡çš„ä¿¡æ ‡ä¾‹å­ 1234567891011121314151617&lt;a href=&quot;http://en.wikipedia.org/wiki/Performance&quot; onclick=&quot;resultBeacon(this); return false;&quot;&gt;Performance - Wikipedia&lt;/a&gt;&lt;script&gt;var beacon;function resultBeacon(anchor) &#123; beacon = new Image(); beacon.onload = gotoUrl; beacon.onerror = gotoUrl; // in case the image fails, we still want to redirect the user beacon.anchor = anchor; beacon.src = &quot;/bin/beacon204.gif?url=&quot; + escape(anchor.href);&#125;function gotoUrl() &#123; document.location = beacon.anchor.href;&#125;&lt;/script&gt; &emsp;&emsp;ä½¿ç”¨ XHttpRequest çš„ä¿¡æ ‡ä¾‹å­ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051&lt;a href=&quot;http://en.wikipedia.org/wiki/Performance&quot; onclick=&quot;resultBeacon(this); return false;&quot;&gt;Performance - Wikipedia&lt;/a&gt;&lt;script&gt;var gAnchor, gXhrObj;function resultBeacon(anchor) &#123; gAnchor = anchor; beacon_src = &quot;http://stevesouders.com/images/beacon.gif?url=&quot; + escape(anchor.href) + &quot;&amp;t=&quot; + Number(new Date()); gXhrObj = getXHRObject(); gXhrObj.onreadystatechange = xhrCallback; try &#123; gXhrObj.open(&quot;GET&quot;, beacon_src, true); // true == async gXhrObj.send(&quot;&quot;); &#125;catch(err) &#123; gotoUrl(); // on failure, just go to the target url &#125;&#125;function xhrCallback(respAr) &#123; var readyState = ( respAr &amp;&amp; &quot;undefined&quot; != typeof(respAr.readyState) ? respAr.readyState : gXhrObj.readyState ); if ( 2 == readyState ) &#123; // the request is done enough to risk unloading the page gotoUrl(); &#125;&#125;function gotoUrl() &#123; document.location = gAnchor.href;&#125;// Find the right syntax for creating an XHR object.function getXHRObject() &#123; var xhrObj = false; try &#123; xhrObj = new XMLHttpRequest(); &#125;catch(e)&#123; var progid = [&apos;MSXML2.XMLHTTP.5.0&apos;, &apos;MSXML2.XMLHTTP.4.0&apos;, &apos;MSXML2.XMLHTTP.3.0&apos;, &apos;MSXML2.XMLHTTP&apos;, &apos;Microsoft.XMLHTTP&apos;]; for ( var i=0; i &lt; progid.length; ++i ) &#123; try &#123; xhrObj = new ActiveXObject(progid[i]); &#125;catch(e) &#123; &#125; &#125; &#125; finally &#123; return xhrObj; &#125;&#125;&lt;/script&gt; è§„åˆ™ 12â€“ç§»é™¤é‡å¤è„šæœ¬&emsp;&emsp;å›¢é˜Ÿè§„æ¨¡å’Œè„šæœ¬æ•°é‡å˜å¤§ï¼Œå¾€å¾€ä¼šæœ‰ç›¸åŒçš„è„šæœ¬ä»£ç ã€‚éœ€è¦å®ç°ä¸€ä¸ªè„šæœ¬ç®¡ç†æ¨¡å—ï¼Œé¿å…é‡å¤çš„è„šæœ¬ã€‚ è§„åˆ™ 13â€“é…ç½®æˆ–ç§»é™¤ ETag&emsp;&emsp;ETagï¼ŒEntity Tag-å®ä½“æ ‡ç­¾æ˜¯ Web æœåŠ¡å™¨å’Œæµè§ˆå™¨ç”¨äºç¡®è®¤ç¼“å­˜ç»„ä»¶æœ‰æ•ˆæ€§çš„ä¸€ç§æœºåˆ¶ã€‚æ¡ä»¶ Get è¯·æ±‚ä¼šæ¯”è¾ƒæ–‡ä»¶ä¿®æ”¹æ—¥æœŸå’Œ ETag æ ‡ç­¾ï¼ŒETag æ ‡ç­¾å¯¹äºé™æ€æ–‡ä»¶è€Œè¨€ä¸åˆ©ã€‚å› æ­¤å»ºè®®æ˜¯åœ¨æœåŠ¡å™¨ç«¯é…ç½® ETag æˆ–è€…å¹²è„†ç§»é™¤å®ƒã€‚ è§„åˆ™ 14â€“ä½¿ AJAX å¯ç¼“å­˜&emsp;&emsp;æŸäº› AJAX Get è¯·æ±‚å¯ä»¥è¢«ç¼“å­˜ï¼Œè€Œä¸å½±å“ç”¨æˆ·ä½“éªŒã€‚è¦ä½¿è¿™äº› AJAX è¯·æ±‚è¢«ç¼“å­˜ï¼Œéœ€è¦ ç»™å“åº”è®¾ç½® HTTP Cache-Control æˆ– Expires å¤´ è¯·æ±‚çš„ URL ä¸­åº”åŒ…æ‹¬å“åº”çš„ä¸ªæ€§åŒ–å’ŒåŠ¨æ€åŒ–æ•°æ®ï¼Œè¿™æ ·ç¼“å­˜ç»“æœæ‰æ­£ç¡®çš„åæ˜ å‡ºä¸ªæ€§åŒ–å’ŒåŠ¨æ€åŒ–ã€‚","categories":[{"name":"frontend","slug":"frontend","permalink":"https://chenhx9211.github.io/categories/frontend/"}],"tags":[{"name":"å‰ç«¯æ€§èƒ½","slug":"å‰ç«¯æ€§èƒ½","permalink":"https://chenhx9211.github.io/tags/å‰ç«¯æ€§èƒ½/"}]},{"title":"æ‰§è¡Œä¸Šä¸‹æ–‡å’Œä½œç”¨åŸŸé“¾","slug":"æ‰§è¡Œä¸Šä¸‹æ–‡å’Œä½œç”¨åŸŸé“¾","date":"2017-09-06T13:09:11.000Z","updated":"2019-06-19T14:14:37.759Z","comments":true,"path":"2017/09/06/æ‰§è¡Œä¸Šä¸‹æ–‡å’Œä½œç”¨åŸŸé“¾/","link":"","permalink":"https://chenhx9211.github.io/2017/09/06/æ‰§è¡Œä¸Šä¸‹æ–‡å’Œä½œç”¨åŸŸé“¾/","excerpt":"æ‰§è¡Œä¸Šä¸‹æ–‡&emsp;&emsp;JavaScript å¼•æ“æ‰§è¡Œä¸€æ®µå¯æ‰§è¡Œä»£ç (executable code)æ—¶ï¼Œä¼šåˆ›å»ºå¯¹åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡(execution context)ã€‚JavaScript å¼•æ“åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼ˆExecution context stackï¼ŒECStackï¼‰æ¥ç®¡ç†æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚","text":"æ‰§è¡Œä¸Šä¸‹æ–‡&emsp;&emsp;JavaScript å¼•æ“æ‰§è¡Œä¸€æ®µå¯æ‰§è¡Œä»£ç (executable code)æ—¶ï¼Œä¼šåˆ›å»ºå¯¹åº”çš„æ‰§è¡Œä¸Šä¸‹æ–‡(execution context)ã€‚JavaScript å¼•æ“åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼ˆExecution context stackï¼ŒECStackï¼‰æ¥ç®¡ç†æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚ &emsp;&emsp;JavaScript å¼•æ“ å¼€å§‹è¦è§£é‡Šæ‰§è¡Œä»£ç çš„æ—¶å€™ï¼Œæœ€å…ˆé‡åˆ°çš„å°±æ˜¯å…¨å±€ä»£ç ï¼Œåˆå§‹åŒ–çš„æ—¶å€™é¦–å…ˆå°±ä¼šå‘æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆå‹å…¥ä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæˆ‘ä»¬ç”¨ globalContext è¡¨ç¤ºå®ƒï¼Œå¹¶ä¸”åªæœ‰å½“æ•´ä¸ªåº”ç”¨ç¨‹åºç»“æŸçš„æ—¶å€™ï¼ŒECStack æ‰ä¼šè¢«æ¸…ç©ºï¼Œæ‰€ä»¥ ECStack æœ€åº•éƒ¨æ°¸è¿œæœ‰ä¸ª globalContextï¼š&emsp;&emsp;æ‰§è¡Œä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸”å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæ¯•çš„æ—¶å€™ï¼Œå°±ä¼šå°†å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä»æ ˆä¸­å¼¹å‡ºã€‚ çœ‹ä¸€ä¸ªã€ŠJavaScript æƒå¨æŒ‡å—ã€‹ä¸­çš„ä¾‹å­ï¼š 123456789var scope = \"global scope\";function checkscope() &#123; var scope = \"local scope\"; function f() &#123; return scope; &#125; return f();&#125;checkscope(); 123456789var scope = \"global scope\";function checkscope() &#123; var scope = \"local scope\"; function f() &#123; return scope; &#125; return f;&#125;checkscope()(); ä¸¤æ®µä»£ç æ‰§è¡Œçš„ç»“æœä¸€æ ·ï¼Œä½†æ˜¯ä¸¤æ®µä»£ç çš„æ˜¯æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆçš„å˜åŒ–ä¸ä¸€æ ·ã€‚ ç¬¬ä¸€æ®µä»£ç çš„æ‰§è¡Œè¿‡ç¨‹æ¨¡æ‹Ÿï¼š 1234ECStack.push(&lt;checkscope&gt; functionContext);ECStack.push(&lt;f&gt; functionContext);ECStack.pop();ECStack.pop(); ç¬¬äºŒæ®µä»£ç çš„æ‰§è¡Œè¿‡ç¨‹æ¨¡æ‹Ÿï¼š 1234ECStack.push(&lt;checkscope&gt; functionContext);ECStack.pop();ECStack.push(&lt;f&gt; functionContext);ECStack.pop(); ä½œç”¨åŸŸ&emsp;&emsp;ä½œç”¨åŸŸæ˜¯æŒ‡ç¨‹åºä»£ç ä¸­å®šä¹‰å˜é‡çš„åŒºåŸŸï¼Œå®ƒè§„å®šäº†å¦‚ä½•æŸ¥æ‰¾å˜é‡ã€‚ ä¸€ä¸ªå˜é‡å†™åœ¨å‡½æ•°ä¸­ï¼Œå’Œå†™åœ¨å‡½æ•°å¤–ï¼Œå®ƒçš„ä½œç”¨åŸŸæ˜¯ä¸åŒçš„ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“å±€éƒ¨å˜é‡å’Œå…¨å±€å˜é‡ã€‚&emsp;&emsp;åœ¨ç¼–ç¨‹è¯­è¨€çš„è®¾è®¡ä¸­ï¼Œæœ‰ä¸¤ç§ä½œç”¨åŸŸè®¾è®¡æ–¹å¼ï¼šé™æ€ä½œç”¨åŸŸä¸åŠ¨æ€ä½œç”¨åŸŸã€‚JavaScript é‡‡ç”¨çš„æ˜¯é™æ€ä½œç”¨åŸŸã€‚ é™æ€ä½œç”¨åŸŸï¼Œä¹Ÿå«è¯æ³•ä½œç”¨åŸŸ(lexical scoping)ï¼Œå‡½æ•°çš„ä½œç”¨åŸŸåœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™å°±å†³å®šäº†ã€‚ åŠ¨æ€ä½œç”¨åŸŸï¼Œå‡½æ•°çš„ä½œç”¨åŸŸæ˜¯åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™æ‰å†³å®šçš„ã€‚ &emsp;&emsp;ä¸¾çœ‹ä¸ªä¾‹å­æ¥è¯´æ˜å®ƒä»¬ç›´æ¥çš„ä¹‹é—´çš„åŒºåˆ«ï¼š 1234567891011121314var value = 1;function foo() &#123; console.log(value);&#125;function bar() &#123; var value = 2; foo();&#125;bar();// ç»“æœæ˜¯ ??? &emsp;&emsp;å‡è®¾ JavaScript é‡‡ç”¨é™æ€ä½œç”¨åŸŸï¼Œ foo å‡½æ•°çš„æ‰§è¡Œï¼Œå…ˆä» foo å‡½æ•°å†…éƒ¨æŸ¥æ‰¾æ˜¯å¦æœ‰å±€éƒ¨å˜é‡ valueï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±æ ¹æ®å®šä¹‰çš„ä½ç½®ï¼ŒæŸ¥æ‰¾ä¸Šé¢ä¸€å±‚çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯ value ç­‰äº 1ï¼Œæ‰€ä»¥ç»“æœä¼šæ‰“å° 1ã€‚ &emsp;&emsp;å‡è®¾ JavaScript é‡‡ç”¨åŠ¨æ€ä½œç”¨åŸŸï¼Œfoo å‡½æ•°çš„æ‰§è¡Œï¼Œä¾ç„¶æ˜¯ä» foo å‡½æ•°å†…éƒ¨æŸ¥æ‰¾æ˜¯å¦æœ‰å±€éƒ¨å˜é‡ valueã€‚å¦‚æœæ²¡æœ‰ï¼Œå°±ä»è°ƒç”¨ foo()çš„ä½ç½®æ‰€åœ¨çš„ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯ bar å‡½æ•°å†…éƒ¨æŸ¥æ‰¾ value å˜é‡ï¼Œæ‰€ä»¥ç»“æœä¼šæ‰“å° 2ã€‚ &emsp;&emsp;JavaScript é‡‡ç”¨çš„æ˜¯é™æ€ä½œç”¨åŸŸï¼Œè¿™ä¸ªä¾‹å­çš„ç»“æœæ˜¯ 1ã€‚ ä½œç”¨åŸŸé“¾æ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œéƒ½æœ‰ä¸‰ä¸ªé‡è¦å±æ€§ï¼š å˜é‡å¯¹è±¡(Variable objectï¼ŒVO)ï¼ŒåŒ…å«äº†å…¨éƒ¨çš„å±€éƒ¨å˜é‡ ä½œç”¨åŸŸé“¾(Scope chain) this &emsp;&emsp;JavaScript ä»£ç æ‰§è¡Œæ—¶ï¼Œå…ˆä»å½“å‰ä¸Šä¸‹æ–‡ä¸­æŸ¥æ‰¾å˜é‡ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±ä»çˆ¶çº§(è¯æ³•å±‚é¢ä¸Šçš„çˆ¶çº§)æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ VO ä¸­æŸ¥æ‰¾ï¼Œä¸€ç›´æ‰¾åˆ°å…¨å±€ä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯å…¨å±€å¯¹è±¡ã€‚è¿™æ ·ï¼Œå¤šä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡å°±æ„æˆä¸€ä¸ªé“¾è¡¨ï¼Œå«åšä½œç”¨åŸŸé“¾ã€‚&emsp;&emsp;å’Œä½œç”¨åŸŸä¸€æ ·ï¼ŒJavaScript å‡½æ•°çš„ä½œç”¨åŸŸé“¾æ˜¯åœ¨å‡½æ•°å®šä¹‰çš„æ—¶å€™åˆ›å»ºçš„ã€‚å½“å‡½æ•°åˆ›å»ºçš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªå†…éƒ¨å±æ€§ [[scope]]ï¼Œä¼šä¿å­˜æ‰€æœ‰çˆ¶å˜é‡å¯¹è±¡åˆ°å…¶ä¸­ï¼Œä½ å¯ä»¥ç†è§£ [[scope]] å°±æ˜¯æ‰€æœ‰çˆ¶å˜é‡å¯¹è±¡çš„å±‚çº§é“¾ã€‚ä¸¾ä¸ªä¾‹å­ï¼š 123456function foo() &#123; function bar() &#123; ... &#125;&#125; å‡½æ•°åˆ›å»ºæ—¶ï¼Œå„è‡ªçš„[[scope]]ä¸ºï¼š 123456789foo.[[scope]] = [ globalContext.VO];bar.[[scope]] = [ fooContext.AO, globalContext.VO]; &emsp;&emsp;ä½†æ˜¯[[scope]] å¹¶ä¸ä»£è¡¨å®Œæ•´çš„ä½œç”¨åŸŸé“¾ã€‚å½“å‡½æ•°æ‰§è¡Œæ—¶ï¼Œåˆ›å»ºæ´»åŠ¨å¯¹è±¡ AOï¼›å†å°†æ´»åŠ¨å¯¹è±¡ AO æ·»åŠ åˆ°ä½œç”¨é“¾çš„å‰ç«¯ã€‚è¿™æ—¶å€™æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä½œç”¨åŸŸé“¾ï¼Œæ‰æ˜¯å®Œæ•´çš„ï¼Œæˆ‘ä»¬å‘½åä¸º Scopeï¼š 1Scope = [AO].concat([[Scope]]); ç»“åˆ ECStackï¼Œå†æ¥çœ‹çœ‹ä¸Šé¢çš„åˆ—å‡ºçš„ã€ŠJavaScript æƒå¨æŒ‡å—ã€‹ä¸­ä¾‹å­çš„ç¬¬ä¸€æ®µä»£ç ï¼š 123456789var scope = \"global scope\";function checkscope() &#123; var scope = \"local scope\"; function f() &#123; return scope; &#125; return f();&#125;checkscope(); æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š æ‰§è¡Œå…¨å±€ä»£ç ï¼Œåˆ›å»ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå…¨å±€ä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ 1ECStack = [globalContext]; å…¨å±€ä¸Šä¸‹æ–‡åˆå§‹åŒ– 12345globalContext = &#123; VO: [global, scope, checkscope], Scope: [globalContext.VO], this: globalContext.VO&#125;; checkscope å‡½æ•°è¢«åˆ›å»ºï¼Œä¿å­˜ä½œç”¨åŸŸé“¾åˆ°å‡½æ•°çš„å†…éƒ¨å±æ€§[[scope]] 123checkscope.[[scope]] = [ globalContext.VO]; æ‰§è¡Œ checkscope å‡½æ•°ï¼Œåˆ›å»º checkscope å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œcheckscope å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ 1ECStack = [checkscopeContext, globalContext]; åˆå§‹åŒ– checkscope å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼š å¤åˆ¶å‡½æ•° [[scope]] å±æ€§åˆ›å»ºä½œç”¨åŸŸé“¾ï¼Œ 123checkscopeContext = &#123; Scope: checkscope.[[scope]],&#125; ç”¨ arguments åˆ›å»ºæ´»åŠ¨å¯¹è±¡ åˆå§‹åŒ–æ´»åŠ¨å¯¹è±¡ï¼ŒåŠ å…¥å½¢å‚ã€å‡½æ•°å£°æ˜ã€å˜é‡å£°æ˜ 12345678checkscopeContext = &#123; AO: &#123; arguments: &#123; length: 0 &#125;, scope: undefined &#125;&#125;; å°†æ´»åŠ¨å¯¹è±¡å‹å…¥ checkscope ä½œç”¨åŸŸé“¾é¡¶ç«¯ã€‚ 123456789checkscopeContext = &#123; AO: &#123; arguments: &#123; length: 0 &#125;, scope: undefined &#125;, Scope: [AO, [[Scope]]]&#125;; åŒæ—¶ f å‡½æ•°è¢«åˆ›å»ºï¼Œä¿å­˜ä½œç”¨åŸŸé“¾åˆ° f å‡½æ•°çš„å†…éƒ¨å±æ€§[[scope]] 1234567891011checkscopeContext = &#123; AO: &#123; arguments: &#123; length: 0 &#125;, scope: undefined, f: reference to function f()&#123;&#125; &#125;, Scope: [AO, globalContext.VO], this: undefined&#125; å¼€å§‹æ‰§è¡Œå‡½æ•°ï¼Œéšç€å‡½æ•°çš„æ‰§è¡Œï¼Œä¿®æ”¹ AO çš„å±æ€§å€¼ï¼ŒAO ä¸­çš„ scope è¢«èµ‹å€¼â€local scopeâ€ 123456789checkscopeContext = &#123; AO: &#123; arguments: &#123; length: 0 &#125;, scope: \"local scope\" &#125;, Scope: [AO, [[Scope]]]&#125;; æ‰§è¡Œ f å‡½æ•°ï¼Œåˆ›å»º f å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œf å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡è¢«å‹å…¥æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ 1ECStack = [fContext, checkscopeContext, globalContext]; 6.f å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡åˆå§‹åŒ–, ä»¥ä¸‹è·Ÿç¬¬ 4 æ­¥ç›¸åŒï¼š å¤åˆ¶å‡½æ•° [[scope]] å±æ€§åˆ›å»ºä½œç”¨åŸŸé“¾ ç”¨ arguments åˆ›å»ºæ´»åŠ¨å¯¹è±¡ åˆå§‹åŒ–æ´»åŠ¨å¯¹è±¡ï¼Œå³åŠ å…¥å½¢å‚ã€å‡½æ•°å£°æ˜ã€å˜é‡å£°æ˜ å°†æ´»åŠ¨å¯¹è±¡å‹å…¥ f ä½œç”¨åŸŸé“¾é¡¶ç«¯ 123456789fContext = &#123; AO: &#123; arguments: &#123; length: 0 &#125; &#125;, Scope: [AO, checkscopeContext.AO, globalContext.VO], this: undefined&#125;; 7.f å‡½æ•°æ‰§è¡Œï¼Œæ²¿ç€ä½œç”¨åŸŸé“¾æŸ¥æ‰¾ scope å€¼ï¼Œè¿”å› scope å€¼ 8.f å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œf å‡½æ•°ä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡º 1ECStack = [checkscopeContext, globalContext]; 9.checkscope å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œcheckscope æ‰§è¡Œä¸Šä¸‹æ–‡ä»æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä¸­å¼¹å‡º 1ECStack = [globalContext]; åŒæ ·å¯åˆ†æç¬¬äºŒæ®µä»£ç ï¼š 123456789var scope = \"global scope\";function checkscope() &#123; var scope = \"local scope\"; function f() &#123; return scope; &#125; return f;&#125;checkscope()();","categories":[{"name":"javascript","slug":"javascript","permalink":"https://chenhx9211.github.io/categories/javascript/"}],"tags":[]},{"title":"react-native å¸¸ç”¨çš„å¸ƒå±€ï¼šflexbox","slug":"layout","date":"2017-07-10T06:09:14.000Z","updated":"2019-06-19T11:22:14.639Z","comments":true,"path":"2017/07/10/layout/","link":"","permalink":"https://chenhx9211.github.io/2017/07/10/layout/","excerpt":"åŸºæœ¬æ¦‚å¿µ é‡‡ç”¨ flex å¸ƒå±€çš„å…ƒç´ å°±æ˜¯ flex å®¹å™¨ï¼šflex container.å®ƒé‡Œé¢æ‰€æœ‰çš„å…ƒç´ éƒ½å«å­å…ƒç´ ï¼šflex item. container å®¹å™¨å­˜åœ¨ä¸¤æ ¹è½´ï¼šæ°´å¹³çš„ä¸»è½´(main axis)å’Œå‚ç›´çš„äº¤å‰è½´(cross axis).ä¸»è½´èµ·å§‹ä½ç½® main start,ç»“æŸä½ç½® main end,äº¤å‰è½´èµ·å§‹ä½ç½® cross start,ç»“æŸä½ç½® cross end. 3.é¡¹ç›®é»˜è®¤æ²¿ç€ä¸»è½´æ’åˆ—.","text":"åŸºæœ¬æ¦‚å¿µ é‡‡ç”¨ flex å¸ƒå±€çš„å…ƒç´ å°±æ˜¯ flex å®¹å™¨ï¼šflex container.å®ƒé‡Œé¢æ‰€æœ‰çš„å…ƒç´ éƒ½å«å­å…ƒç´ ï¼šflex item. container å®¹å™¨å­˜åœ¨ä¸¤æ ¹è½´ï¼šæ°´å¹³çš„ä¸»è½´(main axis)å’Œå‚ç›´çš„äº¤å‰è½´(cross axis).ä¸»è½´èµ·å§‹ä½ç½® main start,ç»“æŸä½ç½® main end,äº¤å‰è½´èµ·å§‹ä½ç½® cross start,ç»“æŸä½ç½® cross end. 3.é¡¹ç›®é»˜è®¤æ²¿ç€ä¸»è½´æ’åˆ—. container ä¸Šè®¾ç½®çš„å±æ€§æœ‰ 6 ä¸ª flex-direction flex-wrap flex-flow justify-content align-items align-content flex-direction:ä¸»è½´çš„æ–¹å‘123.box&#123; flex-direction:row | row-reverse | column | column-reverse;&#125; flex-wrap:å¦‚æœä¸€æ¡è½´çº¿æ’ä¸ä¸‹ï¼Œå¦‚ä½•æ¢è¡Œ123.box&#123; flex-wrap: nowrap | wrap | wrap-reverse;&#125; 1.nowrap:ä¸æ¢è¡Œ2.wrapï¼šæ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨ä¸Šæ–¹3.wrap-reverseï¼šæ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨ä¸‹æ–¹ flex-flowï¼šæ˜¯ flex-direction å’Œ flex-wrap çš„ç®€å†™justify-contentï¼šé¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼123.box &#123; justify-content: flex-start | flex-end | center | space-between | space-around;&#125; flex-startï¼šå·¦å¯¹é½ flex-endï¼šå³å¯¹é½ centerï¼šå±…ä¸­ space-betweenï¼šä¸¤ç«¯å¯¹é½ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”éƒ½ç›¸ç­‰ space-aroundï¼šæ¯ä¸ªé¡¹ç›®ä¸¤ä¾§çš„é—´éš”ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”æ¯”é¡¹ç›®ä¸è¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ align-itemsï¼šé¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½123.box &#123; align-items: flex-start | flex-end | center | baseline | stretch;&#125; flex-startï¼šäº¤å‰è½´çš„èµ·ç‚¹å¯¹é½ flex-endï¼šäº¤å‰è½´çš„ç»ˆç‚¹å¯¹é½ centerï¼šäº¤å‰è½´çš„ä¸­ç‚¹å¯¹é½ baselineï¼šé¡¹ç›®çš„ç¬¬ä¸€è¡Œæ–‡å­—çš„åŸºçº¿å¯¹é½ stretchï¼šå¦‚æœé¡¹ç›®æœªè®¾ç½®é«˜åº¦æˆ–è®¾ä¸º autoï¼Œå°†å æ»¡æ•´ä¸ªå®¹å™¨çš„é«˜åº¦(é»˜è®¤å€¼) align-content:å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼.å¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œè¯¥å±æ€§ä¸èµ·ä½œç”¨123.box &#123; align-content: flex-start | flex-end | center | space-between | space-around | stretch;&#125; item ä¸Šè®¾ç½®çš„å±æ€§æœ‰ 6 ä¸ª order flex-grow flex-shrink flex-basis flex align-self order:å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåº.æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º 0.123.item &#123; order: &lt;integer&gt;;&#125; flex-grow:å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º 0ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§.æ³¨æ„ï¼šå¦‚æœä¸€ä¸ªé¡¹ç›®çš„ flex-grow å±æ€§ä¸º 2ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º 1ï¼Œåˆ™å‰è€…å æ®çš„å‰©ä½™ç©ºé—´å°†æ¯”å…¶ä»–é¡¹å¤šä¸€å€ 123.item &#123; flex-grow: &lt;number&gt;; /* default 0 */&#125; flex-shrinkï¼šå®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º 1ï¼Œå³å¦‚æœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å°.æ³¨æ„ï¼šå¦‚æœæ‰€æœ‰é¡¹ç›®çš„ flex-shrink å±æ€§éƒ½ä¸º 1ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶ï¼Œéƒ½å°†ç­‰æ¯”ä¾‹ç¼©å°ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®çš„ flex-shrink å±æ€§ä¸º 0ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º 1ï¼Œåˆ™ç©ºé—´ä¸è¶³æ—¶ï¼Œå‰è€…ä¸ç¼©å° 123.item &#123; flex-shrink: &lt;number&gt;; /* default 1 */&#125; flex-basisï¼šå®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼ˆmain sizeï¼‰.æ³¨æ„ï¼šå®ƒå¯ä»¥è®¾ä¸ºè·Ÿ width æˆ– height å±æ€§ä¸€æ ·çš„å€¼ï¼ˆæ¯”å¦‚ 350pxï¼‰ï¼Œåˆ™é¡¹ç›®å°†å æ®å›ºå®šç©ºé—´ 123.item &#123; flex-basis: &lt;length&gt; | auto; /* default auto */&#125; flexï¼šæ˜¯ flex-grow, flex-shrink å’Œ flex-basis çš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º 0 1 autoã€‚åä¸¤ä¸ªå±æ€§å¯é€‰.align-self:å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›– align-items å±æ€§.é»˜è®¤å€¼ä¸º auto.123.item &#123; align-self: auto | flex-start | flex-end | center | baseline | stretch;&#125; å¥½å•¦,åˆ°æ­¤ç»“æŸï¼ æ³¨æ„äº‹é¡¹ ä»»ä½•ä¸€ä¸ªå…ƒç´ éƒ½å¯ä»¥ä½¿ç”¨ flex å¸ƒå±€ï¼Œè¡Œå†…å…ƒç´ ä½¿ç”¨ display:inline-flex; webkit å†…æ ¸çš„æµè§ˆå™¨å¿…é¡»åŠ ä¸Š-webkit å‰ç¼€ï¼šdisplayï¼š-webkit-flex; è®¾ç½® flex å¸ƒå±€ä»¥åï¼Œå­å…ƒç´ çš„è¿™ä¸‰ä¸ªå±æ€§å°†ä¼šå¤±æ•ˆ:float,clear,vertical-align.","categories":[{"name":"frontend","slug":"frontend","permalink":"https://chenhx9211.github.io/categories/frontend/"}],"tags":[{"name":"flex","slug":"flex","permalink":"https://chenhx9211.github.io/tags/flex/"}]},{"title":"ç»§æ‰¿çš„å¤šç§æ–¹å¼","slug":"å¤šç§ç»§æ‰¿æ–¹å¼","date":"2016-09-15T13:09:11.000Z","updated":"2019-06-19T12:31:46.913Z","comments":true,"path":"2016/09/15/å¤šç§ç»§æ‰¿æ–¹å¼/","link":"","permalink":"https://chenhx9211.github.io/2016/09/15/å¤šç§ç»§æ‰¿æ–¹å¼/","excerpt":"JavaScript å„ç§ç»§æ‰¿æ–¹å¼å’Œä¼˜ç¼ºç‚¹ã€‚","text":"JavaScript å„ç§ç»§æ‰¿æ–¹å¼å’Œä¼˜ç¼ºç‚¹ã€‚ åŸå‹é“¾ç»§æ‰¿123456789101112131415function Parent() &#123; this.name = \"kevin\";&#125;Parent.prototype.getName = function() &#123; console.log(this.name);&#125;;function Child() &#123;&#125;Child.prototype = new Parent();var child1 = new Child();console.log(child1.getName()); // kevin é—®é¢˜ï¼š 1.å¼•ç”¨ç±»å‹çš„å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº«ï¼Œä¸¾ä¸ªä¾‹å­ï¼š 1234567891011121314151617function Parent() &#123; this.names = [\"kevin\", \"daisy\"];&#125;function Child() &#123;&#125;Child.prototype = new Parent();var child1 = new Child();child1.names.push(\"yayu\");console.log(child1.names); // [\"kevin\", \"daisy\", \"yayu\"]var child2 = new Child();console.log(child2.names); // [\"kevin\", \"daisy\", \"yayu\"] 2.åœ¨åˆ›å»º Child çš„å®ä¾‹æ—¶ï¼Œä¸èƒ½å‘ Parent ä¼ å‚ 2.å€Ÿç”¨æ„é€ å‡½æ•°(ç»å…¸ç»§æ‰¿)1234567891011121314151617function Parent() &#123; this.names = [\"kevin\", \"daisy\"];&#125;function Child() &#123; Parent.call(this);&#125;var child1 = new Child();child1.names.push(\"yayu\");console.log(child1.names); // [\"kevin\", \"daisy\", \"yayu\"]var child2 = new Child();console.log(child2.names); // [\"kevin\", \"daisy\"] ä¼˜ç‚¹ï¼š 1.é¿å…äº†å¼•ç”¨ç±»å‹çš„å±æ€§è¢«æ‰€æœ‰å®ä¾‹å…±äº« 2.å¯ä»¥åœ¨ Child ä¸­å‘ Parent ä¼ å‚ ä¸¾ä¸ªä¾‹å­ï¼š 123456789101112131415function Parent(name) &#123; this.name = name;&#125;function Child(name) &#123; Parent.call(this, name);&#125;var child1 = new Child(\"kevin\");console.log(child1.name); // kevinvar child2 = new Child(\"daisy\");console.log(child2.name); // daisy ç¼ºç‚¹ï¼š æ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œæ¯æ¬¡åˆ›å»ºå®ä¾‹éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ã€‚ 3.ç»„åˆç»§æ‰¿åŸå‹é“¾ç»§æ‰¿å’Œç»å…¸ç»§æ‰¿åŒå‰‘åˆç’§ã€‚ 123456789101112131415161718192021222324252627282930function Parent(name) &#123; this.name = name; this.colors = [\"red\", \"blue\", \"green\"];&#125;Parent.prototype.getName = function() &#123; console.log(this.name);&#125;;function Child(name, age) &#123; Parent.call(this, name); this.age = age;&#125;Child.prototype = new Parent();var child1 = new Child(\"kevin\", \"18\");child1.colors.push(\"black\");console.log(child1.name); // kevinconsole.log(child1.age); // 18console.log(child1.colors); // [\"red\", \"blue\", \"green\", \"black\"]var child2 = new Child(\"daisy\", \"20\");console.log(child2.name); // daisyconsole.log(child2.age); // 20console.log(child2.colors); // [\"red\", \"blue\", \"green\"] ä¼˜ç‚¹ï¼šèåˆåŸå‹é“¾ç»§æ‰¿å’Œæ„é€ å‡½æ•°çš„ä¼˜ç‚¹ï¼Œæ˜¯ JavaScript ä¸­æœ€å¸¸ç”¨çš„ç»§æ‰¿æ¨¡å¼ã€‚ 4.åŸå‹å¼ç»§æ‰¿12345function createObj(o) &#123; function F() &#123;&#125; F.prototype = o; return new F();&#125; å°±æ˜¯ ES5 Object.create çš„æ¨¡æ‹Ÿå®ç°ï¼Œå°†ä¼ å…¥çš„å¯¹è±¡ä½œä¸ºåˆ›å»ºçš„å¯¹è±¡çš„åŸå‹ã€‚ ç¼ºç‚¹ï¼š åŒ…å«å¼•ç”¨ç±»å‹çš„å±æ€§å€¼å§‹ç»ˆéƒ½ä¼šå…±äº«ç›¸åº”çš„å€¼ï¼Œè¿™ç‚¹è·ŸåŸå‹é“¾ç»§æ‰¿ä¸€æ ·ã€‚ 12345678910111213var person = &#123; name: \"kevin\", friends: [\"daisy\", \"kelly\"]&#125;;var person1 = createObj(person);var person2 = createObj(person);person1.name = \"person1\";console.log(person2.name); // kevinperson1.firends.push(\"taylor\");console.log(person2.friends); // [\"daisy\", \"kelly\", \"taylor\"] æ³¨æ„ï¼šä¿®æ”¹person1.nameçš„å€¼ï¼Œperson2.nameçš„å€¼å¹¶æœªå‘ç”Ÿæ”¹å˜ï¼Œå¹¶ä¸æ˜¯å› ä¸ºperson1å’Œperson2æœ‰ç‹¬ç«‹çš„ name å€¼ï¼Œè€Œæ˜¯å› ä¸ºperson1.name = &#39;person1&#39;ï¼Œç»™person1æ·»åŠ äº† name å€¼ï¼Œå¹¶éä¿®æ”¹äº†åŸå‹ä¸Šçš„ name å€¼ã€‚ 5. å¯„ç”Ÿå¼ç»§æ‰¿åˆ›å»ºä¸€ä¸ªä»…ç”¨äºå°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨å†…éƒ¨ä»¥æŸç§å½¢å¼æ¥åšå¢å¼ºå¯¹è±¡ï¼Œæœ€åè¿”å›å¯¹è±¡ã€‚ 1234567function createObj(o) &#123; var clone = object.create(o); clone.sayName = function() &#123; console.log(\"hi\"); &#125;; return clone;&#125; ç¼ºç‚¹ï¼šè·Ÿå€Ÿç”¨æ„é€ å‡½æ•°æ¨¡å¼ä¸€æ ·ï¼Œæ¯æ¬¡åˆ›å»ºå¯¹è±¡éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•ã€‚ 6. å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ä¸ºäº†æ–¹ä¾¿å¤§å®¶é˜…è¯»ï¼Œåœ¨è¿™é‡Œé‡å¤ä¸€ä¸‹ç»„åˆç»§æ‰¿çš„ä»£ç ï¼š 12345678910111213141516171819function Parent(name) &#123; this.name = name; this.colors = [\"red\", \"blue\", \"green\"];&#125;Parent.prototype.getName = function() &#123; console.log(this.name);&#125;;function Child(name, age) &#123; Parent.call(this, name); this.age = age;&#125;Child.prototype = new Parent();var child1 = new Child(\"kevin\", \"18\");console.log(child1); ç»„åˆç»§æ‰¿æœ€å¤§çš„ç¼ºç‚¹æ˜¯ä¼šè°ƒç”¨ä¸¤æ¬¡çˆ¶æ„é€ å‡½æ•°ã€‚ ä¸€æ¬¡æ˜¯è®¾ç½®å­ç±»å‹å®ä¾‹çš„åŸå‹çš„æ—¶å€™ï¼š 1Child.prototype = new Parent(); ä¸€æ¬¡åœ¨åˆ›å»ºå­ç±»å‹å®ä¾‹çš„æ—¶å€™ï¼š 1var child1 = new Child(\"kevin\", \"18\"); å›æƒ³ä¸‹ new çš„æ¨¡æ‹Ÿå®ç°ï¼Œå…¶å®åœ¨è¿™å¥ä¸­ï¼Œæˆ‘ä»¬ä¼šæ‰§è¡Œï¼š 1Parent.call(this, name); åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åˆä¼šè°ƒç”¨äº†ä¸€æ¬¡ Parent æ„é€ å‡½æ•°ã€‚ æ‰€ä»¥ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æ‰“å° child1 å¯¹è±¡ï¼Œæˆ‘ä»¬ä¼šå‘ç° Child.prototype å’Œ child1 éƒ½æœ‰ä¸€ä¸ªå±æ€§ä¸ºcolorsï¼Œå±æ€§å€¼ä¸º[&#39;red&#39;, &#39;blue&#39;, &#39;green&#39;]ã€‚ é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•ç²¾ç›Šæ±‚ç²¾ï¼Œé¿å…è¿™ä¸€æ¬¡é‡å¤è°ƒç”¨å‘¢ï¼Ÿ å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨ Child.prototype = new Parent() ï¼Œè€Œæ˜¯é—´æ¥çš„è®© Child.prototype è®¿é—®åˆ° Parent.prototype å‘¢ï¼Ÿ çœ‹çœ‹å¦‚ä½•å®ç°ï¼š 123456789101112131415161718192021222324function Parent(name) &#123; this.name = name; this.colors = [\"red\", \"blue\", \"green\"];&#125;Parent.prototype.getName = function() &#123; console.log(this.name);&#125;;function Child(name, age) &#123; Parent.call(this, name); this.age = age;&#125;// å…³é”®çš„ä¸‰æ­¥var F = function() &#123;&#125;;F.prototype = Parent.prototype;Child.prototype = new F();var child1 = new Child(\"kevin\", \"18\");console.log(child1); æœ€åæˆ‘ä»¬å°è£…ä¸€ä¸‹è¿™ä¸ªç»§æ‰¿æ–¹æ³•ï¼š 1234567891011121314function object(o) &#123; function F() &#123;&#125; F.prototype = o; return new F();&#125;function prototype(child, parent) &#123; var prototype = object(parent.prototype); prototype.constructor = child; child.prototype = prototype;&#125;// å½“æˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™ï¼šprototype(Child, Parent); å¼•ç”¨ã€ŠJavaScript é«˜çº§ç¨‹åºè®¾è®¡ã€‹ä¸­å¯¹å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿çš„å¤¸èµå°±æ˜¯ï¼š è¿™ç§æ–¹å¼çš„é«˜æ•ˆç‡ä½“ç°å®ƒåªè°ƒç”¨äº†ä¸€æ¬¡ Parent æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”å› æ­¤é¿å…äº†åœ¨ Parent.prototype ä¸Šé¢åˆ›å»ºä¸å¿…è¦çš„ã€å¤šä½™çš„å±æ€§ã€‚ä¸æ­¤åŒæ—¶ï¼ŒåŸå‹é“¾è¿˜èƒ½ä¿æŒä¸å˜ï¼›å› æ­¤ï¼Œè¿˜èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ instanceof å’Œ isPrototypeOfã€‚å¼€å‘äººå‘˜æ™®éè®¤ä¸ºå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿æ˜¯å¼•ç”¨ç±»å‹æœ€ç†æƒ³çš„ç»§æ‰¿èŒƒå¼ã€‚","categories":[{"name":"javascript","slug":"javascript","permalink":"https://chenhx9211.github.io/categories/javascript/"}],"tags":[]},{"title":"åŸå‹å’ŒåŸå‹é“¾","slug":"åŸå‹å’ŒåŸå‹é“¾","date":"2016-07-02T03:29:07.000Z","updated":"2019-06-19T12:31:08.662Z","comments":true,"path":"2016/07/02/åŸå‹å’ŒåŸå‹é“¾/","link":"","permalink":"https://chenhx9211.github.io/2016/07/02/åŸå‹å’ŒåŸå‹é“¾/","excerpt":"","text":"æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡æˆ‘ä»¬å…ˆä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼š 1234function Person() &#123;&#125;var person = new Person();person.name = \"Kevin\";console.log(person.name); // Kevin åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒPerson å°±æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬ä½¿ç”¨ new åˆ›å»ºäº†ä¸€ä¸ªå®ä¾‹å¯¹è±¡ personã€‚ å¾ˆç®€å•å§ï¼Œæ¥ä¸‹æ¥è¿›å…¥æ­£é¢˜ï¼š prototypeæ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§ï¼Œå°±æ˜¯æˆ‘ä»¬ç»å¸¸åœ¨å„ç§ä¾‹å­ä¸­çœ‹åˆ°çš„é‚£ä¸ª prototype ï¼Œæ¯”å¦‚ï¼š 12345678function Person() &#123;&#125;// è™½ç„¶å†™åœ¨æ³¨é‡Šé‡Œï¼Œä½†æ˜¯ä½ è¦æ³¨æ„ï¼š// prototypeæ˜¯å‡½æ•°æ‰ä¼šæœ‰çš„å±æ€§Person.prototype.name = \"Kevin\";var person1 = new Person();var person2 = new Person();console.log(person1.name); // Kevinconsole.log(person2.name); // Kevin é‚£è¿™ä¸ªå‡½æ•°çš„ prototype å±æ€§åˆ°åº•æŒ‡å‘çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯è¿™ä¸ªå‡½æ•°çš„åŸå‹å—ï¼Ÿ å…¶å®ï¼Œå‡½æ•°çš„ prototype å±æ€§æŒ‡å‘äº†ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ­£æ˜¯è°ƒç”¨è¯¥æ„é€ å‡½æ•°è€Œåˆ›å»ºçš„å®ä¾‹çš„åŸå‹ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªä¾‹å­ä¸­çš„ person1 å’Œ person2 çš„åŸå‹ã€‚ é‚£ä»€ä¹ˆæ˜¯åŸå‹å‘¢ï¼Ÿä½ å¯ä»¥è¿™æ ·ç†è§£ï¼šæ¯ä¸€ä¸ª JavaScript å¯¹è±¡(null é™¤å¤–)åœ¨åˆ›å»ºçš„æ—¶å€™å°±ä¼šä¸ä¹‹å…³è”å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„åŸå‹ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹â€ç»§æ‰¿â€å±æ€§ã€‚ è®©æˆ‘ä»¬ç”¨ä¸€å¼ å›¾è¡¨ç¤ºæ„é€ å‡½æ•°å’Œå®ä¾‹åŸå‹ä¹‹é—´çš„å…³ç³»ï¼š åœ¨è¿™å¼ å›¾ä¸­æˆ‘ä»¬ç”¨ Object.prototype è¡¨ç¤ºå®ä¾‹åŸå‹ã€‚ é‚£ä¹ˆæˆ‘ä»¬è¯¥æ€ä¹ˆè¡¨ç¤ºå®ä¾‹ä¸å®ä¾‹åŸå‹ï¼Œä¹Ÿå°±æ˜¯ person å’Œ Person.prototype ä¹‹é—´çš„å…³ç³»å‘¢ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±è¦è®²åˆ°ç¬¬äºŒä¸ªå±æ€§ï¼š __proto__è¿™æ˜¯æ¯ä¸€ä¸ª JavaScript å¯¹è±¡(é™¤äº† null )éƒ½å…·æœ‰çš„ä¸€ä¸ªå±æ€§ï¼Œå«__proto__ï¼Œè¿™ä¸ªå±æ€§ä¼šæŒ‡å‘è¯¥å¯¹è±¡çš„åŸå‹ã€‚ ä¸ºäº†è¯æ˜è¿™ä¸€ç‚¹,æˆ‘ä»¬å¯ä»¥åœ¨ç«ç‹æˆ–è€…è°·æ­Œä¸­è¾“å…¥ï¼š 123function Person() &#123;&#125;var person = new Person();console.log(person.__proto__ === Person.prototype); // true äºæ˜¯æˆ‘ä»¬æ›´æ–°ä¸‹å…³ç³»å›¾ï¼š æ—¢ç„¶å®ä¾‹å¯¹è±¡å’Œæ„é€ å‡½æ•°éƒ½å¯ä»¥æŒ‡å‘åŸå‹ï¼Œé‚£ä¹ˆåŸå‹æ˜¯å¦æœ‰å±æ€§æŒ‡å‘æ„é€ å‡½æ•°æˆ–è€…å®ä¾‹å‘¢ï¼Ÿ constructoræŒ‡å‘å®ä¾‹å€’æ˜¯æ²¡æœ‰ï¼Œå› ä¸ºä¸€ä¸ªæ„é€ å‡½æ•°å¯ä»¥ç”Ÿæˆå¤šä¸ªå®ä¾‹ï¼Œä½†æ˜¯åŸå‹æŒ‡å‘æ„é€ å‡½æ•°å€’æ˜¯æœ‰çš„ï¼Œè¿™å°±è¦è®²åˆ°ç¬¬ä¸‰ä¸ªå±æ€§ï¼šconstructor ï¼Œæ¯ä¸ªåŸå‹éƒ½æœ‰ä¸€ä¸ª constructor å±æ€§æŒ‡å‘å…³è”çš„æ„é€ å‡½æ•°ã€‚ ä¸ºäº†éªŒè¯è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ï¼š 12function Person() &#123;&#125;console.log(Person === Person.prototype.constructor); // true æ‰€ä»¥å†æ›´æ–°ä¸‹å…³ç³»å›¾ï¼š ç»¼ä¸Šæˆ‘ä»¬å·²ç»å¾—å‡ºï¼š 12345678function Person() &#123;&#125;var person = new Person();console.log(person.__proto__ == Person.prototype); // trueconsole.log(Person.prototype.constructor == Person); // true// é¡ºä¾¿å­¦ä¹ ä¸€ä¸ªES5çš„æ–¹æ³•,å¯ä»¥è·å¾—å¯¹è±¡çš„åŸå‹console.log(Object.getPrototypeOf(person) === Person.prototype); // true äº†è§£äº†æ„é€ å‡½æ•°ã€å®ä¾‹åŸå‹ã€å’Œå®ä¾‹ä¹‹é—´çš„å…³ç³»ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è®²è®²å®ä¾‹å’ŒåŸå‹çš„å…³ç³»ï¼š å®ä¾‹ä¸åŸå‹å½“è¯»å–å®ä¾‹çš„å±æ€§æ—¶ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±ä¼šæŸ¥æ‰¾ä¸å¯¹è±¡å…³è”çš„åŸå‹ä¸­çš„å±æ€§ï¼Œå¦‚æœè¿˜æŸ¥ä¸åˆ°ï¼Œå°±å»æ‰¾åŸå‹çš„åŸå‹ï¼Œä¸€ç›´æ‰¾åˆ°æœ€é¡¶å±‚ä¸ºæ­¢ã€‚ ä¸¾ä¸ªä¾‹å­ï¼š 1234567891011function Person() &#123;&#125;Person.prototype.name = \"Kevin\";var person = new Person();person.name = \"Daisy\";console.log(person.name); // Daisydelete person.name;console.log(person.name); // Kevin åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ç»™å®ä¾‹å¯¹è±¡ person æ·»åŠ äº† name å±æ€§ï¼Œå½“æˆ‘ä»¬æ‰“å° person.name çš„æ—¶å€™ï¼Œç»“æœè‡ªç„¶ä¸º Daisyã€‚ ä½†æ˜¯å½“æˆ‘ä»¬åˆ é™¤äº† person çš„ name å±æ€§æ—¶ï¼Œè¯»å– person.nameï¼Œä» person å¯¹è±¡ä¸­æ‰¾ä¸åˆ° name å±æ€§å°±ä¼šä» person çš„åŸå‹ä¹Ÿå°±æ˜¯ person.__proto__ ï¼Œä¹Ÿå°±æ˜¯ Person.prototype ä¸­æŸ¥æ‰¾ï¼Œå¹¸è¿çš„æ˜¯æˆ‘ä»¬æ‰¾åˆ°äº† name å±æ€§ï¼Œç»“æœä¸º Kevinã€‚ ä½†æ˜¯ä¸‡ä¸€è¿˜æ²¡æœ‰æ‰¾åˆ°å‘¢ï¼ŸåŸå‹çš„åŸå‹åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ åŸå‹çš„åŸå‹åœ¨å‰é¢ï¼Œæˆ‘ä»¬å·²ç»è®²äº†åŸå‹ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ—¢ç„¶æ˜¯å¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨æœ€åŸå§‹çš„æ–¹å¼åˆ›å»ºå®ƒï¼Œé‚£å°±æ˜¯ï¼š 123var obj = new Object();obj.name = \"Kevin\";console.log(obj.name); // Kevin æ‰€ä»¥åŸå‹å¯¹è±¡æ˜¯é€šè¿‡ Object æ„é€ å‡½æ•°ç”Ÿæˆçš„ï¼Œç»“åˆä¹‹å‰æ‰€è®²ï¼Œå®ä¾‹çš„ __proto__ æŒ‡å‘æ„é€ å‡½æ•°çš„ prototype ï¼Œæ‰€ä»¥æˆ‘ä»¬å†æ›´æ–°ä¸‹å…³ç³»å›¾ï¼š åŸå‹é“¾é‚£ Object.prototype çš„åŸå‹å‘¢ï¼Ÿ nullï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å°ï¼š 1console.log(Object.prototype.__proto__ === null); // true ç„¶è€Œ null ç©¶ç«Ÿä»£è¡¨äº†ä»€ä¹ˆå‘¢ï¼Ÿ å¼•ç”¨é˜®ä¸€å³°è€å¸ˆçš„ ã€Šundefined ä¸ null çš„åŒºåˆ«ã€‹ å°±æ˜¯ï¼š null è¡¨ç¤ºâ€œæ²¡æœ‰å¯¹è±¡â€ï¼Œå³è¯¥å¤„ä¸åº”è¯¥æœ‰å€¼ã€‚ æ‰€ä»¥ Object.prototype.__proto__ çš„å€¼ä¸º null è·Ÿ Object.prototype æ²¡æœ‰åŸå‹ï¼Œå…¶å®è¡¨è¾¾äº†ä¸€ä¸ªæ„æ€ã€‚ æ‰€ä»¥æŸ¥æ‰¾å±æ€§çš„æ—¶å€™æŸ¥åˆ° Object.prototype å°±å¯ä»¥åœæ­¢æŸ¥æ‰¾äº†ã€‚ æœ€åä¸€å¼ å…³ç³»å›¾ä¹Ÿå¯ä»¥æ›´æ–°ä¸ºï¼š é¡ºä¾¿è¿˜è¦è¯´ä¸€ä¸‹ï¼Œå›¾ä¸­ç”±ç›¸äº’å…³è”çš„åŸå‹ç»„æˆçš„é“¾çŠ¶ç»“æ„å°±æ˜¯åŸå‹é“¾ï¼Œä¹Ÿå°±æ˜¯è“è‰²çš„è¿™æ¡çº¿ã€‚ è¡¥å……æœ€åï¼Œè¡¥å……ä¸‰ç‚¹å¤§å®¶å¯èƒ½ä¸ä¼šæ³¨æ„çš„åœ°æ–¹ï¼š constructoré¦–å…ˆæ˜¯ constructor å±æ€§ï¼Œæˆ‘ä»¬çœ‹ä¸ªä¾‹å­ï¼š 123function Person() &#123;&#125;var person = new Person();console.log(person.constructor === Person); // true å½“è·å– person.constructor æ—¶ï¼Œå…¶å® person ä¸­å¹¶æ²¡æœ‰ constructor å±æ€§,å½“ä¸èƒ½è¯»å–åˆ° constructor å±æ€§æ—¶ï¼Œä¼šä» person çš„åŸå‹ä¹Ÿå°±æ˜¯ Person.prototype ä¸­è¯»å–ï¼Œæ­£å¥½åŸå‹ä¸­æœ‰è¯¥å±æ€§ï¼Œæ‰€ä»¥ï¼š 1person.constructor === Person.prototype.constructor; __proto__å…¶æ¬¡æ˜¯ __proto__ ï¼Œç»å¤§éƒ¨åˆ†æµè§ˆå™¨éƒ½æ”¯æŒè¿™ä¸ªéæ ‡å‡†çš„æ–¹æ³•è®¿é—®åŸå‹ï¼Œç„¶è€Œå®ƒå¹¶ä¸å­˜åœ¨äº Person.prototype ä¸­ï¼Œå®é™…ä¸Šï¼Œå®ƒæ˜¯æ¥è‡ªäº Object.prototype ï¼Œä¸å…¶è¯´æ˜¯ä¸€ä¸ªå±æ€§ï¼Œä¸å¦‚è¯´æ˜¯ä¸€ä¸ª getter/setterï¼Œå½“ä½¿ç”¨ obj.__proto__ æ—¶ï¼Œå¯ä»¥ç†è§£æˆè¿”å›äº† Object.getPrototypeOf(obj)ã€‚ çœŸçš„æ˜¯ç»§æ‰¿å—ï¼Ÿæœ€åæ˜¯å…³äºç»§æ‰¿ï¼Œå‰é¢æˆ‘ä»¬è®²åˆ°â€œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä¼šä»åŸå‹â€˜ç»§æ‰¿â€™å±æ€§â€ï¼Œå®é™…ä¸Šï¼Œç»§æ‰¿æ˜¯ä¸€ä¸ªååˆ†å…·æœ‰è¿·æƒ‘æ€§çš„è¯´æ³•ï¼Œå¼•ç”¨ã€Šä½ ä¸çŸ¥é“çš„ JavaScriptã€‹ä¸­çš„è¯ï¼Œå°±æ˜¯ï¼š ç»§æ‰¿æ„å‘³ç€å¤åˆ¶æ“ä½œï¼Œç„¶è€Œ JavaScript é»˜è®¤å¹¶ä¸ä¼šå¤åˆ¶å¯¹è±¡çš„å±æ€§ï¼Œç›¸åï¼ŒJavaScript åªæ˜¯åœ¨ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´åˆ›å»ºä¸€ä¸ªå…³è”ï¼Œè¿™æ ·ï¼Œä¸€ä¸ªå¯¹è±¡å°±å¯ä»¥é€šè¿‡å§”æ‰˜è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å’Œå‡½æ•°ï¼Œæ‰€ä»¥ä¸å…¶å«ç»§æ‰¿ï¼Œå§”æ‰˜çš„è¯´æ³•åè€Œæ›´å‡†ç¡®äº›ã€‚","categories":[{"name":"javascript","slug":"javascript","permalink":"https://chenhx9211.github.io/categories/javascript/"}],"tags":[{"name":"åŸå‹","slug":"åŸå‹","permalink":"https://chenhx9211.github.io/tags/åŸå‹/"}]},{"title":"JavaScriptä»£ç çš„è§£é‡Šå’Œæ‰§è¡Œ","slug":"JavaScriptä»£ç çš„è§£é‡Šå’Œæ‰§è¡Œ","date":"2016-04-20T13:09:11.000Z","updated":"2019-06-19T12:30:11.774Z","comments":true,"path":"2016/04/20/JavaScriptä»£ç çš„è§£é‡Šå’Œæ‰§è¡Œ/","link":"","permalink":"https://chenhx9211.github.io/2016/04/20/JavaScriptä»£ç çš„è§£é‡Šå’Œæ‰§è¡Œ/","excerpt":"å½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆã€å˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾å¦‚ä½•å˜åŒ–ã€‚","text":"å½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆã€å˜é‡å¯¹è±¡ã€ä½œç”¨åŸŸé“¾å¦‚ä½•å˜åŒ–ã€‚ &emsp;&emsp;æ¯”è¾ƒä¸¤æ®µä»£ç  1234567891011var foo = function() &#123; console.log(\"foo1\");&#125;;foo(); // foo1var foo = function() &#123; console.log(\"foo2\");&#125;;foo(); // foo2 &emsp;&emsp;ä¸‹é¢ä¸€æ®µä»£ç ï¼š 1234567891011function foo() &#123; console.log(\"foo1\");&#125;foo(); // foo2function foo() &#123; console.log(\"foo2\");&#125;foo(); // foo2 æ‰“å°çš„ç»“æœå´æ˜¯ä¸¤ä¸ª foo2ã€‚ JavaScript å¼•æ“å¹¶éä¸€è¡Œä¸€è¡Œåœ°åˆ†æè§£é‡Šå’Œæ‰§è¡Œä»£ç ï¼Œè€Œæ˜¯å…ˆæŠŠæ•´æ®µä»£ç åˆ†æè§£é‡Šå®Œæˆåå†æ‰§è¡Œã€‚åˆ†æä»£ç æ—¶ï¼Œå¦‚æœæœ‰é‡å¤å‡½æ•°çš„å®šä¹‰ï¼Œå‰é¢çš„å®šä¹‰ä¼šè¢«åé¢çš„è¦†ç›–ã€‚ä¸Šé¢çš„ä»£ç ä¸­ï¼Œç¬¬ä¸€æ®µä»£ç å‡½æ•°å®šä¹‰é‡‡ç”¨åŒ¿åæ–¹å¼ï¼Œç¬¬äºŒæ®µä»£ç å‘½åå‡½æ•° foo çš„å®šä¹‰ï¼Œå‰è€…è¢«åè€…è¦†ç›–ã€‚","categories":[{"name":"javascript","slug":"javascript","permalink":"https://chenhx9211.github.io/categories/javascript/"}],"tags":[]}]}